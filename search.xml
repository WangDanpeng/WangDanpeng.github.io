<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>GitHub-æ•´ä¸ªæ´», å¥½çœ‹çš„GitHubè‡ªæˆ‘ä»‹ç»</title>
    <url>/2020/11/19/20201119190543/</url>
    <content><![CDATA[<p>çªç„¶å‘ç°, åœ¨GitHubåˆ›å»ºå’Œç”¨æˆ·ååŒåçš„ä»“åº“ä¼šæœ‰å½©è›‹, å‘<br>
<img src="http://www.wangdanpeng.com/img/20201119190543-1.png" alt="å½©è›‹"><br>
æ„æ€è¯´è¿™æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„åº“, å®ƒçš„README.mdæ–‡ä»¶çš„å†…å®¹å°†ä¼šæ˜¾ç¤ºåˆ°ä½ çš„ä¸»é¡µä¸Š<br>
é‚£ä¹ˆå’±ä»¬å°±å¯ä»¥ç”¨markdownåœ¨è¿™é‡Œå†™ä¸€äº›å¸¦æ ¼å¼çš„è‡ªæˆ‘ä»‹ç»(å°½æƒ…å‘æŒ¥è„‘æ´)</p>
<p>å¦å¤–å‘¢, è¿˜æœ‰è¿™ä¹ˆä¸€ä¸ªé¡¹ç›® <a href="https://github.com/anuraghazra/github-readme-stats/blob/master/docs/readme_cn.md" target="_blank" rel="noopener">github-readme-stats</a><br>
å¯ä»¥åŠ¨æ€è·å–ä½ çš„è´¦æˆ·çš„ç»Ÿè®¡ä¿¡æ¯, å…·ä½“å†…å®¹çœ‹å®ƒçš„ä»‹ç», ä¸»é¢˜ä¹Ÿå¯ä»¥é€‰æ‹©<br>
å¦å¤–æ­é…<code>&lt;img&gt;</code>æ ‡ç­¾, å¯ä»¥æ§åˆ¶å±•ç¤ºçš„ä½ç½®, æ¯”å¦‚ä»¥ä¸‹è®©ä»–é å³</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">align</span>=<span class="string">"right"</span> <span class="attr">src</span>=<span class="string">"https://github-readme-stats.vercel.app/api?username=WangDanPeng&amp;show_icons=true"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é‚£ä¹ˆæœ€ç»ˆæ•ˆæœå°±å¦‚ä¸‹äº†<br>
<img src="http://www.wangdanpeng.com/img/20201119190543-2.png" alt="æ•ˆæœå›¾"><br>
èµğŸ‘</p>
]]></content>
      <categories>
        <category>GitHub</category>
      </categories>
      <tags>
        <tag>GitHub</tag>
      </tags>
  </entry>
  <entry>
    <title>Git-åœ¨æœ¬åœ°ä½¿ç”¨å¤šä¸ªgitè´¦å·</title>
    <url>/2020/11/18/20201118183648/</url>
    <content><![CDATA[<p>å¦‚ä½•è®¾ç½®åœ¨æœ¬åœ°ä½¿ç”¨å¤šä¸ªGitè´¦å·, æ¯”å¦‚ä¸€ä¸ªå…¬å¸çš„gitlabè´¦å·å’Œä¸€ä¸ªæœ¬äººçš„githubè´¦å·</p>
<p>1 åˆ†åˆ«ç»™æ¯ä¸ªè´¦å·ç”Ÿæˆsshå¯†é’¥<br>
é»˜è®¤çš„ç”Ÿæˆè·¯å¾„åœ¨~/.ssh/id_rea, è®°å¾—æŒ‡å®šæ–‡ä»¶åæ”¹åœ°å€é˜²æ­¢è¦†ç›–å½“å‰çš„, ä¾‹å¦‚~/.ssh/id_rsa_gh</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;xxx@gmail.com&quot;</span><br></pre></td></tr></table></figure>
<p>2 æŠŠç”Ÿæˆå¥½çš„key, å¯¹åº”åˆ›å»ºåˆ°githubå’Œå…¬å¸çš„gitlabé‡Œ</p>
<p>3 è®©sshè¯†åˆ«æ–°å¯†é’¥, æ·»åŠ åˆ°ssh agent</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh-add ~&#x2F;.ssh&#x2F;id_rsa_gh</span><br></pre></td></tr></table></figure>
<p>4 é…ç½®config<br>
<code>~/.ssh/config</code>æ–‡ä»¶, æ²¡æœ‰å°±åˆ›å»ºä¸€ä¸ª, æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#å…¬å¸çš„</span><br><span class="line">Host gitlab.com</span><br><span class="line">HostName gitlab.com</span><br><span class="line">User xxx@å…¬å¸é‚®ç®±.com</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_work</span><br><span class="line"></span><br><span class="line">#ä¸ªäººçš„</span><br><span class="line">Host github.com</span><br><span class="line">HostName github.com</span><br><span class="line">User xxx@gmail.com</span><br><span class="line">IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_gh</span><br></pre></td></tr></table></figure>
<p>æµ‹è¯•ä¸€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com(github.comæ˜¯ä½ çš„host)</span><br></pre></td></tr></table></figure>
<p>5 åˆ æ‰æ›¾ç»è®¾ç½®è¿‡çš„å…¨å±€å˜é‡ ~/.gitconfig<br>
å¯¹å•ä¸ªé¡¹ç›®è®¾ç½®ç”¨æˆ·åå’Œé‚®ç®±</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git config user.name &quot;xxx&quot;</span><br><span class="line">git config user.email &quot;xxx@gmail.com&quot;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Git-è®°ä¸ä½çš„å‘½ä»¤æ•´ç†</title>
    <url>/2017/03/18/20170318053142/</url>
    <content><![CDATA[<p>gitä½œä¸ºä»£ç ç®¡ç†å·¥å…·åŸºæœ¬ä¸Šæ¯å¤©éƒ½åœ¨ä½¿ç”¨ä¸­, ç„¶è€Œæœ‰æ—¶å€™æ€»æœ‰ä¸€äº›éš¾è®°çš„å‘½ä»¤è®©æˆ‘æ¯æ¬¡ç”¨éƒ½éœ€è¦å»ç™¾åº¦, å¹²è„†æŠŠå®ƒä»¬æ•´ç†å‡ºæ¥, ä»¥åå†é‡åˆ°ç›´æ¥çœ‹è‡ªå·±åšå®¢å°±å¥½å•¦, hah</p>
<p>1.å¿½ç•¥å·²ç»addè¿›æš‚å­˜åŒºçš„æ–‡ä»¶<br>
æœ‰æ—¶å€™ä¸€ä¸ç•™ç¥ä¼šæŠŠä¸€äº›å¹¶ä¸æƒ³æäº¤çš„ä¸œè¥¿ä¸€èµ·addåˆ°æš‚å­˜åŒº, ä¸€ä¸‹ä¸¤ä¸‹æƒ³ä¸èµ·æ¥è¯¥ç”¨ä»€ä¹ˆå‘½ä»¤, ç½‘ä¸Šæœçš„æœ‰çš„è¿˜ä¸å¯¹, ä¸‹é¢ç»™å‡ºæ­£è§£:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŠŠæ–‡ä»¶ä»æš‚å­˜åŒºç§»é™¤</span></span><br><span class="line">git reset HEAD xxx</span><br></pre></td></tr></table></figure>
<p>2.æ”¾å¼ƒä¸€äº›æœ¬åœ°çš„ä¿®æ”¹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æ”¾å¼ƒä¸€ä¸ªæ–‡ä»¶ä¿®æ”¹</span></span><br><span class="line">git checkout xxx</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ”¾å¼ƒå½“å‰æ–‡ä»¶å¤¹æ‰€æœ‰æ–‡ä»¶çš„ä¿®æ”¹</span></span><br><span class="line">git checkout .</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¼šé€€åˆ°æŸä¸ªç‰ˆæœ¬</span></span><br><span class="line">git reset --hard xxxç‰ˆæœ¬å·</span><br></pre></td></tr></table></figure>
<p>3.åˆ‡æ¢åˆ†æ”¯ä¿å­˜ä»£ç <br>
æœ‰æ—¶å†™äº†ä¸€éƒ¨åˆ†ä»£ç ä½†æ˜¯çªç„¶éœ€è¦åˆ‡æ¢åˆ†æ”¯æˆ–è€…å…¶ä»–æ“ä½œ, éœ€è¦æŠŠå½“å‰ä¿®æ”¹æš‚å­˜ä¸€ä¸‹, é‚£å°±ä¸‹é¢ç”¨åˆ°çš„å‘½ä»¤</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æš‚å­˜ä¿¡æ¯</span></span><br><span class="line">git stash</span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–å­˜å…¥çš„ä¿¡æ¯</span></span><br><span class="line">git stash pop</span><br></pre></td></tr></table></figure>
<p>4.commit messageå†™é”™<br>
å¦‚æœå°šæœªpushåˆ°è¿œç«¯, åªéœ€è¦</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git commit --amend</span><br></pre></td></tr></table></figure>
<p>5.åˆ é™¤è¿œç«¯åˆ†æ”¯</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git push --delete åˆ†æ”¯å</span><br></pre></td></tr></table></figure>
<p>6.é‡å‘½åæœ¬åœ°åˆ†æ”¯</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git branch -m æ—§åˆ†æ”¯å æ–°åˆ†æ”¯å</span><br></pre></td></tr></table></figure>
<p>æœ€è¿‘æ”¶è—çš„å°±è¿™å‡ æ¡å‘½ä»¤äº†, ä»¥åå†æœ‰è®°ä¸ä½çš„éšæ—¶æ›´æ–°, å¦é™„ä¸Šæˆ‘åˆå­¦gitçš„å¯è’™æ–‡æ¡£ <a href="http://git.oschina.net/progit/" target="_blank" rel="noopener">Pro Git(ä¸­æ–‡ç‰ˆ)</a>.</p>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo-Hello World</title>
    <url>/2017/02/18/20170218153653/</url>
    <content><![CDATA[<p>å¥½ä¹…æ²¡æœ‰ç»´æŠ¤æˆ‘çš„ç½‘ç«™, ä¹Ÿæ‡’å¾—ä¹°æœåŠ¡å™¨, ç›´æ¥åœ¨githubä¸Šç”¨hexoæ­äº†è¿™ä¹ˆä¸€ä¸ªåšå®¢, è¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„, æ•™ç¨‹å¦‚ä¸‹:</p>
<p><a href="http://www.wuxubj.cn/2016/08/Hexo-nexT-build-personal-blog/" target="_blank" rel="noopener">Hexo+NexTä¸»é¢˜æ­å»ºä¸ªäººåšå®¢</a></p>
<p>é¡ºä¾¿è´´ä¸Šæ¯”è¾ƒå¸¸ç”¨çš„å‘½ä»¤, å’Œå…³é”®æ–‡ä»¶ä½ç½®, çœçš„æˆ‘è¿™ä¸ªè®°æ€§æ‰­å¤´å°±å¿˜äº†.</p>
<h2 id="å‘½ä»¤">å‘½ä»¤</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo g                        # ç”Ÿæˆpublicé™æ€èµ„æº</span><br><span class="line"></span><br><span class="line">hexo s                        # å¯åŠ¨æœåŠ¡</span><br><span class="line"></span><br><span class="line">hexo d                        # æäº¤åˆ°GitHub</span><br><span class="line"></span><br><span class="line">hexo clean                    # æ¸…é™¤é™æ€èµ„æº</span><br><span class="line"></span><br><span class="line">hexo n page &quot;xxx&quot;             # ç”Ÿæˆxxxé¡µé¢</span><br><span class="line"></span><br><span class="line">hexo n &quot;xxx&quot;                  # ç”Ÿæˆæ–‡ç« </span><br></pre></td></tr></table></figure>
<h2 id="é‡è¦æ–‡ä»¶">é‡è¦æ–‡ä»¶</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">blog&#x2F;_config.yml              # ç«™ç‚¹é…ç½®æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">blog&#x2F;themes&#x2F;next&#x2F;_config.yml  # ä¸»é¢˜é…ç½®æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<h2 id="å…¶ä»–">å…¶ä»–</h2>
<p>å¦‚æœæƒ³ç»™é¡¹ç›®åŠ READMEæ–‡ä»¶, æŠŠåç¼€åæ”¹æˆ&quot;MDOWN&quot;å¹¶æ”¾åˆ°sourceæ–‡ä»¶å¤¹ä¸‹å³å¯.</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo-live2dæ’ä»¶ç»™ä½ çš„åšå®¢åŠ ä¸€åªå¯çˆ±çš„çœ‹æ¿å¨˜</title>
    <url>/2020/09/12/20200912164541/</url>
    <content><![CDATA[<h2 id="ç®€ä»‹">ç®€ä»‹</h2>
<p>æ”¾ä¸€åªç®€ç®€å•å•çš„çœ‹æ¿å¨˜, æ²¡æœ‰ä»€ä¹ˆäº’åŠ¨, å®‰å®‰é™é™çš„é™ªç€ä½ è¯»åšå®¢.<br>
æ’ä»¶githubåœ°å€ -&gt; <a href="https://github.com/EYHN/hexo-helper-live2d/blob/master/README.zh-CN.md" target="_blank" rel="noopener">hexo-helper-live2d</a><br>
æˆ‘çš„åšå®¢æ•ˆæœå›¾ -&gt; <a href="http://www.wangdanpeng.com/2020/09/12/20200912164541/">Mr.Wang_Blog</a></p>
<h2 id="æ¨¡å—å®‰è£…">æ¨¡å—å®‰è£…</h2>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm install --save hexo-helper-live2d</span><br></pre></td></tr></table></figure>
<h2 id="å‡†å¤‡å·¥ä½œ">å‡†å¤‡å·¥ä½œ</h2>
<p>ä»¥<code>live2d-widget-model-miku</code>æ¨¡å‹ä¸ºä¾‹</p>
<ol>
<li>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>live2d_models</code>æ–‡ä»¶å¤¹.</li>
<li>ä½¿ç”¨<code>npm install live2d-widget-model-miku</code>ä¸‹è½½æ¨¡å‹, å¹¶å°†æ¨¡å‹ç›®å½•<code>live2d-widget-model-miku</code>ä»<code>node_modules</code>é‡Œå¤åˆ¶åˆ°<code>live2d_models</code>ä¸‹.</li>
<li>è¿›å…¥<code>live2d-widget-model-miku</code>, æŠŠ<code>assets</code>é‡Œçš„å†…å®¹å¤åˆ¶åˆ°å¤–ä¸€å±‚.</li>
<li>æ·»åŠ å¦‚ä¸‹é…ç½®æ–‡ä»¶, å¹¶ä¿®æ”¹useçš„æ¨¡å‹åç§°ä¸º<code>live2d-widget-model-miku</code>, éƒ¨ç½²å³å¯çœ‹åˆ°æ•ˆæœ.</li>
</ol>
<h2 id="é…ç½®">é…ç½®</h2>
<p>å‘åšå®¢æ ¹ç›®å½•çš„<code>_config.yml</code>é…ç½®æ–‡ä»¶æ·»åŠ é…ç½®, å¯ä»¥è‡ªå·±å¾®è°ƒ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  enable: true</span><br><span class="line">  scriptFrom: local</span><br><span class="line">  pluginRootPath: live2dw&#x2F;</span><br><span class="line">  pluginJsPath: lib&#x2F;</span><br><span class="line">  pluginModelPath: assets&#x2F;</span><br><span class="line">  tagMode: false</span><br><span class="line">  debug: false</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-wanko # ä½¿ç”¨çš„æ¨¡å‹åç§°</span><br><span class="line">  display:</span><br><span class="line">    position: right # åœ¨é¡µé¢é‡Œçš„ä½ç½®</span><br><span class="line">    hOffset: 0 # æ°´å¹³åç§»é‡, è‡ªå·±å¾®è°ƒ</span><br><span class="line">    vOffset: -20 # å‚ç›´åç§»é‡, è‡ªå·±å¾®è°ƒ</span><br><span class="line">    width: 150 </span><br><span class="line">    height: 300</span><br><span class="line">  mobile:</span><br><span class="line">    show: true</span><br><span class="line">  react:</span><br><span class="line">    opacity: 0.7 # é€æ˜åº¦</span><br></pre></td></tr></table></figure>
<h2 id="æ¨¡å‹">æ¨¡å‹</h2>
<p>ç°æœ‰çš„æ¨¡å‹åŒ…åŠé¢„è§ˆ<br>
<code>live2d-widget-model-chitose</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-chitose.png" alt="chitose"><br>
<code>live2d-widget-model-haru/01 (use npm install --save live2d-widget-model-haru)</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-haur01.png" alt="haru01"><br>
<code>live2d-widget-model-haru/02 (use npm install --save live2d-widget-model-haru)</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-haru02.png" alt="haru02"><br>
<code>live2d-widget-model-haruto</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-haruto.png" alt="haruto"><br>
<code>live2d-widget-model-hibiki</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-hibiki.png" alt="hibiki"><br>
<code>live2d-widget-model-hijiki</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-hijiki.png" alt="hijiki"><br>
<code>live2d-widget-model-izumi</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-izumi.png" alt="izumi"><br>
<code>live2d-widget-model-koharu</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-koharu.png" alt="koharu"><br>
<code>live2d-widget-model-miku</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-miku.png" alt="miku"><br>
<code>live2d-widget-model-ni-j</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-ni-j.png" alt="nij"><br>
<code>live2d-widget-model-nico</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-nico.png" alt="nico"><br>
<code>live2d-widget-model-nietzsche</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-nietzsche.png" alt="nietzsche"><br>
<code>live2d-widget-model-nipsilon</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-nipsilon.png" alt="nipsilon"><br>
<code>live2d-widget-model-nito</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-nito.png" alt="nito"><br>
<code>live2d-widget-model-shizuku</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-shizuku.png" alt="shizuku"><br>
<code>live2d-widget-model-tororo</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-tororo.png" alt="tororo"><br>
<code>live2d-widget-model-tsumiki</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-tsumiki.png" alt="tsumiki"><br>
<code>live2d-widget-model-unitychan</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-unitychan.png" alt="unitychan"><br>
<code>live2d-widget-model-wanko</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-wanko.png" alt="wanko"><br>
<code>live2d-widget-model-z16</code><br>
<img src="http://www.wangdanpeng.com/img/live2d/live2d-z16.png" alt="z16"></p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo-æ¥å…¥ç•…è¨€è¯„è®º</title>
    <url>/2017/03/29/20170329230400/</url>
    <content><![CDATA[<p>ä¼—æ‰€å‘¨çŸ¥, å¤šè¯´è¯„è®ºè¦å…³é—­äº†, ä¸ç®¡å®ƒå¤„äºä»€ä¹ˆåŸå› å’Œä»€ä¹ˆè€ƒè™‘, æ€»ä¹‹æˆ‘ä»¬è¦è€ƒè™‘æ¢ä¸‹å®¶äº†, çœ‹æ¥çœ‹å»æ„Ÿè§‰æœç‹ç•…è¨€çš„è¯„è®ºæ¨¡å—çœ‹ç€è¿˜ç®—èˆ’æœ, å†³å®šæ¥å…¥ç•…è¨€çš„è¯„è®ºç³»ç»Ÿ. å¯ä»¥è§ä¸‹æ–¹, æˆ‘æ­£åœ¨ä½¿ç”¨çš„å°±æ˜¯.</p>
<h3 id="æ³¨å†Œ">æ³¨å†Œ</h3>
<p>ç¬¬ä¸€æ­¥è‚¯å®šæ˜¯æ³¨å†Œç•…è¨€æ²¡å•¥è¯´çš„, å®˜ç½‘åœ°å€-&gt; <a href="http://changyan.kuaizhan.com/" target="_blank" rel="noopener">ç•…è¨€</a>, éœ€è¦æ³¨æ„çš„æ˜¯ç•…è¨€éœ€è¦ç»‘å®šä½ çš„åŸŸå, è¿˜è¦å®¡æ ¸å¤‡æ¡ˆä¿¡æ¯, å¦åˆ™åªèƒ½è¯•ç”¨15å¤©çš„, å®¡æ ¸å¤‡æ¡ˆå¾ˆå¿«, æˆ‘å½“æ—¶ç”¨çš„ä¸€ä¸ªå¤šå°æ—¶å°±è¿‡äº†.</p>
<h3 id="æ›¿æ¢æ¨¡æ¿æ–‡ä»¶">æ›¿æ¢æ¨¡æ¿æ–‡ä»¶</h3>
<p>åœ¨ç•…è¨€çš„åå°æœ‰å¦‚ä¸‹å®‰è£…ç•…è¨€çš„ä»£ç :</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!--PCç‰ˆ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"SOHUCS"</span> <span class="attr">sid</span>=<span class="string">"è¯·å°†æ­¤å¤„æ›¿æ¢ä¸ºé…ç½®SourceIDçš„è¯­å¥"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://changyan.sohu.com/upload/changyan.js"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.changyan.api.config(&#123;</span></span><br><span class="line"><span class="actionscript">appid: <span class="string">'ä½ çš„appid'</span>,</span></span><br><span class="line"><span class="actionscript">conf: <span class="string">'ä½ çš„appkey'</span></span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„appidå’Œappkeyå¯ä»¥åœ¨ä½ çš„ç•…è¨€åå°æ€»è§ˆä¸­å¾—åˆ°, è¿™é‡Œçš„sidæ¯”è¾ƒé‡è¦, å¤šè¯´ä¸¤å¥.</p>
<p>sidæ˜¯ç”¨æ¥åŒºåˆ†å„ä¸ªæ–‡ç« çš„, å¦‚æœä¸è®¾ç½®, å°±ä¼šæ‰€æœ‰æ–‡ç« å…±äº«å…¨éƒ¨çš„è¯„è®º, æ¯”è¾ƒè®¨åŒ. æ‰€ä»¥sidå…¶å®å°±æ˜¯è®¾ç½®ä¸€ä¸ªæ–‡ç« çš„å”¯ä¸€æ ‡ç¤º, æœ‰çš„äººä½¿ç”¨æ–‡ç« title, ä½†æ˜¯æœ‰å¯èƒ½ä½ æƒ³ä¿®æ”¹titleæ—¶, ä»¥å‰çš„è¯„è®ºå°±ä¼šä¸¢å¤±, æ‰€ä»¥å®‰å…¨èµ·è§, æˆ‘é€‰ç”¨äº†å¦ä¸€ä¸ªæ–‡ç« å‚æ•°åšsid, å“ªä¸ªå‚æ•°å‘¢, â€œpage.permalinkâ€.<br>
å…³äºæ–‡ç« æœ‰å“ªäº›å‚æ•°å¯ä»¥è§ -&gt; <a href="https://hexo.io/zh-cn/docs/front-matter.html" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a>, ç®€å•çš„å¯ä»¥æŠŠpermalinkå‚æ•°è®¾ç½®æˆå†™æ–‡ç« æ—¶çš„å¹´æœˆæ—¥æ—¶åˆ†ç§’, ä¸€èˆ¬æ¥è¯´æ˜¯ä¸ä¼šé‡å¤çš„, ä½ ä¹Ÿä¸ä¼šåœ¨åŒä¸€ç§’å†™ä¸¤ç¯‡æ–‡ç« . å¥½, é‚£ä¹ˆå¼€å§‹æ¥é…ç½®æˆ‘çš„æ¨¡æ¿.</p>
<p>æˆ‘ç”¨çš„hexoçš„nextæ¨¡æ¿, è¯„è®ºæ¨¡æ¿æ–‡ä»¶åœ¨é¡¹ç›®ç›®å½•ä¸‹çš„</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">themes&#x2F;next&#x2F;layout&#x2F;_partials&#x2F;comments.swig</span><br></pre></td></tr></table></figure>
<p>æŠŠcomments.swigæ–‡ä»¶å¤‡ä¸ªä»½, ä¸‡ä¸€ä»¥åè¿˜ç”¨å‘¢, ç„¶åæ–°å»ºä¸€ä¸ªåŒåæ–‡ä»¶, å†™å…¥å¦‚ä¸‹å†…å®¹:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">&#123;% if page.comments %&#125;</span><br><span class="line"> <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"comments"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--PCç‰ˆ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"SOHUCS"</span> <span class="attr">sid</span>=<span class="string">"&#123;&#123; page.permalink &#125;&#125;"</span> &gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"https://changyan.sohu.com/upload/changyan.js"</span> &gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.changyan.api.config(&#123;</span></span><br><span class="line"><span class="actionscript">appid: <span class="string">'ä½ çš„appid'</span>,</span></span><br><span class="line"><span class="actionscript">conf: <span class="string">'ä½ çš„appkey'</span></span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>
<p>ifæ¡ä»¶åˆ¤æ–­æ˜¯å¦è®¾ç½®commentså‚æ•°, æƒ³å¼€è¯„è®ºçš„æ–‡ç« å°±æ·»åŠ commentså‚æ•°å¹¶è®¾ä¸ºtrue, ä¸æƒ³å¼€çš„é¡µé¢å°±è®¾ä¸ºfalse.</p>
ä¸ºæŠŠpermalinkå‚æ•°è¾“å‡ºåˆ°è¿™é‡Œ, hexoçš„å„ä¸ªæ¨¡æ¿çš„æ ‡ç­¾ä½¿ç”¨æ–¹å¼å¥½åƒä¸å¤ªä¸€æ ·, å…·ä½“çš„å·²è‡ªå·±ä½¿ç”¨çš„æ¨¡æ¿ä¸ºå‡†, æˆ‘å°±è§è¿‡æ˜¯ç”¨<%= page.permalink %>æ–¹å¼è¾“å‡ºçš„.
<h3 id="ç»“æŸ">ç»“æŸ</h3>
<p>åˆ°æ­¤å°±å·²ç»é…ç½®å®Œæˆäº†, ä½ å¯ä»¥æ¨ä»£ç è¿›è¡ŒéªŒè¯äº†.</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>Java-åŸºäºHttpClientçš„javaåå°è®¿é—®URL</title>
    <url>/2017/02/18/20170218200349/</url>
    <content><![CDATA[<p>å†™æ”¯ä»˜ç›¸å…³ä¸œè¥¿é‡åˆ°éœ€è¦åœ¨åå°è®¿é—®urlï¼Œæœäº†æœæ‰¾åˆ°ä¸€ç¯‡ä¸é”™çš„ä»£ç ï¼Œæ”¶è—ä¸‹æ¥ä»¥ç•™åç”¨ã€‚</p>
<p>httpUtils.javaä¸­æœ‰ä¸¤ä¸ªå…¬å…±çš„é™æ€æ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯URLPostï¼Œå¦ä¸€ä¸ªæ˜¯URLGetï¼Œä¸€ç›®äº†ç„¶ï¼Œå‰è€…æ˜¯æä¾›POSTæ–¹å¼æäº¤æ•°æ®çš„ï¼Œåè€…æ˜¯æä¾›GETæ–¹å¼æäº¤æ•°æ®çš„ã€‚å…¶ä¸­æ‰€éœ€è¦ä¼ é€çš„æ•°æ®ä»¥Mapçš„æ–¹å¼ä¼ å…¥ï¼Œå‰©ä¸‹çš„å·¥ä½œå°±äº¤ç»™æˆ‘è¿™ä¸ªHttpUtilså§ï¼å½“ç„¶å¦‚æœHttpæœåŠ¡å™¨ç«¯å¯¹æ‰€æäº¤çš„æ•°æ®çš„ç¼–ç æœ‰è¦æ±‚çš„è¯ï¼Œä¹Ÿæ²¡é—®é¢˜ï¼Œä½ å¯ä»¥ä¼ å…¥UTF-8æˆ–è€…GBKï¼Œå½“ç„¶å¤§å®¶è¿˜å¯è‡ªè¡Œå¢åŠ ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"><span class="keyword">import</span> java.util.Iterator;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.httpclient.HttpClient;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.httpclient.HttpException;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.httpclient.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.httpclient.MultiThreadedHttpConnectionManager;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.httpclient.methods.GetMethod;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.httpclient.methods.PostMethod;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.logging.Log;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.logging.LogFactory;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * HTTPå·¥å…·ç±»</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> lixiangyang</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HttpUtils</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> Log log = LogFactory.getLog(HttpUtils<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * å®šä¹‰ç¼–ç æ ¼å¼ UTF-8</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String URL_PARAM_DECODECHARSET_UTF8 = <span class="string">"UTF-8"</span>;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * å®šä¹‰ç¼–ç æ ¼å¼ GBK</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String URL_PARAM_DECODECHARSET_GBK = <span class="string">"GBK"</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String URL_PARAM_CONNECT_FLAG = <span class="string">"&amp;"</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String EMPTY = <span class="string">""</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> MultiThreadedHttpConnectionManager connectionManager = <span class="keyword">null</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> connectionTimeOut = <span class="number">25000</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> socketTimeOut = <span class="number">25000</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> maxConnectionPerHost = <span class="number">20</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> maxTotalConnections = <span class="number">20</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> HttpClient client;</span><br><span class="line">	<span class="keyword">static</span>&#123;</span><br><span class="line">		connectionManager = <span class="keyword">new</span> MultiThreadedHttpConnectionManager();</span><br><span class="line">		connectionManager.getParams().setConnectionTimeout(connectionTimeOut);</span><br><span class="line">		connectionManager.getParams().setSoTimeout(socketTimeOut);</span><br><span class="line">		connectionManager.getParams().setDefaultMaxConnectionsPerHost(maxConnectionPerHost);</span><br><span class="line">		connectionManager.getParams().setMaxTotalConnections(maxTotalConnections);</span><br><span class="line">		client = <span class="keyword">new</span> HttpClient(connectionManager);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * POSTæ–¹å¼æäº¤æ•°æ®</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">	 * 			å¾…è¯·æ±‚çš„URL</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> params</span></span><br><span class="line"><span class="comment">	 * 			è¦æäº¤çš„æ•°æ®</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> enc</span></span><br><span class="line"><span class="comment">	 * 			ç¼–ç </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 * 			å“åº”ç»“æœ</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 * 			IOå¼‚å¸¸</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">URLPost</span><span class="params">(String url, Map&lt;String, String&gt; params, String enc)</span></span>&#123;</span><br><span class="line">		String response = EMPTY;		</span><br><span class="line">		PostMethod postMethod = <span class="keyword">null</span>;</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			postMethod = <span class="keyword">new</span> PostMethod(url);</span><br><span class="line">			postMethod.setRequestHeader(<span class="string">"Content-Type"</span>, <span class="string">"application/x-www-form-urlencoded;charset="</span> + enc);</span><br><span class="line">			<span class="comment">//å°†è¡¨å•çš„å€¼æ”¾å…¥postMethodä¸­</span></span><br><span class="line">			Set&lt;String&gt; keySet = params.keySet();</span><br><span class="line">			<span class="keyword">for</span>(String key : keySet)&#123;</span><br><span class="line">				String value = params.get(key);</span><br><span class="line">				postMethod.addParameter(key, value);</span><br><span class="line">			&#125;			</span><br><span class="line">			<span class="comment">//æ‰§è¡ŒpostMethod</span></span><br><span class="line">			<span class="keyword">int</span> statusCode = client.executeMethod(postMethod);</span><br><span class="line">			<span class="keyword">if</span>(statusCode == HttpStatus.SC_OK) &#123;</span><br><span class="line">				response = postMethod.getResponseBodyAsString();</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				log.error(<span class="string">"å“åº”çŠ¶æ€ç  = "</span> + postMethod.getStatusCode());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(HttpException e)&#123;</span><br><span class="line">			log.error(<span class="string">"å‘ç”Ÿè‡´å‘½çš„å¼‚å¸¸ï¼Œå¯èƒ½æ˜¯åè®®ä¸å¯¹æˆ–è€…è¿”å›çš„å†…å®¹æœ‰é—®é¢˜"</span>, e);</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">			log.error(<span class="string">"å‘ç”Ÿç½‘ç»œå¼‚å¸¸"</span>, e);</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(postMethod != <span class="keyword">null</span>)&#123;</span><br><span class="line">				postMethod.releaseConnection();</span><br><span class="line">				postMethod = <span class="keyword">null</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> response;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * GETæ–¹å¼æäº¤æ•°æ®</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">	 * 			å¾…è¯·æ±‚çš„URL</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> params</span></span><br><span class="line"><span class="comment">	 * 			è¦æäº¤çš„æ•°æ®</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> enc</span></span><br><span class="line"><span class="comment">	 * 			ç¼–ç </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 * 			å“åº”ç»“æœ</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">	 * 			IOå¼‚å¸¸</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">URLGet</span><span class="params">(String url, Map&lt;String, String&gt; params, String enc)</span></span>&#123;</span><br><span class="line">		String response = EMPTY;</span><br><span class="line">		GetMethod getMethod = <span class="keyword">null</span>;		</span><br><span class="line">		StringBuffer strtTotalURL = <span class="keyword">new</span> StringBuffer(EMPTY);</span><br><span class="line">		</span><br><span class="line">	    <span class="keyword">if</span>(strtTotalURL.indexOf(<span class="string">"?"</span>) == -<span class="number">1</span>) &#123;</span><br><span class="line">	      strtTotalURL.append(url).append(<span class="string">"?"</span>).append(getUrl(params, enc));</span><br><span class="line">	    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">	    	strtTotalURL.append(url).append(<span class="string">"&amp;"</span>).append(getUrl(params, enc));</span><br><span class="line">	    &#125;</span><br><span class="line">	    log.debug(<span class="string">"GETè¯·æ±‚URL = \n"</span> + strtTotalURL.toString());</span><br><span class="line">	    </span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			getMethod = <span class="keyword">new</span> GetMethod(strtTotalURL.toString());</span><br><span class="line">			getMethod.setRequestHeader(<span class="string">"Content-Type"</span>, <span class="string">"application/x-www-form-urlencoded;charset="</span> + enc);</span><br><span class="line">			<span class="comment">//æ‰§è¡ŒgetMethod</span></span><br><span class="line">			<span class="keyword">int</span> statusCode = client.executeMethod(getMethod);</span><br><span class="line">			<span class="keyword">if</span>(statusCode == HttpStatus.SC_OK) &#123;</span><br><span class="line">				response = getMethod.getResponseBodyAsString();</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				log.debug(<span class="string">"å“åº”çŠ¶æ€ç  = "</span> + getMethod.getStatusCode());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">catch</span>(HttpException e)&#123;</span><br><span class="line">			log.error(<span class="string">"å‘ç”Ÿè‡´å‘½çš„å¼‚å¸¸ï¼Œå¯èƒ½æ˜¯åè®®ä¸å¯¹æˆ–è€…è¿”å›çš„å†…å®¹æœ‰é—®é¢˜"</span>, e);</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">catch</span>(IOException e)&#123;</span><br><span class="line">			log.error(<span class="string">"å‘ç”Ÿç½‘ç»œå¼‚å¸¸"</span>, e);</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(getMethod != <span class="keyword">null</span>)&#123;</span><br><span class="line">				getMethod.releaseConnection();</span><br><span class="line">				getMethod = <span class="keyword">null</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> response;</span><br><span class="line">	&#125;	</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * æ®Mapç”ŸæˆURLå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> map</span></span><br><span class="line"><span class="comment">	 * 			Map</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> valueEnc</span></span><br><span class="line"><span class="comment">	 * 			URLç¼–ç </span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 * 			URL</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">private</span> <span class="keyword">static</span> String <span class="title">getUrl</span><span class="params">(Map&lt;String, String&gt; map, String valueEnc)</span> </span>&#123;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (<span class="keyword">null</span> == map || map.keySet().size() == <span class="number">0</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> (EMPTY);</span><br><span class="line">		&#125;</span><br><span class="line">		StringBuffer url = <span class="keyword">new</span> StringBuffer();</span><br><span class="line">		Set&lt;String&gt; keys = map.keySet();</span><br><span class="line">		<span class="keyword">for</span> (Iterator&lt;String&gt; it = keys.iterator(); it.hasNext();) &#123;</span><br><span class="line">			String key = it.next();</span><br><span class="line">			<span class="keyword">if</span> (map.containsKey(key)) &#123;</span><br><span class="line">				String val = map.get(key);</span><br><span class="line">				String str = val != <span class="keyword">null</span> ? val : EMPTY;</span><br><span class="line">				<span class="keyword">try</span> &#123;</span><br><span class="line">					str = URLEncoder.encode(str, valueEnc);</span><br><span class="line">				&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">					e.printStackTrace();</span><br><span class="line">				&#125;</span><br><span class="line">				url.append(key).append(<span class="string">"="</span>).append(str).append(URL_PARAM_CONNECT_FLAG);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		String strURL = EMPTY;</span><br><span class="line">		strURL = url.toString();</span><br><span class="line">		<span class="keyword">if</span> (URL_PARAM_CONNECT_FLAG.equals(EMPTY + strURL.charAt(strURL.length() - <span class="number">1</span>))) &#123;</span><br><span class="line">			strURL = strURL.substring(<span class="number">0</span>, strURL.length() - <span class="number">1</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> (strURL);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Http</tag>
      </tags>
  </entry>
  <entry>
    <title>Hive-åˆ›å»ºå¤–éƒ¨åˆ†åŒºè¡¨</title>
    <url>/2021/05/06/20210506154231/</url>
    <content><![CDATA[<h2 id="Hiveå¤–éƒ¨åˆ†åŒºè¡¨">Hiveå¤–éƒ¨åˆ†åŒºè¡¨</h2>
<h3 id="å»ºè¡¨è¯­å¥">å»ºè¡¨è¯­å¥</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">create external table xxx(</span><br><span class="line">xxx int,</span><br><span class="line">xxx string,</span><br><span class="line">xxx array&lt;bigint&gt;,</span><br><span class="line">xxx struct&lt;aaa:string,bbb:string&gt;</span><br><span class="line">)</span><br><span class="line">partitioned by(pk string) # åˆ†åŒº</span><br><span class="line">row format delimited fields terminated by &#39;,&#39; # æŒ‰é€—å·åˆ†éš”, textå­˜å‚¨æ—¶ä½¿ç”¨</span><br><span class="line">row format serde &#39;org.apache.hadoop.hive.serde2.JsonSerDe&#39; # jsonæ ¼å¼çš„è¯åŠ ä¸Šè¿™æ¡, storedé€‰textfile</span><br><span class="line">stored as parquet # äº”ç§ç±»å‹å¯é€‰, textfile, sequencefile, rcfile, orcfile, parquet</span><br><span class="line">location &#39;æ•°æ®åœ°å€&#39;</span><br></pre></td></tr></table></figure>
<h3 id="å¸¸ç”¨å‘½ä»¤">å¸¸ç”¨å‘½ä»¤</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># ä¿®å¤åˆ†åŒº</span><br><span class="line">msck repair table xxx;</span><br><span class="line"># æ·»åŠ &#x2F;åˆ é™¤åˆ†åŒº</span><br><span class="line">alter table xxx add partition(pk&#x3D;&#39;xxx&#39;) location &#39;xxxx&#39;;</span><br><span class="line">alter table xxx drop partition(pk&#x3D;&#39;xxx&#39;);</span><br><span class="line"># æŸ¥çœ‹åˆ†åŒº</span><br><span class="line">show partitions xxx;</span><br><span class="line"># æŸ¥çœ‹åˆ†åŒºç»“æ„</span><br><span class="line">desc formatted xxx;</span><br><span class="line"># æŸ¥çœ‹å»ºè¡¨è¯­å¥</span><br><span class="line">show create table xxxx;</span><br><span class="line"># æŸ¥çœ‹è¡¨å­—æ®µ</span><br><span class="line">describe table;</span><br></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºview">åˆ›å»ºview</h3>
<p>kylinåªèƒ½å¯¼å…¥æ‰å¹³åŒ–hiveè¡¨, ä¸æ”¯æŒhiveå¤æ‚æ•°æ®ç±»å‹, å¯¼å…¥è¿›å»ä¸æ˜¾ç¤º<br>
å¯é€šè¿‡åˆ›å»ºviewæ‹å¹³å¤æ‚å­—æ®µ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">create view if not exists xxx</span><br><span class="line">partitioned on (pk)</span><br><span class="line">as</span><br><span class="line">select aaa, bbb, ccc from yyy</span><br><span class="line">lateral view inline(properties) pp_table; # propertiesæ˜¯structç»“æ„å­—æ®µ, pp_tableæ˜¯lateral viewåˆ›å»ºçš„ä¸€å¼ è™šæ‹Ÿè¡¨</span><br></pre></td></tr></table></figure>
<h3 id="åºåˆ—åŒ–">åºåˆ—åŒ–</h3>
<p>SerDeæ˜¯Serialize/Deserilizeçš„ç®€ç§°, ç”¨äºåºåˆ—åŒ–å’Œååºåˆ—åŒ–<br>
ç”¨æˆ·åœ¨å»ºè¡¨æ—¶å¯ä»¥ç”¨è‡ªå®šä¹‰çš„SerDeæˆ–è€…Hiveè‡ªå¸¦çš„SerDe<br>
ä¾‹å¦‚jsonæ–‡ä»¶, åœ¨Hive0.12ä»¥ä¸Šç‰ˆæœ¬ä½¿ç”¨<strong>org.apache.hive.hcatalog.data.JsonSerDe</strong><br>
åœ¨Hive3.0å¼€å§‹è¢«æ·»åŠ åˆ°Hive Serdeä¸­, <strong>org.apache.hadoop.hive.serde2.JsonSerDe</strong><br>
é¢„è®¡åœ¨Hive4.0ä¸­å¯ç›´æ¥æ”¯æŒä¸ºç‹¬ç«‹çš„æ–‡ä»¶æ ¼å¼, å³stored as jsonfile</p>
]]></content>
      <categories>
        <category>Hive</category>
      </categories>
      <tags>
        <tag>Hive</tag>
        <tag>å¤§æ•°æ®</tag>
      </tags>
  </entry>
  <entry>
    <title>Java-jsonå¯¹è±¡è½¬javaå¯¹è±¡</title>
    <url>/2017/02/18/20170218195321/</url>
    <content><![CDATA[<p>é¡¹ç›®é‡Œéœ€è¦æŠŠjsonå¯¹è±¡è½¬æ¢æˆjavaå¯¹è±¡ï¼Œè¿˜æŒºè´¹åŠ²çš„æœäº†æœï¼Œäºæ˜¯è‡ªå·±è®°ä¸‹æ¥ï¼Œä»¥åæ–¹ä¾¿ä½¿ç”¨ã€‚</p>
<p>ç¬¬ä¸€ç§æ–¹æ³•ï¼Œä½¿ç”¨ JSON-lib ã€‚</p>
<p>ç¬¬äºŒç§æ–¹æ³•ï¼Œä½¿ç”¨ JACKSONã€‚</p>
<p>å‰ä¸¤ç§æ–¹æ³•ï¼Œå¯¹ç›¸å¯¹ç®€å•çš„Pojo å¯¹è±¡æ¥è¯´ï¼Œè¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“çš„ã€‚ä½†æ˜¯ç›¸å¯¹äºåµŒå¥—å¤šå±‚çš„æ•°æ®æ¥è¯´ï¼Œå¤æ‚åº¦å°±ç›´æ¥ä¸Šå»äº†ã€‚</p>
<p>ç¬¬ä¸‰ç§æ–¹æ³•ï¼Œä½¿ç”¨GOOGLE çš„Gson æ¥è§£å†³äº†ã€‚å†™è¿‡å®‰å“çš„éƒ½çŸ¥é“ï¼Œè¿™ä¸œè¥¿ï¼Œæ˜¯Googleå‡ºæ¥çš„ï¼Œæœ€å¤§çš„å¥½å¤„å°±æ˜¯ï¼ŒåŸºæœ¬ä¸ä¾èµ–å…¶ä»–çš„åŒ…ã€‚ç”¨èµ·æ¥è‡ªç„¶å¾ˆçˆ½ï¼Œå–å€¼æ–¹å¼éå¸¸çµæ´»ã€‚å¯¹å¤æ‚çš„JSON å–å€¼ï¼ŒåŸºæœ¬ç»Ÿç»Ÿæå®šã€‚</p>
<p>åœ¨Gson ä¸­åˆ†ä¸ºä¸¤ç§æ¦‚å¿µã€‚ä¸€ä¸ªå°±æ˜¯ JsonObject å’Œ JsonArrayã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.mycompany.gsondata;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.JsonArray;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.JsonObject;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.JsonParser;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Hello world!</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String jsonData = <span class="string">"&#123;\"questionnaireID\": \"QNTest\",\"answerResults\":[&#123;\"questionID\":\"QSTest01\",\"anserContent\":\"cfb7f441-9086-11e3-8cf8-000c2945c442\"&#125;,&#123;\"questionID\":\"QSTest01\",\"anserContent\":\"cfb7f441-9086-11e3-8cf8-000c2945c442\"&#125;,&#123;\"questionID\":\"QSTest03\",\"anserContent\":\"6b3a9cce-9087-11e3-8cf8-000c2945c442,a086331d-9087-11e3-8cf8-000c2945c442\"&#125;,&#123;\"questionID\":\"QSTest01\",\"anserContent\":\"cfb7f441-9086-11e3-8cf8-000c2945c442\"&#125;,&#123;\"questionID\":\"QSTest05\",\"anserContent\":\"testæµ‹è¯•æ–‡å­—å¡«ç©º\"&#125;,&#123;\"questionID\":\"QSTest06\",\"anserContent\":\"3\"&#125;,&#123;\"questionID\":\"QSTest07\",\"anserContent\":\"2.2\"&#125;]&#125;"</span>;</span><br><span class="line">        JsonObject root = <span class="keyword">new</span> JsonParser().parse(jsonData).getAsJsonObject();</span><br><span class="line">        System.out.println(root.get(<span class="string">"questionnaireID"</span>).toString());<span class="comment">//ç›´æ¥å–çš„æ ¹èŠ‚ç‚¹å€¼</span></span><br><span class="line"></span><br><span class="line">        JsonArray AnswerList = root.getAsJsonArray(<span class="string">"answerResults"</span>);<span class="comment">//å–æ•°ç»„</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; AnswerList.size(); i++) &#123;</span><br><span class="line">            System.out.println(AnswerList.get(i).getAsJsonObject().get(<span class="string">"questionID"</span>).toString());</span><br><span class="line">            System.out.println(AnswerList.get(i).getAsJsonObject().get(<span class="string">"anserContent"</span>).toString());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>Json</tag>
      </tags>
  </entry>
  <entry>
    <title>Java-æŠ“å–éŸ³ä¹ç½‘ç«™ä¸‹è½½é“¾æ¥</title>
    <url>/2017/03/18/20170318014719/</url>
    <content><![CDATA[<p>å½“å¹´SongTasteç½‘ç«™è¿˜æ²¡å…³é—­, åœ¨ä¸Šé¢æ‰¾åˆ°è¿‡å¾ˆå¤šæˆ‘å–œæ¬¢çš„éŸ³ä¹, å½“æ—¶å·²ç»è¢«å¤šç±³æ”¶è´­, ä¸‹è½½éŸ³ä¹è¶…çº§éº»çƒ¦, åæ¥çœ‹åˆ°ç½‘ä¸Šæœ‰è¯´æ‰’ä¸‹è½½é“¾æ¥çš„, æˆ‘ä¹Ÿè‡ªå·±è¯•äº†ä¸€ä¸‹ç”¨Javaå¼€å‘äº†ä¸€ä¸ªWindowså°çª—å£, è¾“å…¥éŸ³ä¹ç½‘å€å°±ä¼šè¿”å›ä¸‹è½½é“¾æ¥.</p>
<p>å‚è€ƒé“¾æ¥<a href="http://www.cnblogs.com/weixliu/p/3985551.html" target="_blank" rel="noopener">SongTasteç½‘ç«™çœŸå®URLè·å–</a></p>
<p>ç ”ç©¶å‘ç°ç›´æ¥è·å–ä¸‹è½½åœ°å€çš„ä¸€äº›å…³é”®å‚æ•°åœ¨é¡µé¢é‡Œéƒ½æœ‰, åªéœ€è¦æ­£åˆ™æå–å‡ºæ¥å³å¯. ç„¶åæ‹¼å‡ºä¸€ä¸ªè¯·æ±‚, å‘é€ä¹‹åå°±ä¼šè¿”å›ä¸‹è½½é“¾æ¥, è¿˜æ˜¯å¾ˆç®€å•çš„, è™½ç„¶ç°åœ¨SongTasteå·²ç»é—­ç«™äº†, å°±å½“æ˜¯åˆ†äº«äº†ä¸€ä¸ªå°çˆ¬è™«, githubä¼ é€é—¨ -&gt; <a href="https://github.com/WangDanpeng/SongTaste" target="_blank" rel="noopener">SongTaste</a></p>
<p>ç®€ç®€å•å•çš„ä¸€ä¸ªå°ç¨‹åº, ç„¶è€Œè²Œä¼¼æ˜¯æˆ‘ç¬¬ä¸€æ¬¡çœŸæ­£æŠŠç¼–ç¨‹åº”ç”¨åˆ°å®é™…ç”Ÿæ´»ä¸­, å½“æ—¶è¿˜ç”¨è¿™ä¸ªå°å·¥å…·ä¸‹è½½äº†ä¸å°‘æ­Œ, è¿˜æ˜¯å¾ˆæœ‰è¶£çš„(ï¿£â–½ï¿£)&quot;</p>
]]></content>
      <categories>
        <category>Java</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>çˆ¬è™«</tag>
      </tags>
  </entry>
  <entry>
    <title>Kylin-4.0betaç‰ˆæ­å»ºæŠ¥é”™æŒ‡å—</title>
    <url>/2021/05/10/20210510191429/</url>
    <content><![CDATA[<p>å¤§éƒ¨åˆ†é—®é¢˜æ˜¯jaråŒ…ç‰ˆæœ¬å†²çª, å¯¼è‡´å„ç§ç±»æ‰¾ä¸åˆ°<br>
æ ¹æœ¬é—®é¢˜æ˜¯kylin4.0æµ‹è¯•ç‰ˆ, ä¾èµ–spark2.4.6å’Œcdh6.3.2<br>
spark2.4.6ä¾èµ–hadoop2.7å’Œhive1.x<br>
cdh6.3.2è‡ªå¸¦hadoop3.0å’Œhive2.x<br>
æˆ–è€…å¯ä»¥è¯•è¯•EMR5.31, è‡ªå¸¦spark2.4.6, å¯èƒ½å†²çªå°ä¸€äº›</p>
<h3 id="NoSuchFieldError-INSTANCE">NoSuchFieldError: INSTANCE</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- java.lang.NoSuchFieldError: INSTANCE</span><br><span class="line">- java.lang.NoClassDefFoundError: Could not initialize class org.apache.http.conn.ssl.SSLConnectionSocketFactory</span><br></pre></td></tr></table></figure>
<p>httpåŒ…å†²çª, INSTANCEå­—æ®µåœ¨ä½ç‰ˆæœ¬åŒ…ä¸å­˜åœ¨<br>
cdh6.3.2å’Œspark2.4.6ä½¿ç”¨çš„éƒ½æ˜¯httpcore-4.4.xä»¥ä¸Šç‰ˆæœ¬, kylin4.0å¯åŠ¨webé¡µé¢çš„tomcatä¸­çš„kylin.waråŒ…é‡Œæ‰“ç€ä¸€ä¸ªhttpcore-4.2.2.jar<br>
<strong>è§£å†³åŠæ³•:</strong> è§£å‹waråŒ…æ›¿æ¢httpcoreåŒ…ç‰ˆæœ¬, é‡æ–°æ‰“waråŒ…æ”¾å›tomcaté‡Œ</p>
<h3 id="Sparkç›¸å…³ClassNotFound">Sparkç›¸å…³ClassNotFound</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- java.lang.ClassNotFoundException: parquet.DefaultSource</span><br><span class="line">- java.lang.ClassNotFoundException: Failed to find data source: parquet.</span><br><span class="line">- yarnæ‰¾ä¸åˆ°</span><br></pre></td></tr></table></figure>
<p>kylinç›®å½•ä¸‹çš„sparkç›¸å…³jaråŒ…æ²¡è¢«åŠ è½½è¿›classpath<br>
<strong>è§£å†³åŠæ³•:</strong> ä¿®æ”¹kylin.shå¯åŠ¨è„šæœ¬, æ‰‹åŠ¨æŠŠsparkä¾èµ–åŠ è¿›å»</p>
<h3 id="7337ç«¯å£æ‹’æ¥è®¿é—®">7337ç«¯å£æ‹’æ¥è®¿é—®</h3>
<p>kyliné»˜è®¤å¯åŠ¨äº†sparkçš„shuffle service<br>
<strong>è§£å†³åŠæ³•:</strong> è¦ä¹ˆå»æŸ¥çœ‹yarnçš„7337ç«¯å£æ˜¯ä¸æ˜¯æ²¡èµ·æ¥, è¦ä¹ˆç›´æ¥ä¿®æ”¹kyliné…ç½®, å…³é—­shuffle service</p>
<h3 id="java-lang-NoSuchFieldError-HIVE-STATS-JDBC-TIMEOUT">java.lang.NoSuchFieldError: HIVE_STATS_JDBC_TIMEOUT</h3>
<p>hiveç‰ˆæœ¬é—®é¢˜, è¯¥å­—æ®µåœ¨hive1.xä¸­å­˜åœ¨, hive2.xè¢«åˆ é™¤<br>
spark2.4.6ä¾èµ–çš„hive1.x, cdh6.3.2ä¾èµ–çš„hive2.x<br>
ç½‘ä¸Šæœ‰å„ç§åŠæ³•, è¯•äº†å¯¹æˆ‘éƒ½ä¸èµ·ä½œç”¨, ä¸‹é¢æ˜¯æˆ‘çš„è§£å†³åŠæ³•<br>
<strong>è§£å†³åŠæ³•:</strong> ä¸‹è½½spark2.4.6æºç , åˆ é™¤æºç ä¸­<strong>HIVE_STATS_JDBC_TIMEOUT</strong>å’Œ<strong>HIVE_STATS_RETRIES_WAIT</strong>å­—æ®µ, ç„¶åé‡æ–°ç¼–è¯‘spark, ä½¿ç”¨ç¼–è¯‘å¥½çš„spark-hiveåŒ…æ›¿æ¢spark/jarsä¸­çš„spark-hiveåŒ…<br>
ç†è®ºä¾æ®: <a href="https://issues.apache.org/jira/browse/SPARK-18112" target="_blank" rel="noopener">https://issues.apache.org/jira/browse/SPARK-18112</a><br>
ç¼–è¯‘å‘½ä»¤</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.&#x2F;build&#x2F;mvn -Pyarn -Phadoop-2.7 -Dhadoop.version&#x3D;2.7.5 -Phive -Phive-thriftserver -DskipTests clean package</span><br></pre></td></tr></table></figure>
<h3 id="Class-org-apache-hive-hcatalog-data-JsonSerDe-not-found">Class org.apache.hive.hcatalog.data.JsonSerDe not found</h3>
<p>åˆ›å»ºjsonæ ¼å¼çš„å¤–éƒ¨è¡¨æŠ¥çš„ç›¸å…³é”™è¯¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- Class org.apache.hive.hcatalog.data.JsonSerDe not found</span><br><span class="line">- java.lang.ClassNotFoundException: org.apache.hadoop.hive.serde2.Deserializer</span><br><span class="line">- java.lang.ClassCastException: org.apache.hive.hcatalog.data.JsonSerDe cannot be cast to org.apache.hadoop.hive.serde2.Deserializer</span><br><span class="line">- cannot assign instance of scala.collection.immutable.List$SerializationProxy to field org.apache.spark.rdd.RDD.org$apache$spark$rdd$RDD$$dependencies_ of type scala.collection.Seq in instance of org.apache.spark.rdd.MapPartitionsRDD</span><br></pre></td></tr></table></figure>
<p><strong>è§£å†³åŠæ³•:</strong> ä¸€å¼€å§‹hive-hcatalog-coreåŒ…æ²¡æ‰¾åˆ°, åŠ åˆ°cdhçš„hiveç›®å½•ä¸‹,  åç»­è¿˜æ˜¯æœ‰é—®é¢˜, æ›´æ¢äº†jsonè¡¨çš„åºåˆ—åŒ–ç±», æ¢æˆäº†org.apache.hadoop.hive.serde2.JsonSerDe</p>
<h3 id="æœªè§£å†³">æœªè§£å†³</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- Error occurred when check resource. Ignore it and try to submit this job.</span><br><span class="line">- java.lang.UnsupportedOperationException: empty.max</span><br></pre></td></tr></table></figure>
<h3 id="æˆ‘å¿˜äº†">æˆ‘å¿˜äº†</h3>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">- java.lang.NoSuchMethodException: org.apache.hadoop.hive.ql.metadata.Hive.alterTable(java.lang.String, org.apache.hadoop.hive.ql.metadata.Table)</span><br><span class="line">- java.lang.NoSuchMethodError: org.apache.parquet.bytes.BytesInput.toInputStream()Lorg&#x2F;apache&#x2F;parquet&#x2F;bytes&#x2F;ByteBufferInputStream;</span><br><span class="line">- java.lang.ClassCastException: org.apache.hadoop.hive.ql.metadata.Partition cannot be cast to org.apache.hadoop.hive.ql.metadata.PartitiontectUtils$$anonfun$getPaths$1.apply(ResourceDetectUtils.scala:43)</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Kylin</category>
      </categories>
      <tags>
        <tag>å¤§æ•°æ®</tag>
        <tag>Kylin</tag>
      </tags>
  </entry>
  <entry>
    <title>Sublime Text3 æ›´æ¢ä¸»é¢˜åŠæ’ä»¶å®‰è£…</title>
    <url>/2018/11/09/20181109210424/</url>
    <content><![CDATA[<p>æ¯«æ— ç–‘é—®, Sublime Textæ˜¯Macç”µè„‘ä¸Šä¸ºæ•°ä¸å¤šååˆ†å¥½ç”¨çš„æ–‡æœ¬ç¼–è¾‘å™¨ä¹‹ä¸€, æ—¥å¸¸ä½¿ç”¨çš„é¢‘ç‡ä¹Ÿæ˜¯éå¸¸çš„é«˜, æ‰€ä»¥é…ç½®ä¸€ä¸ªå¥½çœ‹åˆå¥½ç”¨çš„Sublime Textå°±ååˆ†çš„æœ‰å¿…è¦.</p>
<h2 id="æ›´æ¢ä¸»é¢˜">æ›´æ¢ä¸»é¢˜</h2>
<p>å…³äºä¸»é¢˜, ä¸ªäººä¹Ÿæ˜¯éå¸¸å–œæ¬¢ <a href="https://github.com/ihodev/sublime-boxy" target="_blank" rel="noopener">sublime-boxy</a>, å®‰è£…æ­¥éª¤ä¹Ÿéå¸¸ç®€å•</p>
<ol>
<li>åœ¨Sublimeä¸­æŒ‰ä¸‹<code>Cmd + shift + p</code>, å¼¹å‡ºä¸€ä¸ªè¾“å…¥æ¡†</li>
<li>åœ¨æ¡†ä¸­è¾“å…¥ <code>install package</code> æ•²å›è½¦, ç¨ç­‰ä¸€ä¸‹ä¼šåˆå¼¹å‡ºä¸€ä¸ªæ’ä»¶ç®¡ç†çš„è¾“å…¥æ¡†</li>
<li>åœ¨æ¡†ä¸­è¾“å…¥ <code>Boxy Theme</code>, é€‰æ‹©ç¬¬ä¸€ä¸ªå®‰è£…, ç¨ç­‰ä¸€ä¼šå°±å®‰è£…å®Œæ¯•</li>
<li>å®‰è£…å®Œæˆä»¥åå¯èƒ½ä¼šè‡ªåŠ¨å¼¹å‡ºè¦æ±‚ä½ å®‰è£… <code>A File Icon</code>(æ¯”è¾ƒå¥½çœ‹çš„å·¦ä¾§æ–‡ä»¶å›¾æ ‡), åŒæ„å®‰è£…å°±å¥½, å¦‚æœæ²¡æœ‰è‡ªåŠ¨å®‰è£…å°±å›åˆ°ç¬¬ä¸‰æ­¥æ‰‹åŠ¨å®‰è£…ä¸€ä¸‹</li>
<li>è£…å¥½ä»¥åé‡å¯Sublimeé»˜è®¤æ˜¯ä¸€ä¸ªæµ…è‰²ä¸»é¢˜, ä¸å–œæ¬¢å¯ä»¥è‡ªå·±æ”¹é…ç½®æ–‡ä»¶, ç›´æ¥æŒ‰ä¸‹<code> Cmd + ,</code>å¼¹å‡ºé…ç½®æ–‡ä»¶, å·¦ä¾§ä¸ºé»˜è®¤é…ç½®æ–‡ä»¶, å³ä¾§ä¸ºç”¨æˆ·è‡ªå®šä¹‰é…ç½®æ–‡ä»¶, æƒ³æ”¹ä»€ä¹ˆå°±å¾€å³ä¾§åŠ , å¯é€‰ä¸»é¢˜å‚è€ƒ<a href="https://github.com/ihodev/sublime-boxy/wiki/Get-It#activation" target="_blank" rel="noopener">å®˜æ–¹è¯´æ˜</a>, æŠŠç›¸åº”é…ç½®åŠ åˆ°é…ç½®æ–‡ä»¶å†é‡å¯å³å¯ç”Ÿæ•ˆ</li>
</ol>
<h2 id="Vimè®¾ç½®">Vimè®¾ç½®</h2>
<p>å¦å¤–æˆ‘ä¸ªäººå–œæ¬¢ä½¿ç”¨vimæ¨¡å¼, æ„Ÿè§‰æ¯”è¾ƒèˆ’æœ, é¡ºå¸¦é™„ä¸Švimæ¨¡å¼çš„å¼€å¯æ–¹æ³•, éå¸¸ç®€å•å¦‚ä¸‹</p>
<p>åŒä¸Šåœ¨Sublimeä¸­æŒ‰ä¸‹<code>Cmd + ,</code>å¼¹å‡ºé…ç½®æ–‡ä»¶, åœ¨å³ä¾§æœ‰ä¸€ä¸ª<code>ignored_packages</code>é…ç½®, å…¶ä¸­é»˜è®¤æœ‰<code>Vintage</code>, æŠŠå®ƒåˆ æ‰, ç•™ä¸‹ä¸€ä¸ªç©ºçš„æ‹¬å·, é‡å¯ç”Ÿæ•ˆ, å°±å¯ä»¥ä½¿ç”¨vimäº†<br>
æƒ³è¦å…³é—­çš„è¯åŒç†å†æŠŠ<code>Vintage</code>åŠ å›å»</p>
]]></content>
      <categories>
        <category>Mac</category>
      </categories>
      <tags>
        <tag>Mac</tag>
      </tags>
  </entry>
  <entry>
    <title>Kylin-4.0betaç‰ˆéƒ¨ç½²</title>
    <url>/2021/05/18/20210518173009/</url>
    <content><![CDATA[<h3 id="æ–°ç‰¹æ€§">æ–°ç‰¹æ€§</h3>
<ul>
<li>Sparkå”¯ä¸€æ„å»ºå¼•æ“</li>
<li>å¼•å…¥parquet, æ­£åœ¨è¸¢å‡ºHBase</li>
<li>å¯å­˜å‚¨åˆ°HDFS</li>
</ul>
<h3 id="1-å‡†å¤‡æœºå™¨">1. å‡†å¤‡æœºå™¨</h3>
<ul>
<li>å‡†å¤‡ä¸‰å°æœºå™¨, ç³»ç»ŸCentOS7, åˆ‡è®°, åç»­å®‰è£…CDHç‰ˆæœ¬ä¸º6.3.2, é«˜ç‰ˆæœ¬ç³»ç»Ÿä¸æ”¯æŒ</li>
<li>æ”¹hosts, ssh, å…å¯†ç™»å½•</li>
<li>æ”¹ç”¨æˆ·å¯æ‰“å¼€æ–‡ä»¶æ•°é‡</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">* vi /etc/security/limits.conf</span><br><span class="line">* Â Â Â soft Â Â Â nofile Â Â 32728</span><br><span class="line">* Â Â Â hard Â Â Â nofile Â Â 1024999</span><br><span class="line">* Â Â Â soft Â Â Â nproc Â Â  65535</span><br><span class="line">* Â Â Â hard Â Â Â noroc Â Â Â unlimited</span><br><span class="line">* Â Â Â soft Â Â Â memlock Â Â Â unlimited</span><br><span class="line">* Â Â Â hard Â Â Â memlock Â Â Â unlimited</span><br><span class="line">* sysctl -p</span><br></pre></td></tr></table></figure>
<ul>
<li>ç¦ç”¨é€æ˜å¤§é¡µé¢å‹ç¼©</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/defrag</span><br><span class="line">echo never &gt; /sys/kernel/mm/transparent_hugepage/enabled</span><br></pre></td></tr></table></figure>
<p>å¹¶å°†ä¸Šé¢çš„ä¸¤æ¡å‘½ä»¤å†™å…¥å¼€æœºè‡ªå¯åŠ¨/etc/rc.localã€‚</p>
<ul>
<li>è®¾ç½®swapç©ºé—´(æ‰€æœ‰èŠ‚ç‚¹)</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo "vm.swappiness = 0" &gt;&gt; /etc/sysctl.conf</span><br></pre></td></tr></table></figure>
<h3 id="2-å‡†å¤‡æ•°æ®åº“">2. å‡†å¤‡æ•°æ®åº“</h3>
<ul>
<li>ä¸»èŠ‚ç‚¹å®‰è£…Mysql</li>
<li>åˆ›å»ºç”¨æˆ·,æ•°æ®åº“, åç»­ä½¿ç”¨, å®‰è£…ä»€ä¹ˆæœåŠ¡å°±å»ºå¯¹åº”çš„æ•°æ®åº“, æˆ–è€…åˆ°åç»­é…ç½®å‰åˆ›å»º</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- cloudera-manager</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> scm <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'scm'</span>@<span class="string">'%'</span><span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> scm.* <span class="keyword">TO</span> <span class="string">'scm'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'scm'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="comment">-- active_monitor</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> active_monitor <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'active_monitor'</span>@<span class="string">'%'</span><span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> active_monitor.* <span class="keyword">TO</span> <span class="string">'active_monitor'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'active_monitor'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="comment">-- amon</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> amon <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'amon'</span>@<span class="string">'%'</span><span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> amon.* <span class="keyword">TO</span> <span class="string">'amon'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'amon'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="comment">-- hive</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> hive <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'hive'</span>@<span class="string">'%'</span><span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> hive.* <span class="keyword">TO</span> <span class="string">'hive'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'hive'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="comment">-- hue</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> hue <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'hue'</span>@<span class="string">'%'</span><span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> hue.* <span class="keyword">TO</span> <span class="string">'hue'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'hue'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="comment">-- oozie</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> oozie <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'oozie'</span>@<span class="string">'%'</span><span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> oozie.* <span class="keyword">TO</span> <span class="string">'oozie'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span>; </span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">ALL</span> <span class="keyword">PRIVILEGES</span> <span class="keyword">ON</span> *.* <span class="keyword">TO</span> <span class="string">'oozie'</span>@<span class="string">'%'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'Kylin@2021!'</span> <span class="keyword">WITH</span> <span class="keyword">GRANT</span> <span class="keyword">OPTION</span>;</span><br><span class="line"><span class="comment">-- åˆ·æ–°mysqlçš„æƒé™åˆ—è¡¨ </span></span><br><span class="line"><span class="keyword">FLUSH</span> <span class="keyword">PRIVILEGES</span>;</span><br></pre></td></tr></table></figure>
<ul>
<li>ä¸»èŠ‚ç‚¹æ”¾ç½®Mysqlé©±åŠ¨åŒ…</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">wget https://dev.mysql.com/get/Downloads/Connector-J/mysql-connector-java-5.1.46.tar.gz</span><br></pre></td></tr></table></figure>
<h3 id="3-å®‰è£…ä¾èµ–">3. å®‰è£…ä¾èµ–</h3>
<ul>
<li>å®‰è£…jdk, é…ç½®Java home</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install java-1.8.0-openjdk-devel.x86_64</span><br><span class="line">ll /etc/alternatives/java</span><br></pre></td></tr></table></figure>
<ul>
<li>å®‰è£…ä¾èµ–</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">yum install -y bind-utils psmisc libxslt cyrus-sasl-plain cyrus-sasl-gssapi fuse portmap fuse-libs httpd mod_ssl openssl-devel /lib/lsb/init-functions libpq.so.5python27postgresql-devel*postgresql-odbc.x86_64python2-develchkconfig zlib sqlite  redhat-lsb postgresql*   openssl  telnet pcre-devel gcc gcc-c++ MySQL-python</span><br></pre></td></tr></table></figure>
<ul>
<li>æ›´æ–°pip</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install --upgrade pip</span><br><span class="line">pip install --upgrade setuptools</span><br><span class="line">pip2 install psycopg2</span><br></pre></td></tr></table></figure>
<h3 id="4-éƒ¨ç½²CDH">4. éƒ¨ç½²CDH</h3>
<p>CDHç‰ˆæœ¬6.3.2, å®˜ç½‘åœæ­¢ä¸‹è½½äº†, æˆ‘è¿˜ç•™äº†ä¸€ä»½å®‰è£…åŒ…, <a href="https://download.csdn.net/download/u012355401/18809481" target="_blank" rel="noopener">csdnä¸‹è½½åœ°å€</a></p>
<h4 id="å®‰è£…CM">å®‰è£…CM</h4>
<ul>
<li>è§£å‹, ä¸»èŠ‚ç‚¹å®‰è£…</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd /opt/cloudera-manager/cm6.3.1/RPMS/x86_64/</span><br><span class="line">rpm -ivh cloudera-manager-daemons-6.3.1-1466458.el7.x86_64.rpm --nodeps --force</span><br><span class="line">rpm -ivh cloudera-manager-server-6.3.1-1466458.el7.x86_64.rpm --nodeps --force</span><br><span class="line">rpm -ivh cloudera-manager-agent-6.3.1-1466458.el7.x86_64.rpm --nodeps --force</span><br></pre></td></tr></table></figure>
<ul>
<li>å…¶ä»–èŠ‚ç‚¹</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">cd /opt/cloudera-manager/cm6.3.1/RPMS/x86_64/</span><br><span class="line">rpm -ivh cloudera-manager-daemons-6.3.1-1466458.el7.x86_64.rpm --nodeps --force</span><br><span class="line">rpm -ivh cloudera-manager-agent-6.3.1-1466458.el7.x86_64.rpm --nodeps --force</span><br></pre></td></tr></table></figure>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹ä¿®æ”¹agenté…ç½®, æŒ‡å‘master</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/etc/cloudera-scm-agent/config.ini server_host=ä¸»æœºå</span><br></pre></td></tr></table></figure>
<ul>
<li>åˆå§‹åŒ–æ•°æ®åº“, æµ‹è¯•Mysqlè¿æ¥</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/opt/cloudera/cm/schema/scm_prepare_database.sh mysql scm scm Kylin@2021!</span><br><span class="line">All done, your SCM database is configured correctly! æˆåŠŸ</span><br></pre></td></tr></table></figure>
<ul>
<li>å¯åŠ¨cm server</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ä¸»èŠ‚ç‚¹å¯åŠ¨server</span></span><br><span class="line">systemctl restart cloudera-scm-server</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹serverè¿è¡ŒçŠ¶æ€</span></span><br><span class="line">service cloudera-scm-server status</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹serveræ—¥å¿—</span></span><br><span class="line">tail -f /var/log/cloudera-scm-server/cloudera-scm-server.log</span><br><span class="line"><span class="meta">#</span><span class="bash"> æ‰€æœ‰èŠ‚ç‚¹å¯åŠ¨agent</span></span><br><span class="line">systemctl restart cloudera-scm-agent  </span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹agentè¿è¡ŒçŠ¶æ€</span></span><br><span class="line">service cloudera-scm-agent  status</span><br><span class="line"><span class="meta">#</span><span class="bash"> æŸ¥çœ‹agentæ—¥å¿—</span></span><br><span class="line">tail -f /var/log/cloudera-scm-agent/cloudera-scm-agent.log</span><br></pre></td></tr></table></figure>
<ul>
<li>å¯åŠ¨å®Œæ¯•, æµè§ˆå™¨è®¿é—®master ip:7180, é»˜è®¤å¯†ç admin/admin</li>
</ul>
<h4 id="å®‰è£…CDH">å®‰è£…CDH</h4>
<ul>
<li>å¼€å§‹ç¦»çº¿å®‰è£…CDH,å‡†å¤‡parcelåŒ…</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> éƒ¨ç½²ç¦»çº¿parcelæº</span></span><br><span class="line">mkdir -p /var/www/html/cdh6_parcel</span><br><span class="line"><span class="meta">#</span><span class="bash"> å°†parcelåŒ…æ”¾åœ¨httpdçš„ç›®å½•ä¸‹</span></span><br><span class="line">cp cdh/CDH-6.3.1-1.cdh6.3.1.p0.1470567-el7.parcel /var/www/html/cdh6_parcel/</span><br><span class="line">cp cdh/CDH-6.3.1-1.cdh6.3.1.p0.1470567-el7.parcel.sha1 /var/www/html/cdh6_parcel/CDH-6.3.1</span><br><span class="line">cp cdh/CDH-6.3.1-1.cdh6.3.1.p0.1470567-el7.parcel.sha1 /var/www/html/cdh6_parcel/CDH-6.3.1-1.cdh6.3.1.p0.1470567-el7.parcel.sha</span><br><span class="line">cp cdh/manifest.json /var/www/html/cdh6_parcel/</span><br><span class="line"><span class="meta">#</span><span class="bash"> å¯åŠ¨httpdæœåŠ¡</span></span><br><span class="line">systemctl start httpd</span><br></pre></td></tr></table></figure>
<p>æµè§ˆå™¨è®¿é—®master ip/cdh6_parcel</p>
<ul>
<li>è¿”å›CM, é€‰æ‹©å…è´¹ç‰ˆä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥, é€‰ä¸»æœº, æ›´å¤šé€‰é¡¹, æ·»åŠ æºç»§ç»­, ç­‰è§£å‹, æ£€æŸ¥é›†ç¾¤, å¿½ç•¥,ä¸‹ä¸€æ­¥, é€‰æ‹©å®‰è£…çš„ç»„ä»¶, ä½¿ç”¨ä¹‹å‰åˆ›å»ºå¥½çš„è´¦å·é…ç½®æ•°æ®åº“, é…ç½®é»˜è®¤ä¸‹ä¸€æ­¥</li>
<li>CDHéƒ¨ç½²å®Œæˆ</li>
</ul>
<h3 id="5-éƒ¨ç½²Kylin">5. éƒ¨ç½²Kylin</h3>
<p>ä»¥ä¸Šéƒ½é¡ºåˆ©çš„è¯, æŒ‰ç…§å®˜æ–¹æ­¥éª¤æ‰§è¡Œ, å³å¯å¯åŠ¨æˆåŠŸ<br>
<a href="https://cwiki.apache.org/confluence/display/KYLIN/Deploy+Kylin+4+on+CDH+6" target="_blank" rel="noopener">Deploy Kylin4 on CDH6</a></p>
]]></content>
      <categories>
        <category>Kylin</category>
      </categories>
      <tags>
        <tag>å¤§æ•°æ®</tag>
        <tag>Kylin</tag>
      </tags>
  </entry>
  <entry>
    <title>Mybatis-é€»è¾‘è¿æ¥æœªå…³é—­</title>
    <url>/2017/02/26/20170226153828/</url>
    <content><![CDATA[<p>é¦–å…ˆç¯å¢ƒæˆ‘ç”¨çš„Struts2 + Sprig + Mybatis</p>
<p>æœ€è¿‘é‡æ„äº†Mqsqlè¿æ¥æ± , æ”¹ç”¨äº†é˜¿é‡Œçš„druid. å› ä¸ºdruidå¸¦æœ‰WebUi, æˆ‘å‘ç°æˆ‘çš„é¡¹ç›®åªæ‰“å¼€æ•°æ®åº“è¿æ¥å´ä¸å…³é—­, é‚£è‚¯å®šæ˜¯sqlSessionfactoryå‡ºé—®é¢˜äº†.</p>
<p>å› ä¸ºä¹‹å‰çš„ä»£ç ä¸æ˜¯æˆ‘å†™çš„, å°è¯•ç€å…³é—­sqlSessionåè¿˜æ˜¯ä¸ç®¡ç”¨, å¹²è„†ç›´æ¥ä½¿ç”¨sqlSessionTemplate.<br>
å…ˆé…ç½®Spring</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"white-space:pre"</span>&gt;</span>	<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="comment">&lt;!--åˆ›å»ºsqlSessionFactory --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:SqlMapConfig.xml"</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">&lt;!-- sqlSessionTemplateé…ç½®ï¼ˆæ”¯æŒæ‰¹é‡ï¼‰ --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionTemplate"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- å‚æ•°1: sqlSessionFactory|å‚æ•°2ï¼šExecutorType --&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span> /&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- å¼€å¯BATCHæ‰¹é‡æ›´æ–°ä¼šä¸¢å¤±æ›´æ–°çš„è¿”å›å€¼ï¼Œå¯¼è‡´è¿”å›-2147482646 --&gt;</span></span><br><span class="line">		<span class="comment">&lt;!-- &lt;constructor-arg index="1" value="BATCH" /&gt; --&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é¡¹ç›®ä¸­ä¼ªç å¦‚ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ³¨å…¥springä¸­é…ç½®çš„SqlSessionTemplateå¯¹è±¡ï¼Œå•ä¾‹</span></span><br><span class="line"><span class="meta">@Resource</span>(name=<span class="string">"sqlSessionTemplate"</span>)</span><br><span class="line"><span class="keyword">public</span> SqlSessionTemplate sqlSessionTemplate;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveTestTrans</span><span class="params">()</span></span>&#123;</span><br><span class="line">     <span class="keyword">this</span>.sqlSessionTemplate.selectList(<span class="string">"testdomain.selectAnySql"</span>, <span class="string">"select * from my_blog where id='1'"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„SqlSessionTemplateä¸ä»…æ˜¯å•ä¾‹çš„ï¼Œè€Œä¸”ä¸éœ€è¦æ‰‹å·¥æ–°å»ºå’Œå…³é—­SqlSession.</p>
<p>ä¸ºä»€ä¹ˆmybatis-spring.jarä¸­çš„SqlSessionTemplateå¯ä»¥è¢«å¤šä¸ªdaoå¤ç”¨ï¼Œè€Œä¸”ä¸ä¼šé€ æˆæ•°æ®è¿æ¥æ³„éœ²å‘¢ï¼Œå¹¶ä¸”è¿˜å¯ä»¥è‡ªåŠ¨æ–°å»ºå’Œé‡Šæ”¾æ•°æ®åº“è¿æ¥ï¼Ÿå®˜æ–¹è§£ç­”æ˜¯å› ä¸ºSqlSessionTemplateæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œä¹Ÿå°±æ˜¯ç¡®ä¿æ¯ä¸ªçº¿ç¨‹ä½¿ç”¨çš„sqlSessionçš„å”¯ä¸€å¹¶ä¸äº’ç›¸å†²çªã€‚</p>
<p>é¦–å…ˆçœ‹äº†ä¸€ä¸‹mybatis-springçš„æºç ï¼Œå‘ç°SqlSessionTemplateæ˜¯é€šè¿‡ä»£ç†æ‹¦æˆªå’ŒSqlSessionHolderå®ç°çš„sqlsessionçº¿ç¨‹å®‰å…¨å’Œè‡ªåŠ¨æ–°å»ºå’Œé‡Šæ”¾è¿æ¥çš„ã€‚çœ‹æ„é€ å‡½æ•°å‡½æ•°ä¸­æ„å»ºä»£ç†ç±»ï¼Œè¯¥ä»£ç†ç±»å®ç°SqlSessionæ¥å£ï¼Œå®šä¹‰äº†æ–¹æ³•æ‹¦æˆªå™¨ï¼Œå¦‚æœè°ƒç”¨ä»£ç†ç±»å®ä¾‹ä¸­å®ç°SqlSessionæ¥å£å®šä¹‰çš„æ–¹æ³•ï¼Œè¯¥è°ƒç”¨åˆ™è¢«å¯¼å‘SqlSessionInterceptorçš„invokeæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¸­è‡ªåŠ¨è¿›è¡Œäº†SqlSessionçš„è‡ªåŠ¨è¯·æ±‚å’Œé‡Šæ”¾ï¼ˆå¦‚æœä¸è¢«springæ‰˜ç®¡åˆ™è‡ªå·±æ–°å»ºå’Œé‡Šæ”¾sqlsessionï¼Œå¦‚æœè¢«springç®¡ç†åˆ™ä½¿ç”¨SqlSessionHolderè¿›è¡Œrequestå’Œrelaseæ“ä½œï¼‰</p>
<p>ä»¥ä¸‹ç½‘å€é’ˆå¯¹SqlSessionTemplateçš„çº¿ç¨‹å®‰å…¨ç‰¹æ€§è¿›è¡Œäº†è¯¦ç»†çš„æ¢ç©¶ï¼š<a href="http://www.cnblogs.com/daxin/p/3544188.html" target="_blank" rel="noopener">http://www.cnblogs.com/daxin/p/3544188.html</a></p>
<p>å¦å¤–æ­¤å¤„è¿˜æœ‰ä¸€ä¸ªå‘:</p>
<p>ä¸Šé¢Springé…ç½®é‡Œæœ‰ä¸ªå‚æ•°è¢«æˆ‘æ³¨é‡Šäº†</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"1"</span> <span class="attr">value</span>=<span class="string">"BATCH"</span> /&gt;</span></span><br></pre></td></tr></table></figure>
<p>å®ƒçš„æ„æ€å°±æ˜¯defaultExecutorType=BATCH, defaultExecutorTypeæœ‰ä¸‰ä¸ªå€¼:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">simple -&gt; æ™®é€šè¿”å›</span><br><span class="line">reuse  -&gt; é‡å¤è¿”å›</span><br><span class="line">batch  -&gt; æ‰¹é‡æ›´æ–°</span><br></pre></td></tr></table></figure>
<p>ä¸€æ—¦é€‰æ‹©äº†batchå±æ€§, é‚£ä¹ˆæ‰€æœ‰æ›´æ–°æ’å…¥æ“ä½œè¿”å›çš„é‚£ä¸ªintç±»å‹çš„æ•°å€¼å°±ä¼šä½¿-2147482646, ä¹Ÿå°±æ˜¯è¿”å›å€¼ä¸¢å¤±äº†.</p>
]]></content>
      <categories>
        <category>Mybatis</category>
      </categories>
      <tags>
        <tag>Mybatis</tag>
        <tag>Mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>MyEclipse-æ–°è£…MyEclipseåçš„ä¸€ç³»åˆ—è®¾ç½®æ±‡æ€»</title>
    <url>/2017/02/19/20170319224848/</url>
    <content><![CDATA[<p>é¦–å…ˆç¬¬ä¸€æ­¥è‚¯å®šæ˜¯ç ´è§£æ— ç–‘ï¼Œæˆ‘æ²¡é’±å»ä¹°æ­£ç‰ˆçš„ã€‚ã€‚ã€‚</p>
<p>æŒ‰æˆ‘ä¹ æƒ¯çš„é¡ºåºæ¥ï¼Œå¯¼å…¥ä¸€é¡¹ç›®ï¼Œæ–¹ä¾¿å‚è€ƒç€è®¾ç½®ã€‚</p>
<h3 id="1-æ”¶èµ·åŒ…å">1. æ”¶èµ·åŒ…å</h3>
<p>é»˜è®¤æƒ…å†µä¸‹æ˜¯è¿™ä¸ªæ ·å­ä¸€é•¿ä¸²<br>
<img src="http://img.blog.csdn.net/20160212203014158?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"></p>
<p>ç‚¹å‡»æ­¤å¤„ä¸‰è§’ï¼Œç„¶åpackage presentationâ€”&gt;hierarchicalï¼Œå°±ä¼šå°±ä¼šå˜æˆå¦‚ä¸‹å›¾çš„æ•ˆæœ</p>
<p><img src="http://img.blog.csdn.net/20160212202939129?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"></p>
<h3 id="2-æ˜¾ç¤ºè¡Œå·">2. æ˜¾ç¤ºè¡Œå·</h3>
<p>ç›´æ¥æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ€æœ€ä¾§æ å³é”®ï¼Œå‹¾é€‰ä¸Šshow line numbers</p>
<h3 id="3-æ›´æ”¹å­—ä½“å¤§å°">3. æ›´æ”¹å­—ä½“å¤§å°</h3>
<p>Window --&gt; Preferences --&gt; General --&gt; Appearance --&gt; Colors and Fonts --&gt; Text Fontï¼ŒåŒå‡»è¿›è¡Œä¿®æ”¹</p>
<h3 id="4-æ›´æ”¹æ–‡ä»¶ç¼–ç ï¼ˆæ¨èå…¨éƒ¨æ”¹ä¸ºutf-8ï¼‰">4. æ›´æ”¹æ–‡ä»¶ç¼–ç ï¼ˆæ¨èå…¨éƒ¨æ”¹ä¸ºutf-8ï¼‰</h3>
<ul>
<li>windows-&gt;Preferences-&gt;general-&gt;Workspaceï¼Œå³ä¾§çª—å£Text file encodingï¼Œé€‰æ‹©Otherï¼Œæ”¹å˜ä¸ºUTF-8ï¼Œä»¥åæ–°å»ºç«‹å·¥ç¨‹å…¶å±æ€§å¯¹è¯æ¡†ä¸­çš„Text file encodingå³ä¸ºUTF-8ã€‚</li>
<li>windows----&gt;Preferencesâ€”&gt;Generalâ€”&gt;Content Typesï¼Œå³ä¾§Context Typesçª—å£ï¼Œç‚¹å¼€Textæ ‘ä¸­æ¯ä¸€é¢—å­é¡¹ï¼Œå¹¶åœ¨ä¸­è¾“å…¥&quot;UTF-8&quot;ï¼Œç‚¹â€œupdate â€æ›´æ–°ã€‚</li>
<li>windowâ€”&gt;preferenceâ€”&gt;MyEclipseâ€”&gt;Files and Editorsï¼Œå°†æ¯ä¸ªå­é¡¹çš„&quot;Encoding&quot;æ”¹ä¸º&quot;ISO 10645/Unicodeï¼ˆUTF-8ï¼‰&quot;ï¼Œç‚¹Applyã€‚</li>
</ul>
<p>ç»è¿‡è¿™æ ·çš„è®¾ç½®ï¼Œä¸€åˆ‡ç¼–ç éƒ½å·²ç»ç»Ÿä¸€äº†</p>
<h3 id="5-è®¾ç½®é…è‰²æ–¹æ¡ˆ">5. è®¾ç½®é…è‰²æ–¹æ¡ˆ</h3>
<p>ä¸ªäººè®¤ä¸ºç¼–è¾‘å™¨ç™½è‰²èƒŒæ™¯å¤ªåˆºçœ¼äº†ï¼Œä¹ æƒ¯æ¢æˆé»‘è‰²èƒŒæ™¯<br>
é…è‰²æ–¹æ¡ˆå¯ä»¥ä»è¿™é‡Œä¸‹è½½http://eclipsecolorthemes.org/ ï¼Œä¸‹è½½epfæ ¼å¼ç”¨æ¥å¯¼å…¥<br>
File-&gt;Import-&gt;General-&gt;preference,ç„¶åé€‰ä¸­ä½ ä¸‹è½½çš„epfæ–‡ä»¶ï¼Œç‚¹å‡»finish</p>
<hr>
<p>åˆ°æ­¤ä¸ºæ­¢è®¾ç½®å°±å…ˆå‘Šä¸€æ®µè½, å¦‚æœ‰å…¶å®ƒç”¨åˆ°çš„é…ç½®å†è¿›è¡Œè¡¥å…….</p>
]]></content>
      <categories>
        <category>MyEclipse</category>
      </categories>
      <tags>
        <tag>MyEclipse</tag>
      </tags>
  </entry>
  <entry>
    <title>MyEclipse-è®¾ç½®JAVAé€‰ä¸­é«˜äº®æ˜¾ç¤º</title>
    <url>/2017/02/18/20170218201209/</url>
    <content><![CDATA[<ol>
<li>æ‰“å¼€é«˜äº®æ˜¾ç¤ºåŠŸèƒ½<br>
é€‰æ‹©Windows-&gt;Preferences-&gt;Java-&gt; Editor-&gt; Mark Occurrences ï¼Œå‹¾é€‰é€‰é¡¹ã€‚è¿™æ—¶ï¼Œå½“ä½ å•å‡»ä¸€ä¸ªå…ƒç´ çš„æ—¶å€™ï¼Œä»£ç ä¸­æ‰€æœ‰è¯¥å…ƒç´ å­˜åœ¨çš„åœ°æ–¹éƒ½ä¼šè¢«é«˜äº®æ˜¾ç¤ºã€‚</li>
<li>è®¾ç½®é«˜äº®çš„é¢œè‰²<br>
Window/preferences/general/Editors/Text Editors/Annotations/Occurences</li>
</ol>
]]></content>
      <categories>
        <category>MyEclipse</category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>MyEclipse</tag>
      </tags>
  </entry>
  <entry>
    <title>SBT-ä¿®æ”¹èµ„æºåº“åœ°å€</title>
    <url>/2017/04/06/20170406210224/</url>
    <content><![CDATA[<p>åšå¤§æ•°æ®å¼€å‘, ç”¨scalaçš„éƒ½ä¼šç”¨åˆ°sbtæ¥æ‰“åŒ…ä¾èµ–, ä½†æ˜¯sbté»˜è®¤é…ç½®é‡Œè¿æ¥çš„å›½å¤–åœ°å€, æ ¹æœ¬å°±ä¸‹ä¸ä¸‹æ¥ä¾èµ–åŒ…, è€Œä¸”è¿˜æœ‰çš„åœ°å€æ˜¯httpsçš„, è¿æ¥éƒ½è¢«æ‹’ç»äº†, æ‰€ä»¥æˆ‘ä»¬å°±æ¥ä¿®æ”¹sbté»˜è®¤çš„é…ç½®.</p>
<p>é¦–å…ˆ, æˆ‘çš„ç³»ç»Ÿæ˜¯mac, ä¸ç®¡æ˜¯ç”¨ideaè£…çš„scalaæ’ä»¶é‡Œå¸¦çš„sbt, è¿˜æ˜¯ç”¨Homebrewå®‰è£…çš„sbt, éƒ½ä¼šåœ¨ç”¨æˆ·ç›®å½•ä¸‹æœ‰ä¸ª.sbtæ–‡ä»¶å¤¹, æ‰§è¡Œ<code>ll -a</code>å³å¯çœ‹åˆ°.</p>
<h3 id="æ–¹æ³•ä¸€">æ–¹æ³•ä¸€</h3>
<p>è¿›å…¥.sbtæ–‡ä»¶å¤¹, åˆ›å»ºä¸€ä¸ªåå«repositoriesçš„æ–‡ä»¶, é»˜è®¤åº”è¯¥æ˜¯æ²¡æœ‰çš„, å¹¶åŠ å…¥ä»¥ä¸‹å†…å®¹, æ¥è¦†ç›–é»˜è®¤é…ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[repositories]</span><br><span class="line">  local</span><br><span class="line">  aliyun: http:&#x2F;&#x2F;maven.aliyun.com&#x2F;nexus&#x2F;content&#x2F;groups&#x2F;public&#x2F;</span><br><span class="line">  maven-central: http:&#x2F;&#x2F;repo1.maven.org&#x2F;maven2&#x2F;</span><br><span class="line">  sbt-maven-releases: http:&#x2F;&#x2F;repo.scala-sbt.org&#x2F;scalasbt&#x2F;maven-releases&#x2F;, bootOnly</span><br><span class="line">  sbt-maven-snapshots: http:&#x2F;&#x2F;repo.scala-sbt.org&#x2F;scalasbt&#x2F;maven-snapshots&#x2F;, bootOnly</span><br><span class="line">  typesafe-ivy-releases: http:&#x2F;&#x2F;repo.typesafe.com&#x2F;typesafe&#x2F;ivy-releases&#x2F;, [organization]&#x2F;[module]&#x2F;[revision]&#x2F;[type]s&#x2F;[artifact](-[classifier]).[ext], bootOnly</span><br><span class="line">  sbt-ivy-snapshots: http:&#x2F;&#x2F;repo.scala-sbt.org&#x2F;scalasbt&#x2F;ivy-snapshots&#x2F;, [organization]&#x2F;[module]&#x2F;[revision]&#x2F;[type]s&#x2F;[artifact](-[classifier]).[ext], bootOnly</span><br></pre></td></tr></table></figure>
<p>å¯è§å…¶ä¸­åŠ å…¥äº†é˜¿é‡Œäº‘çš„mavenåœ°å€, ä¹‹å‰ç”¨è¿‡å¼€æºä¸­å›½çš„, åæ¥ä»–ä»¬å¹²ä¸ä¸‹å»äº†, è¿™æ¬¡é˜¿é‡Œäº‘æ¥ç›˜, åº”è¯¥ä¸ä¼šè½»æ˜“çš„ç‹—å¸¦.</p>
<h3 id="æ–¹æ³•äºŒ">æ–¹æ³•äºŒ</h3>
<p>ç†è®ºä¸Šæ·»åŠ ä»¥ä¸Šé…ç½®åå³å¯è¦†ç›–åŸæ¥çš„é»˜è®¤é…ç½®, ç„¶è€Œæˆ‘çš„sbtå¥½åƒæ­»æ´»å°±æ˜¯ä¸è¡Œ, æ‰€ä»¥æˆ‘è¿˜æœ‰ç¬¬äºŒä¸ªæ¯”è¾ƒhackerçš„æ–¹æ³•, æ—¢ç„¶é»˜è®¤é…ç½®è¦†ç›–ä¸æ‰, é‚£æˆ‘å°±æŠŠé»˜è®¤é…ç½®æ”¹äº†.</p>
<p>æˆ‘çš„sbtæ˜¯ç”¨Homebrewå®‰è£…çš„, é»˜è®¤å®‰è£…ä½ç½®åœ¨ <code>/usr/local/Cellar/sbt</code>, æ­¤å¤„æœ‰ä¸€ä¸ªbinæ–‡ä»¶å¤¹å’Œä¸€ä¸ªconfæ–‡ä»¶å¤¹, æˆ‘ä»¬è¦ç ´åçš„jaråŒ…å°±æ˜¯binä¸‹çš„sbt-launch.jaræ–‡ä»¶.<br>
tarè§£å‹sbt-launch.jaræ–‡ä»¶å¯ä»¥å¾—åˆ°ä»¥ä¸‹æ–‡ä»¶ç»“æ„:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">total 72</span><br><span class="line">drwxr-xr-x   3 wdp  staff   102B  5 12  2016 META-INF</span><br><span class="line">-rwxr-xr-x   1 wdp  staff    59B  8 17  2015 module.properties</span><br><span class="line">drwxr-xr-x   3 wdp  staff   102B  5 12  2016 org</span><br><span class="line">drwxr-xr-x   3 wdp  staff   102B  1  3 19:58 sbt</span><br><span class="line">-rwxr-xr-x   1 wdp  staff   681B  5 12  2016 sbt.boot.properties0.10.0</span><br><span class="line">-rwxr-xr-x   1 wdp  staff   681B  5 12  2016 sbt.boot.properties0.10.1</span><br><span class="line">-rwxr-xr-x   1 wdp  staff   681B  5 12  2016 sbt.boot.properties0.11.0</span><br><span class="line">-rwxr-xr-x   1 wdp  staff   681B  5 12  2016 sbt.boot.properties0.11.1</span><br><span class="line">-rwxr-xr-x   1 wdp  staff   681B  5 12  2016 sbt.boot.properties0.11.2</span><br><span class="line">-rwxr-xr-x   1 wdp  staff   675B  5 12  2016 sbt.boot.properties0.11.3</span><br><span class="line">-rwxr-xr-x   1 wdp  staff   959B  5 12  2016 sbt.boot.properties0.13.0</span><br><span class="line">-rwxr-xr-x   1 wdp  staff   690B  5 12  2016 sbt.boot.properties0.7</span><br><span class="line">drwxr-xr-x  61 wdp  staff   2.0K  5 12  2016 scala</span><br><span class="line">drwxr-xr-x   3 wdp  staff   102B  5 12  2016 xsbt</span><br><span class="line">drwxr-xr-x  24 wdp  staff   816B  5 12  2016 xsbti</span><br></pre></td></tr></table></figure>
<p>é»˜è®¤çš„é…ç½®æ–‡ä»¶å°±åœ¨sbtæ–‡ä»¶å¤¹ä¸‹çš„sbt.boot.propertiesæ–‡ä»¶, å¯¹æ­¤æ–‡ä»¶å†…çš„å†…å®¹è¿›è¡Œæ›¿æ¢, å¦‚ä¸‹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[scala]</span><br><span class="line">  version: $&#123;sbt.scala.version-auto&#125;</span><br><span class="line"></span><br><span class="line">[app]</span><br><span class="line">  org: $&#123;sbt.organization-org.scala-sbt&#125;</span><br><span class="line">  name: sbt</span><br><span class="line">  version: $&#123;sbt.version-read(sbt.version)[1.0.0-M4]&#125;</span><br><span class="line">  class: $&#123;sbt.main.class-sbt.xMain&#125;</span><br><span class="line">  components: xsbti,extra</span><br><span class="line">  cross-versioned: $&#123;sbt.cross.versioned-false&#125;</span><br><span class="line">  resources: $&#123;sbt.extraClasspath-&#125;</span><br><span class="line"></span><br><span class="line">[repositories]</span><br><span class="line">  local</span><br><span class="line">  aliyun: http:&#x2F;&#x2F;maven.aliyun.com&#x2F;nexus&#x2F;content&#x2F;groups&#x2F;public</span><br><span class="line">  maven-central: http:&#x2F;&#x2F;repo1.maven.org&#x2F;maven2&#x2F;</span><br><span class="line">  sbt-maven-releases: http:&#x2F;&#x2F;repo.scala-sbt.org&#x2F;scalasbt&#x2F;maven-releases&#x2F;, bootOnly</span><br><span class="line">  sbt-maven-snapshots: http:&#x2F;&#x2F;repo.scala-sbt.org&#x2F;scalasbt&#x2F;maven-snapshots&#x2F;, bootOnly</span><br><span class="line">  typesafe-ivy-releases: http:&#x2F;&#x2F;repo.typesafe.com&#x2F;typesafe&#x2F;ivy-releases&#x2F;, [organization]&#x2F;[module]&#x2F;[revision]&#x2F;[type]s&#x2F;[artifact](-[classifier]).[ext], bootOnly</span><br><span class="line">  sbt-ivy-snapshots: http:&#x2F;&#x2F;repo.scala-sbt.org&#x2F;scalasbt&#x2F;ivy-snapshots&#x2F;, [organization]&#x2F;[module]&#x2F;[revision]&#x2F;[type]s&#x2F;[artifact](-[classifier]).[ext], bootOnly</span><br><span class="line"></span><br><span class="line">[boot]</span><br><span class="line">  directory: $&#123;sbt.boot.directory-$&#123;sbt.global.base-$&#123;user.home&#125;&#x2F;.sbt&#125;&#x2F;boot&#x2F;&#125;</span><br><span class="line"></span><br><span class="line">[ivy]</span><br><span class="line">  ivy-home: $&#123;sbt.ivy.home-$&#123;user.home&#125;&#x2F;.ivy2&#x2F;&#125;</span><br><span class="line">  checksums: $&#123;sbt.checksums-sha1,md5&#125;</span><br><span class="line">  override-build-repos: $&#123;sbt.override.build.repos-false&#125;</span><br><span class="line">  repository-config: $&#123;sbt.repository.config-$&#123;sbt.global.base-$&#123;user.home&#125;&#x2F;.sbt&#125;&#x2F;repositories&#125;</span><br></pre></td></tr></table></figure>
<p>ä¿®æ”¹å®Œæˆ, å†æ‰§è¡Œ<code>jar -cfM ./sbt-launch.jar .</code>æ‰“æˆjaråŒ…, æŠŠbinç›®å½•ä¸‹çš„åŸå§‹jaråŒ…æ›¿æ¢æ‰å³å¯, è¿™æ¬¡ä¿è¯å¦¥å¦¥çš„.</p>
<p>é™„ä¸Šæˆ‘æ”¹å¥½çš„jaråŒ…ä¸‹è½½åœ°å€, é€ç»™æ‡’å¾—è‡ªå·±åŠ¨æ‰‹çš„äººä»¬, ä¼ é€é—¨ -&gt; <a href="http://www.wangdanpeng.com/jars/sbt-launch.jar">sbt-launch.jar</a></p>
]]></content>
      <categories>
        <category>SBT</category>
      </categories>
      <tags>
        <tag>SBT</tag>
      </tags>
  </entry>
  <entry>
    <title>Scala-æŠ“å–é¡¹ç›®ä»£ç ä¸­å…¨éƒ¨ä»£ç æ³¨é‡Š</title>
    <url>/2019/05/13/Scala-%E6%8A%93%E5%8F%96%E9%A1%B9%E7%9B%AE%E4%BB%A3%E7%A0%81%E4%B8%AD%E5%85%A8%E9%83%A8%E4%BB%A3%E7%A0%81%E6%B3%A8%E9%87%8A/</url>
    <content><![CDATA[<p>æ—¥å‰æŸç«™ä»£ç æ³„éœ², å¤§ä½¬ä»¬è´´å‡ºå¾ˆå¤šä»£ç ä¸­æœ‰è¶£çš„æ³¨é‡Š, äºæ˜¯çªå‘å¥‡æƒ³, å†™äº†ä¸€ä¸ªæ²¡æœ‰ç”¨çš„å°ç¨‹åºâ€¦</p>
<p>(ps: æŸç«™ä»£ç æˆ‘æ²¡çœ‹, ä½ ä»¬å¯, åˆ«çè¯´â€¦)</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> scala.io.<span class="type">Source</span></span><br><span class="line"><span class="keyword">import</span> java.util.regex.<span class="type">Pattern</span></span><br><span class="line"><span class="keyword">import</span> java.io.&#123;<span class="type">File</span>, <span class="type">PrintWriter</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">object</span> <span class="title">Bi</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">getFile</span></span>(file:<span class="type">File</span>): <span class="type">Array</span>[<span class="type">File</span>] =&#123;</span><br><span class="line">    <span class="keyword">val</span> files = file.listFiles()</span><br><span class="line">                    .filter(! _.isDirectory)</span><br><span class="line">                    <span class="comment">// æŒ‡å®šè¦è¯»å–ä»€ä¹ˆæ–‡ä»¶</span></span><br><span class="line">                    .filter(t =&gt; t.toString.endsWith(<span class="string">".go"</span>))</span><br><span class="line">    files ++ file.listFiles()</span><br><span class="line">                  .filter(f =&gt; f.isDirectory</span><br><span class="line">                    <span class="comment">// æŒ‡å®šæ’é™¤æ‰ä»€ä¹ˆæ–‡ä»¶å¤¹</span></span><br><span class="line">                    &amp;&amp; f.getName != <span class="string">"vendor"</span>)</span><br><span class="line">                  .flatMap(getFile)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">check</span></span>(s: <span class="type">String</span>): <span class="type">Boolean</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> pattern = <span class="string">"[\u4e00-\u9fa5]+"</span></span><br><span class="line">    <span class="keyword">val</span> p = <span class="type">Pattern</span>.compile(pattern)</span><br><span class="line">    <span class="keyword">val</span> result = p.matcher(s)</span><br><span class="line">    <span class="keyword">if</span> (result.find()) <span class="literal">true</span> <span class="keyword">else</span> <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">def</span> <span class="title">main</span></span>(args: <span class="type">Array</span>[<span class="type">String</span>]): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> path = <span class="keyword">new</span> <span class="type">File</span>(<span class="string">"ç›®æ ‡æ–‡ä»¶å¤¹è·¯å¾„"</span>)</span><br><span class="line">    <span class="keyword">val</span> writer = <span class="keyword">new</span> <span class="type">PrintWriter</span>(<span class="keyword">new</span> <span class="type">File</span>(<span class="string">"è¾“å‡ºæ–‡ä»¶è·¯å¾„"</span>))</span><br><span class="line"></span><br><span class="line">    getFile(path).foreach&#123; file =&gt;</span><br><span class="line">      <span class="keyword">var</span> flag = <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">      <span class="keyword">val</span> text=<span class="type">Source</span>.fromFile(file)</span><br><span class="line">      <span class="keyword">for</span>(line &lt;- text.getLines)</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="keyword">if</span> (line.trim.startsWith(<span class="string">"//"</span>) &amp;&amp; check(line)) &#123;</span><br><span class="line">          flag = <span class="literal">true</span></span><br><span class="line">          writer.println(<span class="string">s"-----<span class="subst">$line</span>"</span>)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span> (flag) &#123;</span><br><span class="line">        <span class="comment">// æ‰“å°ä»¥ä¸Šæ³¨é‡Šå‡ºè‡ªå“ªä¸ªæ–‡ä»¶</span></span><br><span class="line">        writer.println(file.getPath)</span><br><span class="line">      &#125;</span><br><span class="line">      text.close</span><br><span class="line">    &#125;</span><br><span class="line">    writer.close()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Scala</category>
      </categories>
      <tags>
        <tag>Scala</tag>
      </tags>
  </entry>
  <entry>
    <title>Spark-RDDç®€å•ä»‹ç»</title>
    <url>/2018/11/28/20181128141747/</url>
    <content><![CDATA[<p>ç»“åˆSparkå®˜ç½‘, å¯¹Spark RDDçš„ä¸€äº›ç®€å•ä»‹ç»å’Œæ€»ç»“.</p>
<p>RDDæ˜¯Sparkæä¾›çš„ä¸»è¦æŠ½è±¡, å…¨ç§°å¼¹æ€§åˆ†å¸ƒå¼æ•°æ®é›†, å®ƒæ˜¯è·¨é›†ç¾¤èŠ‚ç‚¹æ¥åˆ†åŒºçš„å…ƒç´ é›†åˆ, å¯ä»¥å¹¶è¡Œæ“ä½œ, å¯ä»¥ä¿ç•™åœ¨å†…å­˜, è¿˜å¯ä»¥è‡ªåŠ¨ä»èŠ‚ç‚¹æ•…éšœä¸­æ¢å¤.</p>
<h2 id="åˆ›å»ºRDD">åˆ›å»ºRDD</h2>
<p>åˆ›å»ºRDDæœ‰ä¸¤ç§æ–¹æ³•</p>
<p><strong>å¹¶è¡ŒåŒ–ç°æœ‰é›†åˆ</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">val data &#x3D; Array(1, 2, 3, 4, 5)</span><br><span class="line">val rdd &#x3D; sc.parallelize(data)</span><br><span class="line">val rdd2 &#x3D; sc.parallelize(data, 10)</span><br></pre></td></tr></table></figure>
<p>å¹¶è¡Œé›†åˆçš„ä¸€ä¸ªé‡è¦å‚æ•°å°±æ˜¯å°†æ•°æ®é›†åˆ‡åˆ†çš„åˆ†åŒºæ•°. Sparkæ‰§è¡Œä»»åŠ¡æ—¶, ä¸ºæ¯ä¸€ä¸ªåˆ†åŒºäº§ç”Ÿä¸€ä¸ªtask, åˆ†åŒºæ•°ä¹Ÿå°±æ˜¯ä»»åŠ¡æ‰§è¡Œæ—¶çš„å¹¶è¡Œåº¦, æ‰€ä»¥å¯ä»¥é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°æ¥æ‰‹åŠ¨è®¾ç½®åˆ†åŒºæ•°.</p>
<p><strong>å¼•ç”¨å¤–éƒ¨å­˜å‚¨ç³»ç»Ÿä¸­çš„æ•°æ®é›†</strong><br>
Sparkå¯ä»¥ä»Hadoopæ”¯æŒçš„ä»»ä½•å­˜å‚¨ç³»ç»Ÿåˆ›å»ºRDD, åŒ…æ‹¬æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ, HDFS, HBaseç­‰ç­‰.</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">val rdd &#x3D; sc.textFile(&quot;data.text&quot;)</span><br></pre></td></tr></table></figure>
<p>å…³äºè¯»å–æ–‡ä»¶çš„æ³¨æ„äº‹é¡¹</p>
<ul>
<li>å¦‚æœä½¿ç”¨çš„æ˜¯æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿè·¯å¾„, è¦ç¡®ä¿è¯¥æ–‡ä»¶å·²å‘é€åˆ°æ‰€æœ‰workerèŠ‚ç‚¹ä¸Šçš„ç›¸åŒè·¯å¾„ä¸‹.</li>
<li>æ–‡ä»¶çš„URIæ”¯æŒä½¿ç”¨é€šé…ç¬¦, å¦‚textFile(â€œ/my/directory/*.txtâ€)</li>
<li>è¯¥æ–¹æ³•åŒæ ·æœ‰ç¬¬äºŒä¸ªå¯é€‰å‚æ•°æ¥æ§åˆ¶åˆ†åŒºæ•°, é»˜è®¤Sparkä¸ºæ–‡ä»¶çš„æ¯ä¸ªå—åˆ›å»ºä¸€ä¸ªåˆ†åŒº(HDFSä¸­é»˜è®¤ä¸€å—128MB), ä½ åªèƒ½åˆ›å»ºæ¯”ç°æœ‰å—æ›´å¤šçš„åˆ†åŒº, ä¸èƒ½æ›´å°‘.</li>
</ul>
<h2 id="RDDæ“ä½œ">RDDæ“ä½œ</h2>
<p>RDDçš„æ“ä½œåˆ†ä¸¤ç§ç±»å‹: transformation(è½¬æ¢, ä»ç°æœ‰æ•°æ®é›†åˆ›å»ºæ–°çš„æ•°æ®é›†)å’Œaction(è¡ŒåŠ¨, åœ¨æ•°æ®é›†ä¸Šè¿è¡Œè®¡ç®—åå°†å€¼è¿”å›ç»™driverç«¯).<br>
Sparkä¸­æ‰€æœ‰çš„è½¬æ¢éƒ½æ˜¯æ‡’æƒ°çš„, æ‰€ä»¥è½¬æ¢æ“ä½œå¹¶ä¸ä¼šè§¦å‘Spark jobçš„æäº¤, åªæœ‰è§¦å‘actionæ—¶, æ‰ä¼šæäº¤jobè¿ç®—ç»“æœ.</p>
<p>å¸¸è§çš„è½¬æ¢æ“ä½œ</p>
<table>
<thead>
<tr>
<th style="text-align:left">åç§°</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>map</strong>(func)</td>
<td style="text-align:left">å°†RDDä¸­æ¯ä¸ªå…ƒç´ ä¸€ä¸€è½¬æ¢æˆæ–°å…ƒç´ è¿”å›æ–°æ•°æ®é›†</td>
</tr>
<tr>
<td style="text-align:left"><strong>filter</strong>(func)</td>
<td style="text-align:left">è¿”å›funcä¸ºtrueçš„å…ƒç´ å½¢æˆçš„æ–°æ•°æ®é›†</td>
</tr>
<tr>
<td style="text-align:left"><strong>flatMap</strong>(func)</td>
<td style="text-align:left">å°†RDDä¸­çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œä¸€å¯¹å¤šè½¬æ¢å½¢æˆæ–°çš„æ•°æ®é›†</td>
</tr>
<tr>
<td style="text-align:left"><strong>union</strong>(otherDataset)</td>
<td style="text-align:left">å°†ä¸¤ä¸ªé›†åˆä¸­çš„æ•°æ®è¿›è¡Œåˆå¹¶, è¿”å›ä¸¤ä¸ªé›†åˆçš„å¹¶é›†, ä¸å»é‡</td>
</tr>
<tr>
<td style="text-align:left"><strong>join</strong>(otherDataset, [numPartitions])</td>
<td style="text-align:left">å½“è°ƒç”¨ç±»å‹(K, V)å’Œ(K, W)çš„æ•°æ®é›†æ—¶, è¿”å›(K, (V, W))å¯¹çš„æ•°æ®é›†ä»¥åŠæ¯ä¸ªé”®çš„æ‰€æœ‰å…ƒç´ å¯¹</td>
</tr>
<tr>
<td style="text-align:left"><strong>groupByKey</strong>([numPartitions])</td>
<td style="text-align:left">åœ¨(K, V)å¯¹çš„æ•°æ®é›†ä¸Šè°ƒç”¨, è¿”å›(K, Iterable<V>)å¯¹çš„æ•°æ®é›†;é»˜è®¤è¾“å‡ºçš„å¹¶è¡Œåº¦å–å†³äºçˆ¶RDDçš„åˆ†åŒºæ•°, ä¹Ÿå¯ä»¥ä½¿ç”¨numPartitionså‚æ•°æŒ‡å®š</td>
</tr>
<tr>
<td style="text-align:left"><strong>reduceByKey</strong>(func, [numPartitions])</td>
<td style="text-align:left">å½“è°ƒç”¨(K, V)å¯¹çš„æ•°æ®é›†æ—¶, è¿”å›(K, V)å¯¹æ•°æ®é›†, ä½¿ç”¨ç»™å®šçš„reduceå‡½æ•°funcèšåˆæ¯ä¸ªé”®çš„å€¼, åŒæ ·å¯ä»¥é€šè¿‡numPartitionså‚æ•°æŒ‡å®šä»»åŠ¡æ•°é‡</td>
</tr>
<tr>
<td style="text-align:left"><strong>sortByKey</strong>([ascending], [numpartitions])</td>
<td style="text-align:left">è¿”å›æŒ‰Keyå‡åºæˆ–é™åºçš„(K, V)å¯¹çš„æ•°æ®é›†</td>
</tr>
<tr>
<td style="text-align:left"><strong>repartition</strong>(numPartitions)</td>
<td style="text-align:left">éšæœºé‡æ–°è°ƒæ•´RDDä¸­çš„æ•°æ®ä»¥åˆ›å»ºæ›´å¹³è¡¡çš„åˆ†åŒº</td>
</tr>
</tbody>
</table>
<p>å¸¸è§è¡ŒåŠ¨æ“ä½œ</p>
<table>
<thead>
<tr>
<th style="text-align:left">åç§°</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>reduce</strong>(func)</td>
<td style="text-align:left">ä½¿ç”¨funcæ¥èšåˆæ•°æ®é›†çš„å…ƒç´ </td>
</tr>
<tr>
<td style="text-align:left"><strong>collect</strong>()</td>
<td style="text-align:left">åœ¨driverç«¯å°†æ•°æ®é›†æ‰€æœ‰å…ƒç´ ä½œä¸ºæ•°ç»„è¿”å›, æ³¨æ„å½“ç»“æœé›†å¾ˆå¤§æ—¶ååˆ†æ¶ˆè€—å†…å­˜</td>
</tr>
<tr>
<td style="text-align:left"><strong>count</strong>()</td>
<td style="text-align:left">è¿”å›æ•°æ®é›†ä¸­çš„å…ƒç´ æ•°</td>
</tr>
<tr>
<td style="text-align:left"><strong>first</strong>()</td>
<td style="text-align:left">è¿”å›æ•°æ®é›†ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ </td>
</tr>
<tr>
<td style="text-align:left"><strong>take</strong>(n)</td>
<td style="text-align:left">è¿”å›æ•°æ®é›†ä¸­çš„å‰nä¸ªå…ƒç´ çš„æ•°ç»„</td>
</tr>
<tr>
<td style="text-align:left"><strong>saveAsTextFile</strong>(path)</td>
<td style="text-align:left">å°†æ•°æ®é›†çš„å…ƒç´ ä½œä¸ºæ–‡æœ¬æ–‡ä»¶å†™å…¥Hadoopæ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿçš„æŒ‡å®šç›®å½•ä¸­</td>
</tr>
<tr>
<td style="text-align:left"><strong>foreach</strong>(func)</td>
<td style="text-align:left">åœ¨æ¯ä¸ªå…ƒç´ ä¸Šè¿è¡Œfunc</td>
</tr>
</tbody>
</table>
<h2 id="Shuffle">Shuffle</h2>
<p>åœ¨Sparkä¸­, å•ä¸ªä»»åŠ¡åœ¨å•ä¸ªåˆ†åŒºä¸Šè¿è¡Œ, ä¸ºäº†ç»„ç»‡æ‰§è¡Œå•ä¸ªreduceä»»åŠ¡çš„æ‰€æœ‰æ•°æ®, å°±å¿…é¡»ä»æ‰€æœ‰åˆ†åŒºä¸­è¯»å–æ‰€æœ‰é”®çš„æ‰€æœ‰å€¼, ç„¶åå°†å„ä¸ªå€¼ç»„åˆåœ¨ä¸€èµ·ä»¥è®¡ç®—æ¯ä¸ªé”®çš„ç»“æœ, è¿™å°±æ˜¯Shuffle.</p>
<p>ä¸€èˆ¬è§¦å‘shuffleçš„æ“ä½œåŒ…æ‹¬é‡æ–°åˆ†åŒº, å¦‚repartitionå’Œcoalesce; ByKeyæ“ä½œ, å¦‚groupByKeyå’ŒreduceByKey;è¿æ¥æ“ä½œ, å¦‚joinå’Œcogroup.</p>
<p>shuffleæ“ä½œæ¶ˆè€—å·¨å¤§, å› ä¸ºå®ƒæ¶‰åŠåˆ°ç£ç›˜I/O, æ•°æ®åºåˆ—åŒ–å’Œç½‘ç»œI/O.ä¸ºäº†ç»„ç»‡shuffleçš„æ•°æ®, Sparkç”Ÿæˆå¤šç»„mapä»»åŠ¡ä»¥ç»„ç»‡æ•°æ®, ä»¥åŠä¸€ç»„reduceä»»åŠ¡æ¥èšåˆæ•°æ®.mapä»»åŠ¡çš„ç»“æœä¼šä¿ç•™åœ¨å†…å­˜ä¸­, ç›´åˆ°å†…å­˜æ”¾ä¸ä¸‹, Sparkä¼šå°†è¿™äº›æ•°æ®æº¢å‡ºåˆ°ç£ç›˜, ä»è€Œå¯¼è‡´ç£ç›˜I/Oçš„é¢å¤–å¼€é”€å’Œåƒåœ¾å›æ”¶çš„å¢åŠ .<br>
Shuffleè¿˜ä¼šåœ¨ç£ç›˜ä¸Šç”Ÿæˆå¤§é‡ä¸­é—´æ–‡ä»¶, ä»Spark1.3å¼€å§‹, è¿™äº›æ–‡ä»¶ç›´åˆ°ç›¸å…³RDDä¸å†ä½¿ç”¨æ‰ä¼šè¢«åƒåœ¾å›æ”¶, è¿™æ ·åšæ˜¯ä¸ºäº†åœ¨é‡æ–°è®¡ç®—æ—¶, ä¸éœ€è¦é‡æ–°åˆ›å»ºshuffleæ–‡ä»¶.spark.local.dirå¯é…ç½®ä¸´æ—¶å­˜å‚¨ç›®å½•.</p>
<h2 id="RDDæŒä¹…æ€§">RDDæŒä¹…æ€§</h2>
<p>Sparkä¸­æœ€é‡è¦çš„åŠŸèƒ½ä¹‹ä¸€å°±æ˜¯è·¨æ“ä½œåœ¨å†…å­˜ä¸­æŒä¹…åŒ–æ•°æ®é›†.å½“ä½ ç¼“å­˜RDDæ—¶, æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šå°†å®ƒè®¡ç®—çš„åˆ†åŒºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­, å¹¶åœ¨è¯¥æ•°æ®é›†çš„å…¶ä»–æ“ä½œä¸­é‡ç”¨å®ƒä»¬, è¿™ä½¿å¾—åç»­æ“ä½œæ‰§è¡Œæ›´å¿«.ç¼“å­˜æ˜¯è¿­ä»£ç®—æ³•å’Œå¿«é€Ÿäº¤äº’å¼ä½¿ç”¨çš„å…³é”®å·¥å…·.</p>
<p>ä½ å¯ä»¥ä½¿ç”¨persist()æˆ–cache()æ–¹æ³•æ ‡è®°è¦ç¼“å­˜çš„RDD.ç¬¬ä¸€æ¬¡è®¡ç®—å®ƒæ—¶, ä¼šå°†RDDä¿ç•™åœ¨èŠ‚ç‚¹å†…å­˜ä¸­.</p>
<p>æ­¤å¤–, æ¯ä¸ªæŒä¹…åŒ–çš„RDDéƒ½å¯ä»¥ä½¿ç”¨ä¸åŒçš„å­˜å‚¨çº§åˆ«è¿›è¡Œå­˜å‚¨.ä¾‹å¦‚, å­˜åœ¨å†…å­˜é‡Œ, å­˜åœ¨ç£ç›˜ä¸Š, åºåˆ—åŒ–ä¸ºJavaå¯¹è±¡ç­‰.persist()é€šè¿‡ä¼ é€’StorageLevelå¯¹è±¡æ¥è®¾ç½®çº§åˆ«, cache()æ–¹æ³•é»˜è®¤å®ç”¨StorageLevel.MEMORY_ONLY.<br>
å…¨éƒ¨å­˜å‚¨çº§åˆ«æœ‰</p>
<table>
<thead>
<tr>
<th style="text-align:left">å­˜å‚¨çº§åˆ«</th>
<th style="text-align:left">è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">â€œMEMORY_ONLYâ€</td>
<td style="text-align:left">é»˜è®¤çº§åˆ«,å°†RDDå­˜å‚¨ä¸ºJVMä¸­çš„ååºåˆ—åŒ–Javaå¯¹è±¡, å¦‚æœå†…å­˜ä¸å¤Ÿå°†ä¸ä¼šè¢«ç¼“å­˜</td>
</tr>
<tr>
<td style="text-align:left">â€œMEMORY_AND_DISKâ€</td>
<td style="text-align:left">å°†RDDå­˜å‚¨ä¸ºJVMä¸­çš„ååºåˆ—åŒ–Javaå¯¹è±¡, å¦‚æœå†…å­˜ä¸å¤Ÿå°†æº¢å‡ºåˆ°ç£ç›˜</td>
</tr>
<tr>
<td style="text-align:left">MEMORY_ONLY_SER(Javaå’ŒScala)</td>
<td style="text-align:left">å°†RDDå­˜å‚¨ä¸ºåºåˆ—åŒ–Javaå¯¹è±¡, è¿™é€šå¸¸æ¯”ååºåˆ—åŒ–å¯¹è±¡æ›´èŠ‚çœç©ºé—´, ä½†æ˜¯è¯»å–CPUå¯†é›†ç¨‹åº¦æ›´é«˜</td>
</tr>
<tr>
<td style="text-align:left">MEMORY_AND_DISK_SER(Javaå’ŒScala)</td>
<td style="text-align:left">ä¸MEMORY_ONLY_SERç±»ä¼¼, ä½†å°†ä¸é€‚åˆåœ¨å†…å­˜çš„åˆ†åŒºæº¢å‡ºåˆ°ç£ç›˜.</td>
</tr>
<tr>
<td style="text-align:left">DISK_ONLY</td>
<td style="text-align:left">ä»…å°†RDDå­˜å‚¨åœ¨ç£ç›˜ä¸Š</td>
</tr>
<tr>
<td style="text-align:left">MEMORY_ONLY_2,MEMORY_AND_DISK_2ç­‰</td>
<td style="text-align:left">ä¸ä»¥ä¸Šçº§åˆ«ç›¸åŒ, ä½†åœ¨é›†ç¾¤çš„ä¸¤ä¸ªèŠ‚ç‚¹ä¸Šå¤åˆ¶</td>
</tr>
<tr>
<td style="text-align:left">OFF_HEAP(å®éªŒæ€§)</td>
<td style="text-align:left">ä¸MEMORY_ONLY_SERç±»ä¼¼, ä½†å°†æ•°æ®å­˜å‚¨åœ¨å †å¤–å†…å­˜, è¿™éœ€è¦å¯ç”¨å †å¤–å†…å­˜</td>
</tr>
</tbody>
</table>
]]></content>
      <categories>
        <category>Spark</category>
      </categories>
      <tags>
        <tag>Spark</tag>
        <tag>RDD</tag>
        <tag>æ–‡æ¡£</tag>
      </tags>
  </entry>
  <entry>
    <title>Spark-ä»wordCountåˆ°jobè°ƒåº¦è¿‡ç¨‹</title>
    <url>/2017/03/05/20170305231525/</url>
    <content><![CDATA[<p>ä»¥wordCountä¸ºä¾‹, ç ”ç©¶å­¦ä¹ spark(ç‰ˆæœ¬2.1.0)çš„æ•´ä¸ªjobè°ƒåº¦è¿‡ç¨‹,æ•´ç†æ€»ç»“å¦‚ä¸‹:</p>
<h3 id="WordCount">WordCount</h3>
<p>é¦–å…ˆ, ä¸€ä¸ªç®€å•çš„wordCountç¨‹åº</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> rawFile = sc.textFile(<span class="string">"README.md"</span>)</span><br><span class="line"><span class="keyword">val</span> words = rawFile.flatMap(w =&gt; w.split(<span class="string">" "</span>))</span><br><span class="line"><span class="keyword">val</span> wordNum = words.map(w =&gt; (w, <span class="number">1</span>))</span><br><span class="line"><span class="keyword">val</span> wordCount = wordNum.reduceByKey(_ + _)</span><br><span class="line">wordCount.collect</span><br></pre></td></tr></table></figure>
<p>æˆ‘æ˜¯ç”¨idea + spark-shellæ–­ç‚¹è°ƒè¯•sparkæºç çš„, å¯ä»¥ä¸€è¡Œä»£ç ä¸€è¡Œä»£ç çš„è¿½æ‰§è¡Œè¿‡ç¨‹,  è°ƒè¯•æ–¹æ³•å¯è§æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç«  <a href="http://www.wangdanpeng.com/2017/03/12/Spark-%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95/">Spark-æ–­ç‚¹è°ƒè¯•</a>.</p>
<h4 id="ç¬¬ä¸€è¡Œ">ç¬¬ä¸€è¡Œ</h4>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> rawFile = sc.textFile(<span class="string">"README.md"</span>)</span><br></pre></td></tr></table></figure>
<p>è°ƒç”¨çš„SparkContextçš„textFileæ–¹æ³•, çœ‹æºç :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">textFile</span></span>(</span><br><span class="line">    path: <span class="type">String</span>,</span><br><span class="line">    minPartitions: <span class="type">Int</span> = defaultMinPartitions): <span class="type">RDD</span>[<span class="type">String</span>] = withScope &#123;</span><br><span class="line">  assertNotStopped()</span><br><span class="line">  hadoopFile(path, classOf[<span class="type">TextInputFormat</span>], classOf[<span class="type">LongWritable</span>], classOf[<span class="type">Text</span>],</span><br><span class="line">    minPartitions).map(pair =&gt; pair._2.toString).setName(path)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹å‡ºæ­¤å¤„å…ˆæ˜¯hadoopFileæ–¹æ³•è¯»å–hdfsä¸Šçš„ä¸€ä¸ªREADME.mdæ–‡ä»¶, å¹¶ç”Ÿæˆäº†ä¸€ä¸ªHadoopRDD, éšååˆè°ƒç”¨mapæ–¹æ³•, ç”Ÿæˆäº†ä¸€ä¸ªMapPartitionsRDD.</p>
<p>æ‰§è¡Œç»“æœ:</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">scala&gt; val rawFile = sc.textFile(<span class="string">"README.md"</span>)</span><br><span class="line">rawFile: org.apache.spark.rdd.RDD[String] = README.md MapPartitionsRDD[3] at textFile at &lt;console&gt;:24</span><br></pre></td></tr></table></figure>
<h4 id="ç¬¬äºŒè¡Œ">ç¬¬äºŒè¡Œ</h4>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> words = rawFile.flatMap(w =&gt; w.split(<span class="string">" "</span>))</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„è°ƒç”¨äº†MapPartitionsRDDç»§æ‰¿è‡ªRDDç±»çš„flatMapæ–¹æ³•, æºç :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">flatMap</span></span>[<span class="type">U</span>: <span class="type">ClassTag</span>](f: <span class="type">T</span> =&gt; <span class="type">TraversableOnce</span>[<span class="type">U</span>]): <span class="type">RDD</span>[<span class="type">U</span>] = withScope &#123;</span><br><span class="line">  <span class="keyword">val</span> cleanF = sc.clean(f)</span><br><span class="line">  <span class="keyword">new</span> <span class="type">MapPartitionsRDD</span>[<span class="type">U</span>, <span class="type">T</span>](<span class="keyword">this</span>, (context, pid, iter) =&gt; iter.flatMap(cleanF))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>flatMapæ–¹æ³•å¯ä»¥å°†RDDä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œä¸€å¯¹å¤šè½¬æ¢, æ‰€ä»¥æ­¤å¤„ä½¿ç”¨flatMapæ–¹æ³•å°†è¯»å…¥çš„å†…å®¹æŒ‰ç©ºæ ¼åˆ†å‰², æ¯ä¸ªå•è¯æˆä¸ºä¸€ä¸ªå…ƒç´ , è½¬å˜å®Œä»ä¸ºMapPartitionsRDD.</p>
<h4 id="ç¬¬ä¸‰è¡Œ">ç¬¬ä¸‰è¡Œ</h4>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> wordNum = words.map(w =&gt; (w, <span class="number">1</span>))</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„è°ƒç”¨äº†MapPartitionsRDDç»§æ‰¿è‡ªRDDç±»çš„mapæ–¹æ³•, è§æºç :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">map</span></span>[<span class="type">U</span>: <span class="type">ClassTag</span>](f: <span class="type">T</span> =&gt; <span class="type">U</span>): <span class="type">RDD</span>[<span class="type">U</span>] = withScope &#123;</span><br><span class="line">  <span class="keyword">val</span> cleanF = sc.clean(f)</span><br><span class="line">  <span class="keyword">new</span> <span class="type">MapPartitionsRDD</span>[<span class="type">U</span>, <span class="type">T</span>](<span class="keyword">this</span>, (context, pid, iter) =&gt; iter.map(cleanF))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>mapæ–¹æ³•å°†RDDä¸­ç±»å‹ä¸ºTçš„å…ƒç´ ä¸€å¯¹ä¸€æ˜ å°„ä¸ºç±»å‹ä¸ºUçš„å…ƒç´ , æ‰€ä»¥æ­¤å¤„æˆ‘ä»¬è¦ç»Ÿè®¡çš„å•ä¸ªå•è¯è¢«è½¬æ¢ä¸ºäº†(w, 1)å½¢å¼çš„é”®å€¼å¯¹, è¿›è¿‡æ­¤æ­¥è½¬æ¢ä»ä¸ºMapPartitionsRDD.</p>
<h4 id="ç¬¬å››è¡Œ">ç¬¬å››è¡Œ</h4>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> wordCount = wordNum.reduceByKey(_ + _)</span><br></pre></td></tr></table></figure>
<p>è¿™æ¬¡è°ƒç”¨çš„reduceByKeyæ–¹æ³•ä¸åœ¨RDDç±»é‡Œ, è€Œåœ¨PairRDDFunctionsç±», è¿™é‡Œå‘ç”Ÿäº†ä¸€ä¸ªéšå¼è½¬æ¢, å°†MapPartitionsRDDè½¬æ¢æˆäº†PairRDDFunctions, æ–¹æ³•æºç :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reduceByKey</span></span>(func: (<span class="type">V</span>, <span class="type">V</span>) =&gt; <span class="type">V</span>): <span class="type">RDD</span>[(<span class="type">K</span>, <span class="type">V</span>)] = self.withScope &#123;</span><br><span class="line">  reduceByKey(defaultPartitioner(self), func)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>reduceByKeyæŒ‰keyæŠŠç›¸åŒå•è¯åŠ åˆ°ä¸€èµ·, å¾—å‡ºæ¯ä¸ªå•è¯å‡ºç°çš„é¢‘ç‡.</p>
<h4 id="ç¬¬äº”è¡Œ">ç¬¬äº”è¡Œ</h4>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">wordCount.collect</span><br></pre></td></tr></table></figure>
<p>åˆ°ç¬¬å››è¡Œä¸ºæ­¢, æ‰€æœ‰ä»»åŠ¡å¹¶æ²¡æœ‰æ‰§è¡Œ, åªåˆ°ç¬¬äº”æ­¥, è°ƒç”¨RDDçš„collectæ–¹æ³•, ä¼šè°ƒç”¨sc.runJob, æºç :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">collect</span></span>(): <span class="type">Array</span>[<span class="type">T</span>] = withScope &#123;</span><br><span class="line">  <span class="keyword">val</span> results = sc.runJob(<span class="keyword">this</span>, (iter: <span class="type">Iterator</span>[<span class="type">T</span>]) =&gt; iter.toArray)</span><br><span class="line">  <span class="type">Array</span>.concat(results: _*)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ä»è¿™é‡Œå¼€å§‹ç”ŸæˆJobå¹¶æäº¤åˆ°Sparké›†ç¾¤ä¸­è¿è¡Œ, è‡³æ­¤æ‰å¼•å‡ºæˆ‘ä»¬ç ”ç©¶çš„é‡ç‚¹, Jobçš„æ•´ä¸ªè°ƒåº¦è¿‡ç¨‹.</p>
<p>æ­¤å¤„è°ƒç”¨çš„æ˜¯SparkContextçš„runJobæ–¹æ³•, åœ¨SparkContextä¸­é‡è½½äº†å¾ˆå¤šrunJobæ–¹æ³•, é€šè¿‡ä¸€è¿ä¸²çš„runJobé—´è°ƒç”¨, è®¾ç½®äº†RDD, function, åˆ†åŒºæ•°, åŒ¿åå‡½æ•°è½¬æ¢ç­‰, æœ€ååˆ°äº†æœ€é‡è¦çš„DAGScheduler.runJob.</p>
<h3 id="Jobdè°ƒåº¦æµç¨‹">Jobdè°ƒåº¦æµç¨‹</h3>
<h4 id="1-DAGScheduleræäº¤Job">1. DAGScheduleræäº¤Job</h4>
<p>DAGScheduleræœ€é‡è¦çš„ä»»åŠ¡ä¹‹ä¸€å°±æ˜¯åˆ†æä¾èµ–å…³ç³»åˆ’åˆ†Stage, è€Œå‘èµ·jobè°ƒåº¦å…¥å£æœ‰ä¸¤ä¸ª, ä¸€ä¸ªæ˜¯submitJob:</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">submitJob</span></span>[<span class="type">T</span>, <span class="type">U</span>](</span><br><span class="line">    rdd: <span class="type">RDD</span>[<span class="type">T</span>],</span><br><span class="line">    func: (<span class="type">TaskContext</span>, <span class="type">Iterator</span>[<span class="type">T</span>]) =&gt; <span class="type">U</span>,</span><br><span class="line">    partitions: <span class="type">Seq</span>[<span class="type">Int</span>],</span><br><span class="line">    callSite: <span class="type">CallSite</span>,</span><br><span class="line">    resultHandler: (<span class="type">Int</span>, <span class="type">U</span>) =&gt; <span class="type">Unit</span>,</span><br><span class="line">    properties: <span class="type">Properties</span>): <span class="type">JobWaiter</span>[<span class="type">U</span>] = &#123;</span><br><span class="line">  <span class="comment">// Check to make sure we are not launching a task on a partition that does not exist.</span></span><br><span class="line">  <span class="keyword">val</span> maxPartitions = rdd.partitions.length</span><br><span class="line">  partitions.find(p =&gt; p &gt;= maxPartitions || p &lt; <span class="number">0</span>).foreach &#123; p =&gt;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="type">IllegalArgumentException</span>(</span><br><span class="line">      <span class="string">"Attempting to access a non-existent partition: "</span> + p + <span class="string">". "</span> +</span><br><span class="line">        <span class="string">"Total number of partitions: "</span> + maxPartitions)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">val</span> jobId = nextJobId.getAndIncrement()</span><br><span class="line">  <span class="keyword">if</span> (partitions.size == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="comment">// Return immediately if the job is running 0 tasks</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="type">JobWaiter</span>[<span class="type">U</span>](<span class="keyword">this</span>, jobId, <span class="number">0</span>, resultHandler)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  assert(partitions.size &gt; <span class="number">0</span>)</span><br><span class="line">  <span class="keyword">val</span> func2 = func.asInstanceOf[(<span class="type">TaskContext</span>, <span class="type">Iterator</span>[_]) =&gt; _]</span><br><span class="line">  <span class="keyword">val</span> waiter = <span class="keyword">new</span> <span class="type">JobWaiter</span>(<span class="keyword">this</span>, jobId, partitions.size, resultHandler)</span><br><span class="line">  eventProcessLoop.post(<span class="type">JobSubmitted</span>(</span><br><span class="line">    jobId, rdd, func2, partitions.toArray, callSite, waiter,</span><br><span class="line">    <span class="type">SerializationUtils</span>.clone(properties)))</span><br><span class="line">  waiter</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å®ƒè¿”å›ä¸€ä¸ªJobWaiterå¯¹è±¡, å¯ä»¥ç”¨åœ¨å¼‚æ­¥è°ƒç”¨ä¸­.<br>
å¦ä¸€ä¸ªå…¥å£å°±æ˜¯runJob:</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">runJob</span></span>[<span class="type">T</span>, <span class="type">U</span>](</span><br><span class="line">    rdd: <span class="type">RDD</span>[<span class="type">T</span>],</span><br><span class="line">    func: (<span class="type">TaskContext</span>, <span class="type">Iterator</span>[<span class="type">T</span>]) =&gt; <span class="type">U</span>,</span><br><span class="line">    partitions: <span class="type">Seq</span>[<span class="type">Int</span>],</span><br><span class="line">    callSite: <span class="type">CallSite</span>,</span><br><span class="line">    resultHandler: (<span class="type">Int</span>, <span class="type">U</span>) =&gt; <span class="type">Unit</span>,</span><br><span class="line">    properties: <span class="type">Properties</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">  <span class="keyword">val</span> start = <span class="type">System</span>.nanoTime</span><br><span class="line">  <span class="keyword">val</span> waiter = submitJob(rdd, func, partitions, callSite, resultHandler, properties)</span><br><span class="line">  <span class="comment">// Note: Do not call Await.ready(future) because that calls `scala.concurrent.blocking`,</span></span><br><span class="line">  <span class="comment">// which causes concurrent SQL executions to fail if a fork-join pool is used. Note that</span></span><br><span class="line">  <span class="comment">// due to idiosyncrasies in Scala, `awaitPermission` is not actually used anywhere so it's</span></span><br><span class="line">  <span class="comment">// safe to pass in null here. For more detail, see SPARK-13747.</span></span><br><span class="line">  <span class="keyword">val</span> awaitPermission = <span class="literal">null</span>.asInstanceOf[scala.concurrent.<span class="type">CanAwait</span>]</span><br><span class="line">  waiter.completionFuture.ready(<span class="type">Duration</span>.<span class="type">Inf</span>)(awaitPermission)</span><br><span class="line">  waiter.completionFuture.value.get <span class="keyword">match</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> scala.util.<span class="type">Success</span>(_) =&gt;</span><br><span class="line">      logInfo(<span class="string">"Job %d finished: %s, took %f s"</span>.format</span><br><span class="line">        (waiter.jobId, callSite.shortForm, (<span class="type">System</span>.nanoTime - start) / <span class="number">1e9</span>))</span><br><span class="line">    <span class="keyword">case</span> scala.util.<span class="type">Failure</span>(exception) =&gt;</span><br><span class="line">      logInfo(<span class="string">"Job %d failed: %s, took %f s"</span>.format</span><br><span class="line">        (waiter.jobId, callSite.shortForm, (<span class="type">System</span>.nanoTime - start) / <span class="number">1e9</span>))</span><br><span class="line">      <span class="comment">// SPARK-8644: Include user stack trace in exceptions coming from DAGScheduler.</span></span><br><span class="line">      <span class="keyword">val</span> callerStackTrace = <span class="type">Thread</span>.currentThread().getStackTrace.tail</span><br><span class="line">      exception.setStackTrace(exception.getStackTrace ++ callerStackTrace)</span><br><span class="line">      <span class="keyword">throw</span> exception</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>runJobåœ¨å†…éƒ¨è°ƒç”¨submitJob, é˜»å¡ç­‰å¾…ç›´åˆ°Jobå®Œæˆæˆ–å¤±è´¥.<br>
ä»submitJobæ–¹æ³•é‡Œå¯ä»¥çœ‹åˆ°, åœ¨æ­¤å¤„å‘eventProcessLoopé‡Œå‘é€äº†ä¸€ä¸ªJobSubmittedçš„æ¶ˆæ¯.<br>
é‚£ä¹ˆeventProcessLoopæ˜¯ä»€ä¹ˆå‘¢</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span>[scheduler] <span class="keyword">val</span> eventProcessLoop = <span class="keyword">new</span> <span class="type">DAGSchedulerEventProcessLoop</span>(<span class="keyword">this</span>)</span><br></pre></td></tr></table></figure>
<p>è¿™å°±æ˜¯DAGSchedulerè‡ªå·±ç»´æŠ¤çš„ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—, å¤„ç†å„ç§ç±»å‹çš„æ¶ˆæ¯, å½“æ”¶åˆ°JobSubmittedæ¶ˆæ¯æ—¶ä¼šè°ƒç”¨handleJobSubmittedæ–¹æ³•, åœ¨è¿™ä¸ªæ–¹æ³•é‡Œå¼€å§‹é‡è¦çš„ç¬¬äºŒæ­¥, åˆ†æç»§æ‰¿å…³ç³»æ‹†åˆ†Stages.</p>
<h4 id="2-æ‹†åˆ†æäº¤Stages">2. æ‹†åˆ†æäº¤Stages</h4>
<p>åœ¨handleJobSubmittedæ–¹æ³•ä¸­, é¦–å…ˆä¼šæ ¹æ®è¿™ä¸ªRDDçš„ä¿¡æ¯è®¡ç®—å‡ºè¿™ä¸ªJobçš„æ‰€æœ‰Stages.</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span>[scheduler] <span class="function"><span class="keyword">def</span> <span class="title">handleJobSubmitted</span></span>(jobId: <span class="type">Int</span>,</span><br><span class="line">      finalRDD: <span class="type">RDD</span>[_],</span><br><span class="line">      func: (<span class="type">TaskContext</span>, <span class="type">Iterator</span>[_]) =&gt; _,</span><br><span class="line">      partitions: <span class="type">Array</span>[<span class="type">Int</span>],</span><br><span class="line">      callSite: <span class="type">CallSite</span>,</span><br><span class="line">      listener: <span class="type">JobListener</span>,</span><br><span class="line">      properties: <span class="type">Properties</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> finalStage: <span class="type">ResultStage</span> = <span class="literal">null</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// New stage creation may throw an exception if, for example, jobs are run on a</span></span><br><span class="line">      <span class="comment">// HadoopRDD whose underlying HDFS files have been deleted.</span></span><br><span class="line">      finalStage = createResultStage(finalRDD, func, partitions, jobId, callSite)</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> e: <span class="type">Exception</span> =&gt;</span><br><span class="line">        logWarning(<span class="string">"Creating new stage failed due to exception - job: "</span> + jobId, e)</span><br><span class="line">        listener.jobFailed(e)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> job = <span class="keyword">new</span> <span class="type">ActiveJob</span>(jobId, finalStage, callSite, listener, properties)</span><br><span class="line">    clearCacheLocs()</span><br><span class="line">    logInfo(<span class="string">"Got job %s (%s) with %d output partitions"</span>.format(</span><br><span class="line">      job.jobId, callSite.shortForm, partitions.length))</span><br><span class="line">    logInfo(<span class="string">"Final stage: "</span> + finalStage + <span class="string">" ("</span> + finalStage.name + <span class="string">")"</span>)</span><br><span class="line">    logInfo(<span class="string">"Parents of final stage: "</span> + finalStage.parents)</span><br><span class="line">    logInfo(<span class="string">"Missing parents: "</span> + getMissingParentStages(finalStage))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> jobSubmissionTime = clock.getTimeMillis()</span><br><span class="line">    jobIdToActiveJob(jobId) = job</span><br><span class="line">    activeJobs += job</span><br><span class="line">    finalStage.setActiveJob(job)</span><br><span class="line">    <span class="keyword">val</span> stageIds = jobIdToStageIds(jobId).toArray</span><br><span class="line">    <span class="keyword">val</span> stageInfos = stageIds.flatMap(id =&gt; stageIdToStage.get(id).map(_.latestInfo))</span><br><span class="line">    listenerBus.post(</span><br><span class="line">      <span class="type">SparkListenerJobStart</span>(job.jobId, jobSubmissionTime, stageInfos, properties))</span><br><span class="line">    submitStage(finalStage)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°createResultStageæ–¹æ³•, ç”Ÿæˆäº†ä¸€ä¸ªResultStage, ä»£ç :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * Create a ResultStage associated with the provided jobId.</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">createResultStage</span></span>(</span><br><span class="line">      rdd: <span class="type">RDD</span>[_],</span><br><span class="line">      func: (<span class="type">TaskContext</span>, <span class="type">Iterator</span>[_]) =&gt; _,</span><br><span class="line">      partitions: <span class="type">Array</span>[<span class="type">Int</span>],</span><br><span class="line">      jobId: <span class="type">Int</span>,</span><br><span class="line">      callSite: <span class="type">CallSite</span>): <span class="type">ResultStage</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> parents = getOrCreateParentStages(rdd, jobId)</span><br><span class="line">    <span class="keyword">val</span> id = nextStageId.getAndIncrement()</span><br><span class="line">    <span class="keyword">val</span> stage = <span class="keyword">new</span> <span class="type">ResultStage</span>(id, rdd, func, partitions, parents, jobId, callSite)</span><br><span class="line">    stageIdToStage(id) = stage</span><br><span class="line">    updateJobIdStageIdMaps(jobId, stage)</span><br><span class="line">    stage</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­getOrCreateParentStagesæ–¹æ³•æ ¹æ®ä¾èµ–å…³ç³»æ‹†åˆ†äº†Stage, è¿”å›äº†ä¸€ä¸ªList[Stage]åˆä¼ å…¥äº†ResultStageä¸­, æ‹†åˆ†Stageéƒ¨åˆ†çš„ä»£ç æˆ‘å°±ä¸è´´å‡ºæ¥äº†, æ„Ÿå…´è¶£å¯ä»¥è‡ªè¡Œé˜…è¯».<br>
handleJobSubmittedæ–¹æ³•ä¸­å¾—åˆ°finalStageå, è¿›è¡Œäº†ä¸€ç³»åˆ—æ“ä½œ, æ„å»ºActiveJob, å¯åŠ¨Job, æœ€åæäº¤äº†Stage, å‡†å¤‡å¼€å§‹ç”ŸæˆçœŸæ­£ä¸‹å‘æ‰§è¡Œçš„Taskä»»åŠ¡.</p>
<p>é‚£ä¹ˆçœ‹submitStageæ–¹æ³•:</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="comment">/** Submits stage, but first recursively submits any missing parents. */</span></span><br><span class="line">  <span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">submitStage</span></span>(stage: <span class="type">Stage</span>) &#123;</span><br><span class="line">    <span class="keyword">val</span> jobId = activeJobForStage(stage)</span><br><span class="line">    <span class="keyword">if</span> (jobId.isDefined) &#123;</span><br><span class="line">      logDebug(<span class="string">"submitStage("</span> + stage + <span class="string">")"</span>)</span><br><span class="line">      <span class="keyword">if</span> (!waitingStages(stage) &amp;&amp; !runningStages(stage) &amp;&amp; !failedStages(stage)) &#123;</span><br><span class="line">        <span class="keyword">val</span> missing = getMissingParentStages(stage).sortBy(_.id)</span><br><span class="line">        logDebug(<span class="string">"missing: "</span> + missing)</span><br><span class="line">        <span class="keyword">if</span> (missing.isEmpty) &#123;</span><br><span class="line">          logInfo(<span class="string">"Submitting "</span> + stage + <span class="string">" ("</span> + stage.rdd + <span class="string">"), which has no missing parents"</span>)</span><br><span class="line">          submitMissingTasks(stage, jobId.get)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">for</span> (parent &lt;- missing) &#123;</span><br><span class="line">            submitStage(parent)</span><br><span class="line">          &#125;</span><br><span class="line">          waitingStages += stage</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      abortStage(stage, <span class="string">"No active job for stage "</span> + stage.id, <span class="type">None</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>é€’å½’æäº¤Stage, æœ‰parentçš„å…ˆæäº¤parent, æ²¡æœ‰parentçš„æ‰å¼€å§‹ç”ŸæˆTask.</p>
<h4 id="3-åˆ›å»ºæäº¤Task">3. åˆ›å»ºæäº¤Task</h4>
<p>åˆ›å»ºæäº¤Taskè°ƒç”¨çš„æ˜¯submitStageæ–¹æ³•é‡Œçš„submitMissingTasksæ–¹æ³•, è¿™ä¸ªæ–¹æ³•ä»£ç æ¯”è¾ƒé•¿, æˆ‘å°±ä¸å…¨éƒ¨è´´å‡ºæ¥äº†.<br>
Stageåˆ†ShuffleMapStageå’ŒResultStage, Taskä¹Ÿåˆ†ä¸ºShuffleMapTaskå’ŒResultTaskä¸¤ç§, æ–¹æ³•é‡Œå¯¼å‡ºéƒ½æ˜¯æ¨¡å¼åŒ¹é…åˆ†åˆ«å¤„ç†è¿™ä¸¤ç§Stage, å…³é”®ç”ŸæˆTaskçš„ä»£ç å¦‚ä¸‹:</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">val</span> tasks: <span class="type">Seq</span>[<span class="type">Task</span>[_]] = <span class="keyword">try</span> &#123;</span><br><span class="line">      stage <span class="keyword">match</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> stage: <span class="type">ShuffleMapStage</span> =&gt;</span><br><span class="line">          partitionsToCompute.map &#123; id =&gt;</span><br><span class="line">            <span class="keyword">val</span> locs = taskIdToLocations(id)</span><br><span class="line">            <span class="keyword">val</span> part = stage.rdd.partitions(id)</span><br><span class="line">            <span class="keyword">new</span> <span class="type">ShuffleMapTask</span>(stage.id, stage.latestInfo.attemptId,</span><br><span class="line">              taskBinary, part, locs, stage.latestInfo.taskMetrics, properties, <span class="type">Option</span>(jobId),</span><br><span class="line">              <span class="type">Option</span>(sc.applicationId), sc.applicationAttemptId)</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> stage: <span class="type">ResultStage</span> =&gt;</span><br><span class="line">          partitionsToCompute.map &#123; id =&gt;</span><br><span class="line">            <span class="keyword">val</span> p: <span class="type">Int</span> = stage.partitions(id)</span><br><span class="line">            <span class="keyword">val</span> part = stage.rdd.partitions(p)</span><br><span class="line">            <span class="keyword">val</span> locs = taskIdToLocations(id)</span><br><span class="line">            <span class="keyword">new</span> <span class="type">ResultTask</span>(stage.id, stage.latestInfo.attemptId,</span><br><span class="line">              taskBinary, part, locs, id, properties, stage.latestInfo.taskMetrics,</span><br><span class="line">              <span class="type">Option</span>(jobId), <span class="type">Option</span>(sc.applicationId), sc.applicationAttemptId)</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">NonFatal</span>(e) =&gt;</span><br><span class="line">        abortStage(stage, <span class="string">s"Task creation failed: <span class="subst">$e</span>\n<span class="subst">$&#123;Utils.exceptionString(e)&#125;</span>"</span>, <span class="type">Some</span>(e))</span><br><span class="line">        runningStages -= stage</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>ç”ŸæˆTaskä¹‹åé€šè¿‡TaskScheduleræŠŠTaskæäº¤.</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">taskScheduler.submitTasks(<span class="keyword">new</span> <span class="type">TaskSet</span>(</span><br><span class="line">        tasks.toArray, stage.id, stage.latestInfo.attemptId, jobId, properties))</span><br></pre></td></tr></table></figure>
<p>submitTasksæ–¹æ³•çš„å®ç°åœ¨TaskSchedulerimpl.scala, è¿™é‡Œé¦–å…ˆåˆ›å»ºäº†ä¸€ä¸ªTaskSetManageræ¥è¾…åŠ©è°ƒåº¦, ç„¶åè°ƒç”¨äº†SchedulerBackendçš„reviveOffersæ–¹æ³•å»ç”³è¯·èµ„æº.</p>
<h4 id="4-åˆ†é…executors">4. åˆ†é…executors</h4>
<p>è¿™é‡ŒreviveOffersæ–¹æ³•çš„å®ç°è·³åˆ°äº†CoarseGrainedSchedulerBackend.scalaæ–‡ä»¶:</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">reviveOffers</span></span>() &#123;</span><br><span class="line">    driverEndpoint.send(<span class="type">ReviveOffers</span>)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>æ­¤å¤„å‘é€äº†ä¸€æ¡ReviveOffersæ¶ˆæ¯, è¢«è‡ªèº«æ¥æ”¶åˆ°ç„¶åç»§ç»­å¤„ç†:</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">PartialFunction</span>[<span class="type">Any</span>, <span class="type">Unit</span>] = &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">ReviveOffers</span> =&gt;</span><br><span class="line">        makeOffers()</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>makeOffersæ–¹æ³•å¾ˆé‡è¦, è¿™é‡Œè°ƒç”¨äº†resourceOffersæ–¹æ³•å»è·å–å½“å‰å¯ç”¨çš„èµ„æºä¿¡æ¯, è€Œå½“å‰æ­£åœ¨æ‰§è¡Œçš„å¤šä¸ªTaskSetä¼šæ ¹æ®è¿™äº›èµ„æºä¿¡æ¯å°†å½“å‰å¯æ‰§è¡Œçš„Taskå’Œè¿™ä¸ªTaskè¦è¿è¡Œåœ¨å“ªä¸ªexecutorä¸ŠåŒ…è£…åˆ°ä¸€ä¸ªTaskDescriptionä¸­è¿”å›å›æ¥, å†è°ƒç”¨launchTasksæ­£å¼æŠŠTaskæ¨å€’executorç«¯å»æ‰§è¡Œ.</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">makeOffers</span></span>(executorId: <span class="type">String</span>) &#123;</span><br><span class="line">      <span class="comment">// Filter out executors under killing</span></span><br><span class="line">      <span class="keyword">if</span> (executorIsAlive(executorId)) &#123;</span><br><span class="line">        <span class="keyword">val</span> executorData = executorDataMap(executorId)</span><br><span class="line">        <span class="keyword">val</span> workOffers = <span class="type">IndexedSeq</span>(</span><br><span class="line">          <span class="keyword">new</span> <span class="type">WorkerOffer</span>(executorId, executorData.executorHost, executorData.freeCores))</span><br><span class="line">        launchTasks(scheduler.resourceOffers(workOffers))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Launch tasks returned by a set of resource offers</span></span><br><span class="line">    <span class="keyword">private</span> <span class="function"><span class="keyword">def</span> <span class="title">launchTasks</span></span>(tasks: <span class="type">Seq</span>[<span class="type">Seq</span>[<span class="type">TaskDescription</span>]]) &#123;</span><br><span class="line">      <span class="keyword">for</span> (task &lt;- tasks.flatten) &#123;</span><br><span class="line">        <span class="keyword">val</span> serializedTask = ser.serialize(task)</span><br><span class="line">        <span class="keyword">if</span> (serializedTask.limit &gt;= maxRpcMessageSize) &#123;</span><br><span class="line">          scheduler.taskIdToTaskSetManager.get(task.taskId).foreach &#123; taskSetMgr =&gt;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">var</span> msg = <span class="string">"Serialized task %s:%d was %d bytes, which exceeds max allowed: "</span> +</span><br><span class="line">                <span class="string">"spark.rpc.message.maxSize (%d bytes). Consider increasing "</span> +</span><br><span class="line">                <span class="string">"spark.rpc.message.maxSize or using broadcast variables for large values."</span></span><br><span class="line">              msg = msg.format(task.taskId, task.index, serializedTask.limit, maxRpcMessageSize)</span><br><span class="line">              taskSetMgr.abort(msg)</span><br><span class="line">            &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">              <span class="keyword">case</span> e: <span class="type">Exception</span> =&gt; logError(<span class="string">"Exception in error callback"</span>, e)</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">val</span> executorData = executorDataMap(task.executorId)</span><br><span class="line">          executorData.freeCores -= scheduler.<span class="type">CPUS_PER_TASK</span></span><br><span class="line"></span><br><span class="line">          logDebug(<span class="string">s"Launching task <span class="subst">$&#123;task.taskId&#125;</span> on executor id: <span class="subst">$&#123;task.executorId&#125;</span> hostname: "</span> +</span><br><span class="line">            <span class="string">s"<span class="subst">$&#123;executorData.executorHost&#125;</span>."</span>)</span><br><span class="line"></span><br><span class="line">          executorData.executorEndpoint.send(<span class="type">LaunchTask</span>(<span class="keyword">new</span> <span class="type">SerializableBuffer</span>(serializedTask)))</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨launchTasksæ–¹æ³•ä¸­æ‰æŠŠexecutorsèµ„æºçœŸçš„åˆ†é…ç»™Taskå¹¶æŠŠåˆ†é…æ‰çš„èµ„æºæ‰£é™¤, ç„¶åæŠŠTaskåºåˆ—åŒ–åå‘é€å¾€executorç«¯.</p>
<h4 id="5-executoræ‰§è¡ŒTask">5. executoræ‰§è¡ŒTask</h4>
<p>æ¥ä¸‹æ¥ç¨‹åºå°±è¿è¡Œåˆ°äº†CoarseGrainedExecutorBackend.scalaçš„receiveæ–¹æ³•, è¿™é‡Œæ¥æ”¶åˆ°driverç«¯å‘æ¥çš„LaunchTaskæ¶ˆæ¯å¼€å§‹è§¦å‘æ‰§è¡Œ, å…³é”®ä»£ç :</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">PartialFunction</span>[<span class="type">Any</span>, <span class="type">Unit</span>] = &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="type">LaunchTask</span>(data) =&gt;</span><br><span class="line">      <span class="keyword">if</span> (executor == <span class="literal">null</span>) &#123;</span><br><span class="line">        exitExecutor(<span class="number">1</span>, <span class="string">"Received LaunchTask command but executor was null"</span>)</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">val</span> taskDesc = ser.deserialize[<span class="type">TaskDescription</span>](data.value)</span><br><span class="line">        logInfo(<span class="string">"Got assigned task "</span> + taskDesc.taskId)</span><br><span class="line">        executor.launchTask(<span class="keyword">this</span>, taskId = taskDesc.taskId, attemptNumber = taskDesc.attemptNumber,</span><br><span class="line">          taskDesc.name, taskDesc.serializedTask)</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œé¦–å…ˆæŠŠTaskååºåˆ—åŒ–, ç„¶åäº¤ç»™Executor.scalaçš„launchTaskæ–¹æ³•:</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">launchTask</span></span>(</span><br><span class="line">      context: <span class="type">ExecutorBackend</span>,</span><br><span class="line">      taskId: <span class="type">Long</span>,</span><br><span class="line">      attemptNumber: <span class="type">Int</span>,</span><br><span class="line">      taskName: <span class="type">String</span>,</span><br><span class="line">      serializedTask: <span class="type">ByteBuffer</span>): <span class="type">Unit</span> = &#123;</span><br><span class="line">    <span class="keyword">val</span> tr = <span class="keyword">new</span> <span class="type">TaskRunner</span>(context, taskId = taskId, attemptNumber = attemptNumber, taskName,</span><br><span class="line">      serializedTask)</span><br><span class="line">    runningTasks.put(taskId, tr)</span><br><span class="line">    threadPool.execute(tr)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œnewäº†ä¸€ä¸ªTaskRunner, ç»§ç»­æ‰§è¡ŒTaskRunnerçš„runæ–¹æ³•, runæ–¹æ³•ä»£ç å¾ˆé•¿å°±ä¸è´´äº†, è¿™é‡Œå°±æ˜¯å…·ä½“æ‰§è¡ŒTaskçš„å®ç°, å¯ä»¥è‡ªå·±å»çœ‹æºç .</p>
<h4 id="6-æ‰§è¡Œç»“æœè¿”å›">6. æ‰§è¡Œç»“æœè¿”å›</h4>
<p>å½“runæ–¹æ³•æ‰§è¡Œå®Œä»¥å, æŠŠç»“æœæ•°æ®åºåˆ—åŒ–è¿”å›, å¦‚æœæ•°æ®è¿‡å¤§, å°±æŠŠæ•°æ®å†™ç£ç›˜è¿”å›æ•°æ®çš„ä½ç½®, é€šè¿‡statusUpdateæ–¹æ³•å›ä¼ ç»™<br>
CoarseGrainedExecutorBackend.scala, executorBackendå†å‘é€äº†ä¸€æ¡StatusUpdateæ¶ˆæ¯æŠŠç»“æœè¿”å›ç»™äº†CoarseGrainedSchedulerBackend.scala</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">def</span> <span class="title">receive</span></span>: <span class="type">PartialFunction</span>[<span class="type">Any</span>, <span class="type">Unit</span>] = &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="type">StatusUpdate</span>(executorId, taskId, state, data) =&gt;</span><br><span class="line">        scheduler.statusUpdate(taskId, state, data.value)</span><br><span class="line">        <span class="keyword">if</span> (<span class="type">TaskState</span>.isFinished(state)) &#123;</span><br><span class="line">          executorDataMap.get(executorId) <span class="keyword">match</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="type">Some</span>(executorInfo) =&gt;</span><br><span class="line">              executorInfo.freeCores += scheduler.<span class="type">CPUS_PER_TASK</span></span><br><span class="line">              makeOffers(executorId)</span><br><span class="line">            <span class="keyword">case</span> <span class="type">None</span> =&gt;</span><br><span class="line">              <span class="comment">// Ignoring the update since we don't know about the executor.</span></span><br><span class="line">              logWarning(<span class="string">s"Ignored task status update (<span class="subst">$taskId</span> state <span class="subst">$state</span>) "</span> +</span><br><span class="line">                <span class="string">s"from unknown executor with ID <span class="subst">$executorId</span>"</span>)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>driverç«¯æ”¶åˆ°æ¶ˆæ¯å, å…ˆæŠŠç»“æœä¼ ç»™äº†TaskScheduler, ç„¶åé‡Šæ”¾äº†executorèµ„æº.<br>
æ¥ä¸‹æ¥åˆ°TaskSchedulerä¹‹åè°ƒç”¨æ¯”è¾ƒç»•, é¦–å…ˆæŠŠTaskæ¸…ç†æ‰, ç„¶åä½¿ç”¨TaskResultGetteræ¥å¤„ç†ç»“æœ:</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="type">TaskState</span>.isFinished(state)) &#123;</span><br><span class="line">              cleanupTaskState(tid)</span><br><span class="line">              taskSet.removeRunningTask(tid)</span><br><span class="line">              <span class="keyword">if</span> (state == <span class="type">TaskState</span>.<span class="type">FINISHED</span>) &#123;</span><br><span class="line">                taskResultGetter.enqueueSuccessfulTask(taskSet, tid, serializedData)</span><br><span class="line">              &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="type">Set</span>(<span class="type">TaskState</span>.<span class="type">FAILED</span>, <span class="type">TaskState</span>.<span class="type">KILLED</span>, <span class="type">TaskState</span>.<span class="type">LOST</span>).contains(state)) &#123;</span><br><span class="line">                taskResultGetter.enqueueFailedTask(taskSet, tid, state, serializedData)</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;</span><br></pre></td></tr></table></figure>
<p>åœ¨TaskResultGetterä¸­åˆ¤æ–­ç»“æœæ•°æ®çš„å­˜æ”¾ä½ç½®, å¦‚æœåœ¨å†…å­˜ä¸­å°±ç›´æ¥å–ç»“æœ, å¦‚æœåœ¨ç£ç›˜, å°±æ ¹æ®blockidä¿¡æ¯å»å¯¹åº”æœºå™¨ä¸Šæ‹‰å–æ•°æ®, ç„¶åæ”¾åˆ°driverçš„å†…å­˜, æœ€åè°ƒç”¨handleSuccessfulTaskæ–¹æ³•æŠŠç»“æœè¿”å›ç»™TaskScheduler.</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">scheduler.handleSuccessfulTask(taskSetManager, tid, result)</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥ç”¨åˆ°äº†ä¹‹å‰è¾…åŠ©è°ƒåº¦åˆ›å»ºçš„TaskSetManager</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">handleSuccessfulTask</span></span>(</span><br><span class="line">      taskSetManager: <span class="type">TaskSetManager</span>,</span><br><span class="line">      tid: <span class="type">Long</span>,</span><br><span class="line">      taskResult: <span class="type">DirectTaskResult</span>[_]): <span class="type">Unit</span> = synchronized &#123;</span><br><span class="line">    taskSetManager.handleSuccessfulTask(tid, taskResult)</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>TaskSchedulerè°ƒç”¨TaskSetManager, TaskSetManagerå†è°ƒç”¨DAGScheduler, å¹¶å°†ç»“æœæ•°æ®è¿”å›ç»™äº†DAGScheduler.</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">sched.dagScheduler.taskEnded(tasks(index), <span class="type">Success</span>, result.value(), result.accumUpdates, info)</span><br></pre></td></tr></table></figure>
<p>taskEndedæ–¹æ³•å‘DAGSchedulerç»´æŠ¤çš„é˜Ÿåˆ—é‡Œå‘é€äº†ä¸€ä¸ªCompletionEventæ¶ˆæ¯, æ¥è§¦å‘DAGSchedulerçš„handleTaskCompletionæ–¹æ³•æ¥æ•°æ®æ•°æ®.<br>
handleTaskCompletionæ–¹æ³•é‡Œä¼šåˆ¤æ–­è¿™æ˜¯ä¸€ä¸ªShuffleMapTaskè¿˜æ˜¯ä¸€ä¸ªResultTask, å¦‚æœæ˜¯ShuffleMapTaskåˆ™ç»§ç»­æäº¤ä¸‹ä¸€ä¸ªStage, å¦‚æœæ˜¯ResultTask, åˆ™ä¼šé€šè¿‡ä»¥ä¸‹ä»£ç æŠŠç»“æœäº¤ç»™JobWaiter.</p>
<figure class="highlight scala"><table><tr><td class="code"><pre><span class="line">job.listener.taskSucceeded(rt.outputId, event.result)</span><br></pre></td></tr></table></figure>
<p>JobWaiteræœ€ååšä¸€äº›å¤„ç†, ç„¶åæŠŠç»“æœä¸€è·¯è¿”å›ç»™è°ƒç”¨SparkContext.runJobçš„åœ°æ–¹, è‡³æ­¤æ•´ä¸ªJobè°ƒåº¦å°±å®Œæˆäº†.</p>
<h3 id="æ€»ç»“">æ€»ç»“</h3>
<p>ä¸‹é¢ç”¨å‡ å¼ å›¾åšä¸€ä¸ªæ€»ç»“:</p>
<p>Jobçš„è°ƒåº¦æ‰§è¡Œæµç¨‹</p>
<p><img src="http://www.wangdanpeng.com/img/Job%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B.png" alt="æ•´ä¸ªJobçš„æ‰§è¡Œæµç¨‹"></p>
<p>Jobæäº¤æ‰§è¡ŒæœŸé—´çš„å‡½æ•°è°ƒç”¨<br>
<img src="http://www.wangdanpeng.com/img/Job%E6%89%A7%E8%A1%8C%E5%87%BD%E6%95%B0%E8%B0%83%E7%94%A8%E6%B5%81%E7%A8%8B.png" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"></p>
<p>ps:<br>
æœ€è¿‘å­¦ä¹ Sparkçš„Jobè°ƒåº¦è¿‡ç¨‹, çœ‹äº†ä¸€éæºç åå‘ç°æ‰­å¤´å°±å¿˜, æ‰€ä»¥å°±æ•´ç†äº†ä¸‹æ¥. Sparkä»£ç å®åœ¨é‡å¤ªå¤§, Jobæ‰§è¡Œçš„æœ‰äº›ç»†èŠ‚å®ç°ä¹Ÿæ²¡è‡ªå·±ç ”ç©¶, åªæ˜¯æŠŠå¤§ä½“æµç¨‹æ¢³ç†äº†ä¸‹æ¥, å¦‚æœ‰é”™è¯¯æ¬¢è¿æŒ‡æ­£.</p>
]]></content>
      <categories>
        <category>Spark</category>
      </categories>
      <tags>
        <tag>Spark</tag>
        <tag>WordCount</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdownå¸¸ç”¨æ ·å¼</title>
    <url>/2022/02/09/20220209185324/</url>
    <content><![CDATA[<h1 id="å¯è¡¨ç¤º1-6çº§æ ‡é¢˜"># å¯è¡¨ç¤º1-6çº§æ ‡é¢˜</h1>
<p><em>æ–œä½“</em> : *æ–œä½“*<br>
<strong>ç²—ä½“</strong> : **ç²—ä½“**<br>
<em><strong>ç²—ä½“åŠ æ–œä½“</strong></em> : ***ç²—ä½“***</p>
<p>ğŸ« ğŸ˜Š ğŸ˜„ : :smil\e:(å»æ‰æ–œçº¿)<br>
åˆ†å‰²çº¿(ä¸‹é¢è¿™æ¡) : ---</p>
<hr>
<p><sup>ä¸Šè§’æ ‡</sup> : ^ä¸Šè§’æ ‡^<br>
<sub>ä¸‹è§’æ ‡</sub> : ~ä¸‹è§’æ ‡~<br>
<s>åˆ é™¤çº¿</s> : ~~åˆ é™¤çº¿~~<br>
<u> ä¸‹åˆ’çº¿ </u> : &lt;u&gt;ä¸‹åˆ’çº¿&lt;/u&gt;</p>
<hr>
<ul>
<li>æ— åºåˆ—è¡¨ : - æ— åºåˆ—è¡¨</li>
</ul>
<ol>
<li>æœ‰åºåˆ—è¡¨ : 1. æœ‰åºåˆ—è¡¨</li>
</ol>
<p><input type="checkbox" id="checkbox1"><label for="checkbox1"> ä»£åŠåˆ—è¡¨ : [ ]ä»£åŠåˆ—è¡¨(hexoè¯­æ³•), csdnå†™æ³•ä¸º - [ ]</label><br>
<input type="checkbox" id="checkbox0" checked="true"><label for="checkbox0"> å·²å®Œæˆ : [x]å·²å®Œæˆ(hexoè¯­æ³•)</label></p>
<blockquote>
<p>åŒºå— : &gt; åŒºå—</p>
</blockquote>
<blockquote>
<blockquote>
<p>å¯ä»¥åµŒå¥— : &gt;&gt; å¯ä»¥åµŒå¥—</p>
</blockquote>
</blockquote>
<p><code>ä»£ç </code> : `ä»£ç `</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä»£ç æ®µ : \&#96;\&#96;\&#96;ä»£ç æ®µ\&#96;\&#96;\&#96;(åˆ æ‰æ–œæ )</span><br></pre></td></tr></table></figure>
<p><a href="%E7%BD%91%E5%9D%80">é“¾æ¥</a> : [é“¾æ¥](ç½‘å€)<br>
<img src="https://img-blog.csdnimg.cn/c8e32cf4043a496ab84ed8e64b684d02.png#pic_center" alt="å›¾ç‰‡"></p>
<p>å›¾ç‰‡ : ![æè¿°](ç½‘å€), æ³¨æ„æŸäº›ç½‘å€ä¸é€‚ç”¨, æ¯”å¦‚csdn</p>
<p>å…¶ä»–htmlå…ƒç´ <br>
<kbd>Ctrl</kbd> : &lt;kbd&gt;Ctrl&lt;/kbd&gt;<br>
\ : è½¬ä¹‰</p>
<hr>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>=</mo><mi>a</mi><mo>âˆ’</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f(x)=a-b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">x</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit">a</span><span class="mbin">âˆ’</span><span class="mord mathit">b</span></span></span></span> : $f(x)=a-b$</p>
<p>$\$f(x)=a+b$\$(åˆ æ‰æ–œæ ) å¦‚ä¸‹</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>f</mi><mo>(</mo><mi>x</mi><mo>)</mo><mo>=</mo><mi>a</mi><mo>+</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">f(x)=a+b
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathit">x</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit">a</span><span class="mbin">+</span><span class="mord mathit">b</span></span></span></span></span></p>
<hr>
<p>é«˜çº§å…¬å¼å’ŒçŸ©é˜µç”¨åˆ°äº†è‡ªå·±å»æœ<br>
è¿˜æ”¯æŒå„ç§æµç¨‹å›¾</p>
<h1 id="æ›´æ¢hexoé»˜è®¤mdæ¸²æŸ“å™¨">æ›´æ¢hexoé»˜è®¤mdæ¸²æŸ“å™¨</h1>
<p>hexoé»˜è®¤é‡‡ç”¨<code>hexo-renderer-marked</code>æ¸²æŸ“å™¨, ä¸æ”¯æŒæ’ä»¶, ä¸Šè¿°ä¾‹å­ä¸­éƒ¨åˆ†ä¸æ”¯æŒ, ä¸‹é¢ä¸€ä¸ªä¸€ä¸ªè§£å†³</p>
<ul>
<li>
<p>æ›´æ¢æ¸²æŸ“å™¨<br>
æ¢æˆæ”¯æŒæ’ä»¶æ‰©å±•çš„<code>hexo-renderer-markdown-it</code>, åœ¨hexoé¡¹ç›®ç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
 <figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">npm un hexo-renderer-marked --save</span><br><span class="line">npm i hexo-renderer-markdown-it --save</span><br><span class="line"># å®‰è£…emojiæ’ä»¶</span><br><span class="line">npm install markdown-it-emoji --save</span><br><span class="line"># å®‰è£…æ•°å­¦å…¬å¼æ’ä»¶</span><br><span class="line">npm install markdown-it-katex --save</span><br><span class="line"># å®‰è£…å¾…åŠäº‹é¡¹æ’ä»¶</span><br><span class="line">npm install markdown-it-checkbox --save</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>ç¼–è¾‘hexoé¡¹ç›®é…ç½®æ–‡ä»¶<br>
é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>, æ·»åŠ ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Markdown-it config</span><br><span class="line">## Docs: https:&#x2F;&#x2F;github.com&#x2F;celsomiranda&#x2F;hexo-renderer-markdown-it&#x2F;wiki</span><br><span class="line">markdown:</span><br><span class="line">render:</span><br><span class="line">  html: true          # æ˜¯å¦å¯¹HTMLæ ‡ç­¾è¿›è¡Œè§£æï¼Œfalseæ—¶HTMLå°†æŒ‰ç…§åŸæ ·è¾“å‡º</span><br><span class="line">  xhtmlOut: false     # æ˜¯å¦éœ€è¦æ»¡è¶³ä¸¥æ ¼çš„XHTMLæ ¼å¼ï¼Œæ¢è¡Œä¸º&lt;br &#x2F;&gt;</span><br><span class="line">  breaks: true</span><br><span class="line">  linkify: true</span><br><span class="line">  typographer: true</span><br><span class="line">  quotes: &#39;â€œâ€â€˜â€™&#39;</span><br><span class="line">plugins:</span><br><span class="line">  - markdown-it-abbr</span><br><span class="line">  - markdown-it-footnote</span><br><span class="line">  - markdown-it-ins</span><br><span class="line">  - markdown-it-sub</span><br><span class="line">  - markdown-it-sup</span><br><span class="line">  - markdown-it-emoji  # add emoji</span><br><span class="line">  - markdown-it-katex</span><br><span class="line">  - markdown-it-checkbox</span><br><span class="line">anchors:</span><br><span class="line">  # Minimum level for ID creation. (Ex. h2 to h6)</span><br><span class="line">  level: 2</span><br><span class="line">  # A suffix that is prepended to the number given if the ID is repeated.</span><br><span class="line">  collisionSuffix: &#39;v&#39;</span><br><span class="line">  # If &#96;true&#96;, creates an anchor tag with a permalink besides the heading.</span><br><span class="line">  permalink: false</span><br><span class="line">  # Class used for the permalink anchor tag.</span><br><span class="line">  permalinkClass: header-anchor</span><br><span class="line">  # The symbol used to make the permalink</span><br><span class="line">  permalinkSymbol: Â¶</span><br></pre></td></tr></table></figure>
</li>
<li>
<p>å¦å¤–<br>
å®‰è£…æ•°å­¦å…¬å¼æ’ä»¶, éœ€è¦åœ¨ä¸»é¢˜çš„æ¨¡æ¿æ–‡ä»¶ä¸­åŠ ä¸€è¡Œä»£ç , è·¯å¾„å¤§æ¦‚åœ¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">themes&#x2F;next&#x2F;layout&#x2F;_partial&#x2F;head.swig</span><br></pre></td></tr></table></figure>
<p>åŠ å…¥</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;link href&#x3D;&quot;https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;KaTeX&#x2F;0.7.1&#x2F;katex.min.css&quot; rel&#x3D;&quot;stylesheet&quot;&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
      </tags>
  </entry>
  <entry>
    <title>Mysql-è¾“å…¥Emojiè¡¨æƒ…</title>
    <url>/2017/02/26/20170226152115/</url>
    <content><![CDATA[<p>ä¹‹å‰å¼€å‘appé‡åˆ°è¿‡ä¸€ä¸ªé—®é¢˜, ç”¨æˆ·å‘è¡¨è¯„è®ºé‡Œå¦‚æœå¸¦æœ‰Emojiè¡¨æƒ…å°±ä¼šå¤±è´¥,æŸ¥çœ‹æ—¥å¿—æ•°æ®åº“ä¼šæŠ¥å¦‚ä¸‹é”™è¯¯:</p>
<pre><code>java.sql.SQLException: Incorrect string value: '\xF0\x9F\x98\x97\xF0\x9F...' for column 'CONTENT' at row 1
</code></pre>
<p>ç½‘ä¸Šæœäº†ä¸€åœˆè¯´æ˜¯å­—ç¬¦é›†çš„é—®é¢˜, è¯¦ç»†è§£é‡Šåœ¨è¿™é‡Œ -&gt; <a href="http://blog.csdn.net/qdkfriend/article/details/7576524" target="_blank" rel="noopener">Emojiè¡¨æƒ…ç¬¦å·å…¼å®¹æ–¹æ¡ˆ</a><br>
æ—¢ç„¶è¯´äº†utf8çš„å­—ç¬¦é›†ä¸è¡Œ, é‚£å°±å»æ”¹å­—ç¬¦é›†, ç»Ÿç»Ÿæ”¹æˆutf8mb4.</p>
<p>1.å…ˆå»ä¿®æ”¹è¡¨å­—æ®µå­—ç¬¦é›†ä¸ºutf8mb4:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å <span class="keyword">MODIFY</span> <span class="string">`å­—æ®µå`</span> <span class="built_in">TEXT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8mb4 <span class="keyword">COLLATE</span> utf8mb4_unicode_ci<span class="string">';</span></span><br></pre></td></tr></table></figure>
<p>2.å†å»ä¿®æ”¹è¡¨å­—ç¬¦é›†utf8mb4:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> è¡¨å <span class="keyword">CHARSET</span>=utf8mb4;</span><br></pre></td></tr></table></figure>
<p>3.å†å»é…é¥°æ–‡ä»¶my.iniä¿®æ”¹æ•°æ®åº“çš„å­—ç¬¦é›†utf8mb4:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">init-connect&#x3D;&#39;SET NAMES utf8mb4&#39;</span><br><span class="line">character-set-server&#x3D;utf8mb4</span><br></pre></td></tr></table></figure>
<p>ä¸‰æ­¥å®Œæˆåé‡å¯mysqlæœåŠ¡, å†æŸ¥çœ‹æ•°æ®åº“å­—ç¬¦é›†</p>
<pre><code>mysql&gt; show variables like '%char%';
</code></pre>
<p>Â±-------------------------Â±---------------------------------+<br>
| Variable_name            | Value                            |<br>
Â±-------------------------Â±---------------------------------+<br>
| character_set_client     | utf8mb4                          |<br>
| character_set_connection | utf8mb4                          |<br>
| character_set_database   | utf8mb4                          |<br>
| character_set_filesystem | binary                           |<br>
| character_set_results    | utf8mb4                          |<br>
| character_set_server     | utf8mb4                          |<br>
| character_set_system     | utf8                             |<br>
| character_sets_dir       | /usr/local/mysql/share/charsets/ |<br>
Â±-------------------------Â±---------------------------------+</p>
<p>å†å‘è¡¨æƒ…æµ‹è¯•é€šè¿‡!åˆ°æ­¤ä¸€åˆ‡æå®šæ”¶å·¥.</p>
<p>(ps:å¦‚æœä»¥ä¸Šæ–¹æ³•ä¸‹æ¥å¹¶æ²¡æœ‰æˆåŠŸçš„è¯, ä¸€å®šæ˜¯ä½ çš„mysqlé…ç½®æ²¡æ”¾å¥½, é‚£ä¹ˆè¯·å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç« , ç»å¯¹å¦¥å¦¥çš„ -&gt; <a href="http://www.cnblogs.com/HondaHsu/p/3640180.html" target="_blank" rel="noopener">å¦‚ä½•ä¿®æ”¹MySQLå­—ç¬¦é›†</a>)</p>
<p>ä¸‹é¢æ˜¯ä¸€äº›ç›¸å…³å‘½ä»¤:</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">--ä¿®æ”¹æ•°æ®åº“å­—ç¬¦é›†</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">DATABASE</span> <span class="string">`æ•°æ®åº“å`</span> <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> <span class="string">`å­—ç¬¦é›†å`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">--æŠŠè¡¨é»˜è®¤çš„å­—ç¬¦é›†å’Œæ‰€æœ‰å­—ç¬¦åˆ—æ”¹ä¸ºæ–°çš„å­—ç¬¦é›†</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`è¡¨å`</span> <span class="keyword">CONVERT</span> <span class="keyword">TO</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> <span class="string">`å­—ç¬¦é›†å`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--åªä¿®æ”¹è¡¨çš„é»˜è®¤å­—ç¬¦é›†</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`è¡¨å`</span> <span class="keyword">DEFAULT</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> <span class="string">`å­—ç¬¦é›†å`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--ä¿®æ”¹å­—æ®µçš„å­—ç¬¦é›†</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`è¡¨å`</span> <span class="keyword">CHANGE</span> <span class="string">`å­—æ®µå`</span> <span class="string">`å­—æ®µå`</span> <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> <span class="string">`å­—ç¬¦é›†å`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æŸ¥çœ‹æ•°æ®åº“ç¼–ç </span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="string">`æ•°æ®åº“å`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æŸ¥çœ‹è¡¨ç¼–ç </span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`è¡¨å`</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--æŸ¥çœ‹å­—æ®µç¼–ç </span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">FULL</span> <span class="keyword">COLUMNS</span> <span class="keyword">FROM</span> <span class="string">`è¡¨å`</span></span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Mysql</category>
      </categories>
      <tags>
        <tag>Mysql</tag>
        <tag>Emoji</tag>
      </tags>
  </entry>
  <entry>
    <title>VS Code-å¸¸ç”¨æ’ä»¶</title>
    <url>/2019/05/11/VS-Code-%E5%B8%B8%E7%94%A8%E6%8F%92%E4%BB%B6/</url>
    <content><![CDATA[<p>ä¹…é—»vs codeæ¯”sublime textè¦å¥½ç”¨, æ„Ÿè§‰sublime textå·²ç»å¤Ÿå¥½ç”¨äº†, ä¸€ç›´æ‡’å¾—æ¢, ä»Šå¤©ä¸‹è½½vs codeè¯•ç”¨äº†ä¸€ä¸‹, æ„Ÿè§‰å—¯~ çœŸé¦™~</p>
<p>åˆæ¬¡ä½¿ç”¨å…ˆå®‰è£…äº†ä¸€äº›å¸¸ç”¨æ’ä»¶, ä»¥åå¦‚æœ‰è¿›é˜¶æ’ä»¶å†æŒç»­æ›´æ–°</p>
<h2 id="0-æ’ä»¶å®‰è£…æ–¹æ³•">0. æ’ä»¶å®‰è£…æ–¹æ³•</h2>
<p>ä¸å¾—ä¸è¯´, vs codeæ’ä»¶å®‰è£…æ¯”sublime textè¦æ›´ä¼˜é›…, å·¦ä¾§å·¥å…·æ ç›´æ¥æä¾›äº†æ’ä»¶å®‰è£…é€‰é¡¹(æœ€ä¸‹é¢çš„æ–¹å—å—), ç›´æ¥æœç´¢æ’ä»¶å, å¯ä»¥æŸ¥çœ‹å„ä¸ªæ’ä»¶çš„ä½¿ç”¨è¯´æ˜, å®‰è£…æ¬¡æ•°ç­‰ç­‰ä¿¡æ¯, é¡¿æ—¶å¥½æ„Ÿçˆ†æ£š</p>
<h2 id="1-vim">1. vim</h2>
<p>å¹³æ—¶å’ŒæœåŠ¡å™¨æ‰“äº¤é“å¤š, ä¹ æƒ¯vimæ“ä½œä¸€åˆ‡, ç¼–è¾‘å™¨å½“ç„¶ä¹Ÿæ˜¯å¿…é¡»vimæ¨¡å¼èµ°èµ·, ç›´æ¥æœ<strong>vim</strong>, ç›®å‰ç‰ˆæœ¬1.8.0, 690wäººæ¬¡å®‰è£…</p>
<h2 id="2-å›¾æ ‡">2. å›¾æ ‡</h2>
<p>ç”±äºå¹³æ—¶æ‰“å¼€çš„æ–‡ä»¶å¤¹å’Œæ–‡ä»¶æ¯”è¾ƒå¤š, ä¹ æƒ¯è£…ä¸€ä¸ªå›¾æ ‡æ’ä»¶, èƒ½ç¾åŒ–å›¾æ ‡çš„æ˜¾ç¤º, è¿™é‡Œé€‰æ‹©çš„æ˜¯<strong>vscode-icons</strong>, ç‰ˆæœ¬8.6.0, 1500wäººæ¬¡å®‰è£…</p>
<h2 id="3-jsonæ ¼å¼åŒ–å·¥å…·">3. jsonæ ¼å¼åŒ–å·¥å…·</h2>
<p>å¹³æ—¶å¤„ç†jsonæ ¼å¼æ•°æ®ä¹Ÿæ¯”è¾ƒå¤š, ç»å¸¸éœ€è¦æ ¼å¼åŒ–, æ¯æ¬¡æ‰“å¼€æ ¼å¼åŒ–ç½‘ç«™ä¹Ÿå¾ˆéº»çƒ¦, ä¸å¦‚æ’ä»¶æ¥çš„å®åœ¨, è¿™é‡Œé€‰æ‹©çš„<strong>JSON Tools</strong>, ç‰ˆæœ¬1.0.2, 26wäººæ¬¡å®‰è£…, åç»­æœ‰æ›´å¥½ç”¨çš„å†æ¢</p>
<h2 id="4-Markdownå·¥å…·">4. Markdownå·¥å…·</h2>
<p>vs codeåŸæœ¬å°±æ”¯æŒå†™markdownçš„å®æ—¶é¢„è§ˆ, åªè¦æŠŠæ–‡ä»¶ä¿å­˜æˆ**.md<strong>åç¼€, åœ¨å³ä¸Šè§’å°±ä¼šæœ‰ä¸€ä¸ªåˆ†å±å¸¦æ”¾å¤§é•œçš„å›¾æ ‡, ç‚¹å‡»å°±å¯ä»¥, ä¸è¿‡é»‘è‰²ä¸»é¢˜ä¸‹é¢„è§ˆä¹Ÿæ˜¯é»‘è‰², æœ‰äº›æ ¼å¼çœ‹èµ·æ¥ä¸èˆ’æœ, æ‰€ä»¥æˆ‘é€‰æ‹©</strong>Markdown Preview Enhanced**, ç‰ˆæœ¬0.3.13, 110wäººæ¬¡å®‰è£…</p>
<p>åŒæ—¶, æƒ³è¦è§„èŒƒè‡ªå·±å†™çš„mdæ ¼å¼, å¯ä»¥ä¸€èµ·å®‰è£…ä¸€ä¸ª<strong>markdownlint</strong>, æ ¹æ®ä»–çš„æ•°æ¡è§„åˆ™å‘èµ·æ£€æŸ¥, æ ¼å¼ä¸è§„èŒƒçš„åœ°æ–¹å°±ä¼šåˆ’ç»¿è‰²æ³¢æµªçº¿, åŠ©ä½ å†™å‡ºå®Œç¾md, ç‰ˆæœ¬0.26.0, 437wäººæ¬¡å®‰è£…</p>
<h2 id="5-é¢œè‰²ä¸»é¢˜">5. é¢œè‰²ä¸»é¢˜</h2>
<p>ç›´æ¥<strong>cmd + shift + p</strong>åœ¨è¾“å…¥æ¡†è¾“å…¥<strong>color theme</strong>, å°±æœ‰å¤šç§è‡ªå¸¦ä¸»é¢˜ä¾›ä½ é€‰æ‹©, ä¸è¿‡æˆ‘åˆå¦å¤–å¤šå®‰è£…äº†ä¸€ä¸ª<strong>One Dark Pro</strong>ä¸»é¢˜, å¯ä»¥æœç´¢çœ‹ä¸€ä¸‹é€‚ä¸é€‚åˆä½ , ç‰ˆæœ¬2.22.1, 1000wäººæ¬¡å®‰è£…</p>
<h2 id="6-ç¼–ç¨‹è¯­è¨€æ’ä»¶">6. ç¼–ç¨‹è¯­è¨€æ’ä»¶</h2>
<p>è¿™ä¸ªå°±ä¸è¿‡å¤šä»‹ç», å¯¹åº”å®‰è£…è‡ªå·±å¸¸ç”¨çš„è¯­è¨€, æ¯”å¦‚æˆ‘çš„<strong>Scala</strong>å’Œ<strong>Python</strong></p>
<h2 id="7-æœ€åçš„éªšæ“ä½œ">7. æœ€åçš„éªšæ“ä½œ</h2>
<p>æœ€éªšçš„æ¥äº†, vs codeå±…ç„¶æœ‰ç®€ä½“ä¸­æ–‡åŒ…â€¦<br>
ç›´æ¥æœç´¢<strong>Chinese</strong>å°±å¯ä»¥, ç‰ˆæœ¬1.33.2, 560wäººæ¬¡å®‰è£…</p>
]]></content>
      <categories>
        <category>VS Code</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>VS Code</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä¿¡å¼€å‘, ç»çº¬åº¦è½¬åœ°å€é—®é¢˜</title>
    <url>/2017/02/18/20170218155323/</url>
    <content><![CDATA[<blockquote>
<p>ä¹‹å‰æå¾®ä¿¡äºŒæ¬¡å¼€å‘é‡è§è¿‡ä¸€ä¸ªè¶…çº§å¤§å‘, æ ¹æ®å¾®ä¿¡æä¾›çš„æ¥å£, è·å–åˆ°çš„ç»çº¬åº¦, ä¸çŸ¥é“æ˜¯ä»€ä¹ˆåæ ‡ç³»çš„(ps: å„ä¸ªåœ°å›¾ä½¿ç”¨çš„åæ ‡ç³»ä¸ä¸€, è‡ªè¡Œç™¾åº¦), æˆ‘æŠŠå¾—åˆ°çš„ç»çº¬åº¦æ”¾åˆ°ç™¾åº¦.è…¾è®¯.é«˜å¾·åœ°å›¾é‡Œ, å¾—åˆ°çš„ä½ç½®éƒ½æœ‰å¾ˆå¤§çš„åå·®, åæ¥ç»å°½è„‘æ±, å‘å¸–åŠ ç¾¤å„ç§æ±‚åŠ©, æ— æ„é—´å‘ç°ä¸€ç¯‡æ–‡ç« , ç‰¹æ­¤åˆ†äº«ä¸€ä¸‹, ä»¥é˜²ä»¥åæœ‰äººé‡åˆ°åŒæ ·çš„é—®é¢˜ä¸ç”¨åƒæˆ‘ä¸€æ ·å½·å¾¨.</p>
</blockquote>
<p>è¿™æ˜¯åŸæ–‡ <a href="http://www.weixin66.net/newsshow.php?cid=4&amp;id=7" target="_blank" rel="noopener">å¾®ä¿¡å¦‚ä½•æ ¹æ®ç»çº¬åº¦åæ ‡æŸ¥è¯¢å…·ä½“åœ°ç†ä½ç½®</a></p>
<p>å¾®ä¿¡è·å–åˆ°çš„ç»çº¬åº¦æ˜¯GPSåæ ‡, çŸ¥é“è¿™ä¸ªä¸€åˆ‡å°±å¥½åŠäº†, ä¸‹ä¸€æ­¥åªè¦è¦ä¸€ä¸ªGPSåæ ‡è½¬æ¢çš„æ¥å£å°±å¯ä»¥äº†.</p>
<p>æˆ‘ä¸€å¼€å§‹ç”¨çš„ä¸Šé¢é“¾æ¥é‡Œçš„æ¥å£, ç„¶è€Œç”¨çš„å¥½å¥½çš„æœ‰ä¸€å¤©çªç„¶æœåŠ¡æŒ‚äº†, æœ€åå‘ç°ä»–çš„æ¥å£403äº†.</p>
<p>ç„¶åæˆ‘å°±æ‰¾åˆ°äº†ä¸‹é¢è¿™ä¸ªä¸é”™çš„ç½‘ç«™, çœ‹ä»–ä»¬çš„åˆä½œä¼™ä¼´è¿˜æœ‰CSDN, åº”è¯¥è¿˜ç®—é è°±, ä»æˆ‘å‘ç°è¿™ä¸ªç½‘ç«™è·ä»Šå·²ç»å¿«ä¸‰å¹´äº†, å®ƒè¿˜åœ¨, æ‰€ä»¥â€¦</p>
<p>åºŸè¯ä¸å¤šè¯´, ä¸Šé“¾æ¥ <a href="http://www.zdoz.net/index.html" target="_blank" rel="noopener">å„ç§åœ°å›¾æ¥å£</a></p>
]]></content>
      <categories>
        <category>å¾®ä¿¡</category>
      </categories>
      <tags>
        <tag>åœ°å›¾</tag>
        <tag>å¾®ä¿¡</tag>
      </tags>
  </entry>
  <entry>
    <title>Spark-æ–­ç‚¹è°ƒè¯•</title>
    <url>/2017/03/12/20170312193459/</url>
    <content><![CDATA[<p>æˆ‘æ˜¯ç”¨idea + spark-shellæ–­ç‚¹è°ƒè¯•sparkæºç çš„, å¯ä»¥ä¸€è¡Œä»£ç ä¸€è¡Œä»£ç çš„è¿½æ‰§è¡Œè¿‡ç¨‹, å¾ˆæ˜¯æ–¹ä¾¿, å­¦ä¹ Sparkæºç å¿…å¤‡.</p>
<h4 id="å‡†å¤‡å·¥ä½œ-v2">å‡†å¤‡å·¥ä½œ</h4>
<p>é¦–å…ˆè‚¯å®šæ˜¯è¦æŠŠSparkçš„æºç å‡†å¤‡å¥½, å¹¶ä¸”å¯¼å…¥åˆ°ideaé‡Œ, ä»å“ªä¸‹Sparkæºç å’Œæ€ä¹ˆå¯¼å…¥åˆ°ideaé‡Œæˆ‘å°±ä¸è¯¦ç»†è§£é‡Šäº†.<br>
å¦å¤–å¯åŠ¨Sparkéœ€è¦Hadoopå’ŒHiveçš„æ”¯æŒ, é¦–å…ˆè¦æŠŠè¿™ä¸¤ä¸ªæœåŠ¡æ­å¥½å¯åŠ¨èµ·æ¥, å…³äºè¿™éƒ¨åˆ†æœ¬ç¯‡æ–‡ç« æš‚ä¸”ä¸è®², è¯·è‡ªè¡Œç™¾åº¦.</p>
<h4 id="è®¾ç½®ideaçš„debugé…ç½®">è®¾ç½®ideaçš„debugé…ç½®</h4>
<p><img src="http://www.wangdanpeng.com/img/Spark-%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95%281%29.png" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"><br>
ç‚¹å‡»Edit Configurationå»æ·»åŠ è°ƒè¯•.<br>
<img src="http://www.wangdanpeng.com/img/Spark-%E6%96%AD%E7%94%B5%E8%B0%83%E8%AF%95%282%29.png" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"><br>
ç„¶åç‚¹å‡»å·¦ä¸Šè§’çš„åŠ å·, åœ¨åˆ—è¡¨ä¸­é€‰æ‹©Remoteé€‰é¡¹<br>
<img src="http://www.wangdanpeng.com/img/Spark-%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95%283%29.png" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"><br>
åˆ›å»ºå‡ºæ¥çš„è¿™äº›ä¸œè¥¿ä»€ä¹ˆè®¾ç½®éƒ½ä¸ç”¨åŠ¨, å¯ä»¥æŠŠNameæ”¹ä¸€ä¸ªè‡ªå·±å¥½è®°çš„, æ¯”å¦‚æˆ‘çš„local Spark, åˆ’çº¢çº¿çš„éƒ¨åˆ†å°±æ˜¯ä¸€ä¼šè¦ä½¿ç”¨çš„.</p>
<h4 id="å¯åŠ¨spark-shell">å¯åŠ¨spark-shell</h4>
<p>è¿›å…¥Sparkçš„binç›®å½•ä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./spark-shell -h</span><br></pre></td></tr></table></figure>
<p>å¯ä»¥çœ‹åˆ°spark-shellå¯åŠ¨æ—¶å¯ä»¥æŒ‡å®šä¸ªå„ç§å‚æ•°, å…¶ä¸­æˆ‘ä»¬è¦ç”¨åˆ°çš„æœ‰ä»¥ä¸‹ä¸¤ä¸ª:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">--master MASTER_URL         spark://host:port, mesos://host:port, yarn, or local.</span><br><span class="line"></span><br><span class="line">--driver-java-options       Extra Java options to pass to the driver.</span><br></pre></td></tr></table></figure>
<p>masterå‚æ•°, æŒ‡å®šå¯åŠ¨æ–¹å¼, æˆ‘ä»¬èµ·æœ¬åœ°æ¨¡å¼, æ‰€ä»¥ç”¨local.<br>
driver-java-optionså‚æ•°, driverç«¯çš„ä¸€äº›javaå‚æ•°, å°±æ˜¯åˆšæ‰åˆ’çº¢çº¿çš„éƒ¨åˆ†.</p>
<p>é‚£ä¹ˆå¯åŠ¨å‘½ä»¤æ‹¼èµ·æ¥å°±æ˜¯è¿™æ ·çš„:</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">./spark-shell --master local --driver-java-options -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=5005</span><br></pre></td></tr></table></figure>
<p>æ•²å›è½¦å¯åŠ¨ä»¥åå¯ä»¥çœ‹åˆ°è¿™ä¹ˆä¸€å¥è¯</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Listening for transport dt_socket at address: 5005</span><br></pre></td></tr></table></figure>
<p>è¡¨ç¤ºå·²ç»å¼€å§‹ç›‘å¬5005ç«¯å£, æ¥ä¸‹æ¥å»å¯åŠ¨idea.</p>
<h4 id="å¯åŠ¨idea">å¯åŠ¨idea</h4>
<p><img src="http://www.wangdanpeng.com/img/Spark-%E6%96%AD%E7%82%B9%E8%B0%83%E8%AF%95%284%29.png" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"><br>
å†å›åˆ°å›¾ä¸€çš„ä½ç½®, é€‰æ‹©ä¸Šåˆšæ‰åˆ›å»ºçš„local Spark, ç„¶åç‚¹å‡»æ—è¾¹çš„debugæŒ‰é’®, å°±æ­£å¼è¿›å…¥debugæ¨¡å¼äº†, ç°åœ¨å°±å¯ä»¥éšå¿ƒæ‰€æ¬²çš„æ‰“æ–­ç‚¹è°ƒè¯•Sparkäº†.</p>
]]></content>
      <categories>
        <category>Spark</category>
      </categories>
      <tags>
        <tag>Spark</tag>
        <tag>Debug</tag>
      </tags>
  </entry>
  <entry>
    <title>Mybatis-å…³äºMapped Statements collection does not contain value foré”™è¯¯</title>
    <url>/2017/02/18/20170218194929/</url>
    <content><![CDATA[<p>ä½¿ç”¨Mybatisæ—¶ä¸æ—¶ä¼šé‡åˆ°ä¸€ä¸‹è¿™ç§æŠ¥é”™:</p>
<pre><code>Mapped Statements collection does not contain value for XXX
</code></pre>
<p>é”™è¯¯åŸå› æœ‰ä»¥ä¸‹å‡ ç§:</p>
<ul>
<li>mapper.xmlä¸­æ²¡æœ‰åŠ å…¥namespace</li>
<li>mapper.xmlä¸­çš„æ–¹æ³•å’Œæ¥å£mapperçš„æ–¹æ³•ä¸å¯¹åº”</li>
<li>mapper.xmlæ²¡æœ‰åŠ å…¥åˆ°mybatis-config.xmlä¸­(å³æ€»çš„é…ç½®æ–‡ä»¶)ï¼Œä¾‹å¤–ï¼šé…ç½®äº†mapperæ–‡ä»¶çš„åŒ…è·¯å¾„çš„é™¤å¤–</li>
<li>mapper.xmlæ–‡ä»¶åå’Œæ‰€å†™çš„mapperåç§°ä¸ç›¸åŒ</li>
</ul>
]]></content>
      <categories>
        <category>Mybatis</category>
      </categories>
      <tags>
        <tag>Mybatis</tag>
        <tag>ERROR</tag>
      </tags>
  </entry>
  <entry>
    <title>å·¥å…·-ç ´è§£pdfå¯†ç </title>
    <url>/2019/05/14/%E5%B7%A5%E5%85%B7-%E7%A0%B4%E8%A7%A3pdf%E5%AF%86%E7%A0%81/</url>
    <content><![CDATA[<p>ä»Šå¤©å¶å¾—ä¸€ä»½ä¹…ä»°çš„å­¦ä¹ èµ„æ–™.pdf, ä¸€æ‰“å¼€å´å‘ç°è¦è¾“å…¥å¯†ç , è¯•æ¥è¯•å»å¯†ç éƒ½ä¸å¯¹, å¯»égoogleæ‰¾åˆ°äº†ä¸€ä¸ªç¥å™¨~</p>
<h2 id="pdfcrack">pdfcrack</h2>
<p>å®˜æ–¹ç½‘ç«™ -&gt; <a href="http://pdfcrack.sourceforge.net/" target="_blank" rel="noopener">pdfcrack</a>, ç›®å‰ç‰ˆæœ¬0.17</p>
<h3 id="ç¬¬ä¸€æ­¥-Download">ç¬¬ä¸€æ­¥ Download</h3>
<p>ä¸‹è½½ä¸‹æ¥ä»¥åæ˜¯ä¸€ä¸ªå‹ç¼©åŒ…, è§£å‹ä»¥åä¸€å †cè¯­è¨€æ–‡ä»¶<br>
<img src="http://www.wangdanpeng.com/img/20190514193611-1.png" alt="1"></p>
<h3 id="ç¬¬äºŒæ­¥-ç¼–è¯‘">ç¬¬äºŒæ­¥ ç¼–è¯‘</h3>
<p>åœ¨è§£å‹åçš„æ–‡ä»¶å¤¹é‡Œæ‰§è¡Œ<strong>make</strong>, æˆåŠŸåå¾—å‡ºä¸Šå›¾ä¸­çº¢è‰²çš„<strong>pdfcrack</strong>å¯æ‰§è¡Œæ–‡ä»¶</p>
<h3 id="ç¬¬ä¸‰æ­¥-æš´åŠ›ç ´è§£">ç¬¬ä¸‰æ­¥ æš´åŠ›ç ´è§£</h3>
<p>æ‰§è¡Œpdfcrack åè·Ÿpdfè·¯å¾„, å¦‚å›¾ä¸­çš„æµ‹è¯•æ–‡ä»¶123.pdf, å‡ ç§’é’Ÿåå¾—åˆ°å¯†ç <strong>168</strong><br>
<img src="http://www.wangdanpeng.com/img/20190514193611-2.png" alt="2"></p>
<p>æœ€å, æƒ³å·æ‡’çš„å¯ä»¥ç›´æ¥ä¸‹è½½æˆ‘ç¼–è¯‘å¥½çš„æ‰§è¡Œæ–‡ä»¶ -&gt; <a href="http://www.wangdanpeng.com/jars/pdfcrack">ä¼ é€é—¨</a></p>
]]></content>
      <categories>
        <category>å·¥å…·</category>
      </categories>
      <tags>
        <tag>å·¥å…·</tag>
        <tag>pdf</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç³»åˆ—ç¬”è®°(ä¸ƒ) - æ–‡ä»¶ç³»ç»Ÿ</title>
    <url>/2021/11/03/20211103194440/</url>
    <content><![CDATA[<h2 id="æ–‡ä»¶ç³»ç»Ÿ">æ–‡ä»¶ç³»ç»Ÿ</h2>
<h3 id="æ–‡ä»¶ç³»ç»Ÿçš„æ¦‚å¿µ">æ–‡ä»¶ç³»ç»Ÿçš„æ¦‚å¿µ</h3>
<p><strong>æ–‡ä»¶ç³»ç»Ÿ</strong>: æ˜¯æ“ä½œç³»ç»Ÿä¸­ç®¡ç†æŒä¹…æ€§æ•°æ®çš„å­ç³»ç»Ÿ, æä¾›æ•°æ®å­˜å‚¨å’Œè®¿é—®åŠŸèƒ½, ç»„ç»‡, æ£€ç´¢, è¯»å†™è®¿é—®æ•°æ®<br>
<strong>æ–‡ä»¶</strong>: æ˜¯å…·æœ‰ç¬¦å·å, ç”±å­—èŠ‚åºåˆ—æ„æˆçš„æ•°æ®é¡¹é›†åˆ, æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„åŸºæœ¬æ•°æ®å•ä½, æ–‡ä»¶åæ˜¯æ–‡ä»¶çš„æ ‡è¯†ç¬¦å·<br>
æ–‡ä»¶ç³»ç»Ÿçš„åŠŸèƒ½<br>
åˆ†é…æ–‡ä»¶ç£ç›˜ç©ºé—´: ç®¡ç†æ–‡ä»¶å—(ä½ç½®å’Œé¡ºåº), ç®¡ç†ç©ºé—²ç©ºé—´(ä½ç½®), åˆ†é…ç®—æ³•(ç­–ç•¥)<br>
ç®¡ç†æ–‡ä»¶é›†åˆ: å®šä½(æ–‡ä»¶åŠå…¶å†…å®¹), å‘½å(é€šè¿‡åå­—æ‰¾åˆ°æ–‡ä»¶), æ–‡ä»¶ç³»ç»Ÿç»“æ„(æ–‡ä»¶ç»„ç»‡æ–¹å¼)<br>
æ•°æ®å¯é å’Œå®‰å…¨: å®‰å…¨(å¤šå±‚æ¬¡ä¿æŠ¤æ•°æ®å®‰å…¨), å¯é (æŒä¹…ä¿å­˜, é¿å…ç³»ç»Ÿå´©æºƒ, æ”»å‡»ç­‰)<br>
æ–‡ä»¶å±æ€§åŒ…æ‹¬: åç§°, ç±»å‹, ä½ç½®, å¤§å°, ä¿æŠ¤, åˆ›å»ºè€…, åˆ›å»ºæ—¶é—´, æœ€è¿‘ä¿®æ”¹æ—¶é—´â€¦<br>
æ–‡ä»¶ä¿¡æ¯åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†, ä¸€éƒ¨åˆ†æ˜¯æ–‡ä»¶å¤´, å­˜åœ¨æ–‡ä»¶ç³»ç»Ÿå…ƒæ•°æ®å½“ä¸­çš„æ–‡ä»¶ä¿¡æ¯, ä¸»è¦æ˜¯æ–‡ä»¶å±æ€§å’Œæ–‡ä»¶å­˜å‚¨ä½ç½®å’Œé¡ºåº</p>
<h3 id="æ–‡ä»¶æè¿°ç¬¦">æ–‡ä»¶æè¿°ç¬¦</h3>
<p><strong>æ–‡ä»¶æè¿°ç¬¦</strong>: æ‰“å¼€çš„æ–‡ä»¶åœ¨å†…å­˜ä¸­ç»´æŠ¤çš„ç›¸å…³ä¿¡æ¯<br>
æ‰“å¼€æ–‡ä»¶çš„è¿‡ç¨‹: å†…æ ¸è·Ÿè¸ªè¿›ç¨‹æ‰“å¼€çš„æ‰€æœ‰æ–‡ä»¶, æ“ä½œç³»ç»Ÿä¸ºæ¯ä¸ªè¿›ç¨‹ç»´æŠ¤ä¸€ä¸ªæ‰“å¼€æ–‡ä»¶è¡¨, æ–‡ä»¶æè¿°ç¬¦æ˜¯æ‰“å¼€æ–‡ä»¶è¡¨çš„æ ‡è¯†<br>
æ“ä½œç³»ç»Ÿåœ¨æ‰“å¼€æ–‡ä»¶è¡¨ä¸­ç»´æŠ¤çš„æ‰“å¼€æ–‡ä»¶çŠ¶æ€å’Œä¿¡æ¯, åŒ…æ‹¬<br>
æ–‡ä»¶æŒ‡é’ˆ: æœ€è¿‘ä¸€æ¬¡è¯»å†™ä½ç½®, æ¯ä¸ªè¿›ç¨‹åˆ†åˆ«ç»´æŠ¤è‡ªå·±çš„æ‰“å¼€æ–‡ä»¶æŒ‡é’ˆ<br>
æ–‡ä»¶æ‰“å¼€è®¡æ•°: å½“å‰æ‰“å¼€æ–‡ä»¶çš„æ¬¡æ•°, æœ€åä¸€ä¸ªè¿›ç¨‹å…³é—­æ–‡ä»¶æ—¶, å°†å…¶ä»æ‰“å¼€æ–‡ä»¶è¡¨ä¸­ç§»é™¤<br>
æ–‡ä»¶çš„ç£ç›˜ä½ç½®: ç¼“å­˜æ•°æ®è®¿é—®ä¿¡æ¯<br>
è®¿é—®æƒé™: æ¯ä¸ªè¿›ç¨‹çš„æ–‡ä»¶è®¿é—®æ¨¡å¼ä¿¡æ¯</p>
<p>æ–‡ä»¶çš„ç”¨æˆ·è§†å›¾: ç”¨æˆ·è¿›ç¨‹çœ‹åˆ°çš„æ ·å­, æŒä¹…çš„æ•°æ®ç»“æ„<br>
æ–‡ä»¶çš„ç³»ç»Ÿè§†å›¾: æ•°æ®å—çš„é›†åˆ, ç³»ç»Ÿä¸å…³å¿ƒå­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„æ•°æ®çš„ç»“æ„, æ•°æ®å—æ˜¯é€»è¾‘å­˜å‚¨å•å…ƒ, æ‰‡åŒºæ˜¯ç‰©ç†å­˜å‚¨å•å…ƒ, é€šå¸¸å‡ ä¸ªæ‰‡åŒºæ„æˆä¸€ä¸ªæ•°æ®å—<br>
æ–‡ä»¶ç³»ç»Ÿä¸­çš„åŸºæœ¬æ“ä½œå•ä½æ˜¯æ•°æ®å—<br>
è¿›ç¨‹è¯»æ–‡ä»¶ -&gt; è·å–å­—èŠ‚æ‰€åœ¨çš„æ•°æ®å—, è¿”å›æ•°æ®å—å†…å¯¹åº”éƒ¨åˆ†<br>
è¿›ç¨‹å†™æ–‡ä»¶ -&gt; è·å–æ•°æ®å—, ä¿®æ”¹æ•°æ®å—ä¸­å¯¹åº”éƒ¨åˆ†, å†™å›æ•°æ®å—<br>
è®¿é—®æ¨¡å¼<br>
é¡ºåºè®¿é—®: æŒ‰å­—èŠ‚ä¾æ¬¡è¯»å–, å¤§å¤šæ•°çš„æ–‡ä»¶è®¿é—®éƒ½æ˜¯<br>
éšæœºè®¿é—®: ä»ä¸­é—´è¯»å†™, ä¸å¸¸ç”¨ä½†é‡è¦, æ¯”å¦‚è™šæ‹Ÿå†…å­˜ä¸­æŠŠå†…å­˜é¡µå­˜å‚¨åœ¨æ–‡ä»¶<br>
ç´¢å¼•è®¿é—®: ä¾æ®æ•°æ®ç‰¹å¾ç´¢å¼•, é€šå¸¸æ“ä½œç³»ç»Ÿä¸å®Œæ•´æä¾›ç´¢å¼•è®¿é—®<br>
æ–‡ä»¶å†…éƒ¨ç»“æ„æœ‰: æ— ç»“æ„, å•è¯/å­—èŠ‚åºåˆ—, ç®€å•è®°å½•ç»“æ„, åˆ†åˆ—, å›ºå®šé•¿åº¦, å¯å˜é•¿åº¦, å¤æ‚ç»“æ„, æ ¼å¼åŒ–æ–‡æ¡£, å¯æ‰§è¡Œæ–‡ä»¶ç­‰</p>
<h3 id="ç›®å½•-æ–‡ä»¶åˆ«åå’Œæ–‡ä»¶ç³»ç»Ÿç§ç±»">ç›®å½•, æ–‡ä»¶åˆ«åå’Œæ–‡ä»¶ç³»ç»Ÿç§ç±»</h3>
<p>æ–‡ä»¶æ•°é‡å¤šäº†ä»¥å, éœ€è¦ä»¥ç›®å½•çš„æ–¹å¼ç»„ç»‡èµ·æ¥, ç›®å½•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶, ç›®å½•çš„å†…å®¹æ˜¯æ–‡ä»¶ç´¢å¼•è¡¨&lt;æ–‡ä»¶å, æŒ‡å‘æ–‡ä»¶çš„æŒ‡é’ˆ&gt;<br>
ç›®å½•æ“ä½œæœ‰, æœç´¢/åˆ›å»º/åˆ é™¤æ–‡ä»¶, åˆ—ç›®å½•, é‡å‘½åæ–‡ä»¶, éå†è·¯å¾„, æ“ä½œç³»ç»Ÿåªå…è®¸å†…æ ¸ä¿®æ”¹ç›®å½•ä»¥ç¡®ä¿æ˜ å°„çš„å®Œæ•´æ€§, ç”¨æˆ·é€šè¿‡ç³»ç»Ÿè°ƒç”¨è®¿é—®ç›®å½•<br>
ç›®å½•çš„å®ç°ä¸¤ç§å®ç°æ–¹å¼: çº¿æ€§åˆ—è¡¨(æ•°æ®é‡å¾ˆå¤§ä»¥å, æ£€ç´¢å’Œå¢åˆ æ—¶é—´å˜é•¿, ä½†ç¼–ç¨‹ç®€å•), å“ˆå¸Œè¡¨(å‡å°‘ç›®å½•æœç´¢æ—¶é—´,ä½†å¯èƒ½å†²çªéœ€è¦æœ‰è§£å†³æ–¹æ¡ˆ)<br>
æ–‡ä»¶åˆ«å: ä¸¤ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åå…³è”åŒä¸€ä¸ªæ–‡ä»¶<br>
ç¡¬é“¾æ¥: å¤šä¸ªæ–‡ä»¶é¡¹æŒ‡å‘ä¸€ä¸ªæ–‡ä»¶, åˆ åˆ°æœ€åä¸€ä¸ªæŒ‡å‘å®ƒçš„æ–‡ä»¶åæ‰ä¼šæŠŠæ–‡ä»¶å®ä½“åˆ æ‰<br>
è½¯é“¾æ¥: ä»¥å¿«æ·æ–¹å¼æŒ‡å‘å…¶ä»–æ–‡ä»¶, å­˜çš„å¦ä¸€ä¸ªæ–‡ä»¶çš„å®Œæ•´è·¯å¾„, åˆ é™¤åˆ«åæ–‡ä»¶ä¸å—ä»»ä½•å½±å“<br>
åå­—è§£æ(è·¯å¾„éå†): æŠŠé€»è¾‘åå­—è½¬æ¢æˆç‰©ç†èµ„æº, æ¯”å¦‚æ–‡ä»¶, ä¾æ®è·¯å¾„å, åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­æ‰¾åˆ°å®é™…æ–‡ä»¶ä½ç½®, éå†æ–‡ä»¶ç›®å½•ç›´åˆ°æ‰¾åˆ°ç›®æ ‡æ–‡ä»¶<br>
ä¸¾ä¾‹è§£æ/bin/ls, è¯»å–æ ¹ç›®å½•çš„æ–‡ä»¶å¤´(åœ¨ç£ç›˜å›ºå®šä½ç½®), è¯»å–æ ¹ç›®å½•çš„æ•°æ®å—, æœç´¢bin, è¯»å–binçš„æ–‡ä»¶å¤´, è¯»å–binçš„æ•°æ®å—, æœç´¢ls, è¯»å–lsæ–‡ä»¶å¤´<br>
å½“å‰å·¥ä½œç›®å½•(pwd): æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šæŒ‡å‘ä¸€ä¸ªæ–‡ä»¶ç›®å½•ç”¨äºè§£ææ–‡ä»¶å, å…è®¸ç”¨æˆ·æŒ‡å®šç›¸å¯¹è·¯å¾„æ¥ä»£æ›¿ç»å¯¹è·¯å¾„<br>
æ–‡ä»¶ç³»ç»ŸæŒ‚è½½: æ–‡ä»¶ç³»ç»Ÿéœ€è¦å…ˆæŒ‚è½½æ‰èƒ½è¢«è®¿é—®, æœªæŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿè¢«æŒ‚è½½åœ¨æŒ‚è½½ç‚¹ä¸Š<br>
æ–‡ä»¶ç³»ç»Ÿç§ç±»: ç£ç›˜æ–‡ä»¶ç³»ç»Ÿ, æ•°æ®åº“æ–‡ä»¶ç³»ç»Ÿ, æ—¥å¿—æ–‡ä»¶ç³»ç»Ÿ, ç½‘ç»œ/åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ, ç‰¹æ®Š/è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿ<br>
æ–‡ä»¶ç¼“å­˜: æ“ä½œç³»ç»Ÿä¸­è®¨è®ºçš„æ–‡ä»¶ç¼“å­˜æ˜¯å†…å­˜ä¸­çš„æ•°æ®å—ç¼“å­˜, æ•°æ®å—æŒ‰éœ€è¯»å…¥å†…å­˜, é¢„è¯»ä¼šé¢„å…ˆè¯»å–åé¢çš„æ•°æ®å—, æ•°æ®å—ä½¿ç”¨åè¢«ç¼“å­˜, å‡è®¾æ•°æ®å—ä¼šå†æ¬¡ç”¨åˆ°, å†™æ“ä½œä¹Ÿå¯èƒ½è¢«ç¼“å­˜å’Œå»¶è¿Ÿå†™å…¥<br>
ä¸¤ç§ç¼“å­˜æ–¹å¼, æ•°æ®å—ç¼“å­˜, é¡µç¼“å­˜</p>
<h3 id="æ–‡ä»¶åˆ†é…">æ–‡ä»¶åˆ†é…</h3>
<p>å¤§å¤šæ•°æ–‡ä»¶éƒ½å¾ˆå°, å—ç©ºé—´ä¸èƒ½å¤ªå¤§, éœ€è¦å¯¹å°æ–‡ä»¶æä¾›å¾ˆå¥½çš„æ”¯æŒ, è€Œä¸€äº›æ–‡ä»¶éå¸¸å¤§, å¿…é¡»æ”¯æŒå¤§æ–‡ä»¶, å¤§æ–‡ä»¶è®¿é—®éœ€è¦é«˜æ•ˆ<br>
æ–‡ä»¶åˆ†é…ç ”ç©¶å¦‚ä½•è¡¨ç¤ºåˆ†é…ç»™ä¸€ä¸ªæ–‡ä»¶æ•°æ®å—çš„ä½ç½®å’Œé¡ºåº<br>
åˆ†é…æ–¹å¼æœ‰:<br>
è¿ç»­åˆ†é…: æ–‡ä»¶å¤´æŒ‡å®šèµ·å§‹å—å’Œé•¿åº¦, æ–‡ä»¶è¯»å–è¡¨ç°å¥½, é«˜æ•ˆçš„é¡ºåºå’Œéšæœºè®¿é—®, ä½†æœ‰ç¢ç‰‡, å’Œæ–‡ä»¶å¢é•¿é—®é¢˜<br>
é“¾å¼åˆ†é…: æ–‡ä»¶ä»¥æ•°æ®å—é“¾è¡¨æ–¹å¼å­˜å‚¨, æ–‡ä»¶å¤´åŒ…å«äº†åˆ°ç¬¬ä¸€å—å’Œæœ€åä¸€å—çš„æŒ‡é’ˆ, åˆ›å»º/å¢å¤§/ç¼©å°å¾ˆå®¹æ˜“, æ²¡æœ‰ç¢ç‰‡, ä½†æ— æ³•å®ç°çœŸæ­£çš„éšæœºè®¿é—®, å¯é æ€§å·®, é“¾æ¡ç ´åæ•°æ®ä¼šä¸¢å¤±<br>
ç´¢å¼•åˆ†é…: ä¸ºæ¯ä¸ªæ–‡ä»¶åˆ›å»ºä¸€ä¸ªç´¢å¼•æ•°æ®å—, æŒ‡å‘æ–‡ä»¶æ•°æ®å—çš„æŒ‡é’ˆåˆ—è¡¨, æ–‡ä»¶å¤´åŒ…å«äº†ç´¢å¼•æ•°æ®å—æŒ‡é’ˆ, åˆ›å»º/å¢å¤§/ç¼©å°éƒ½å¾ˆå®¹æ˜“, æ²¡æœ‰ç¢ç‰‡, æ”¯æŒç›´æ¥è®¿é—®, æ–‡ä»¶å¾ˆå°æ—¶, ç´¢å¼•æœ‰å¼€é”€, å¤§æ–‡ä»¶ä¹Ÿæœ‰éº»çƒ¦(å¤§åˆ°ä¸€ä¸ªæ•°æ®å—æ”¾ä¸ä¸‹ç´¢å¼•æ—¶)<br>
å¤§æ–‡ä»¶çš„ç´¢å¼•åˆ†é…: é“¾å¼ç´¢å¼•å—, å¤šçº§ç´¢å¼•å—<br>
UFSå¤šçº§ç´¢å¼•åˆ†é…: 10å—ä»¥å†…ç›´æ¥æŒ‡åˆ°æ•°æ®å—, ç¬¬11ä¸ªæŒ‡é’ˆæŒ‡å‘ç´¢å¼•å—, ç¬¬12ä¸ªæŒ‡é’ˆæŒ‡å‘äºŒçº§ç´¢å¼•, ç¬¬13ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸‰çº§ç´¢å¼•, æé«˜äº†æ–‡ä»¶å¤§å°é™åˆ¶é˜ˆå€¼, åŠ¨æ€åˆ†é…æ•°æ®å—å¾ˆå®¹æ˜“, å°æ–‡ä»¶å¼€é”€å°, åªä¸ºå¤§æ–‡ä»¶åˆ†é…é—´æ¥æ•°æ®å—, å¤§æ–‡ä»¶åœ¨è®¿é—®æ•°æ®å—æ—¶éœ€è¦å¤§é‡æŸ¥è¯¢</p>
<h3 id="ç©ºé—²ç©ºé—´ç®¡ç†">ç©ºé—²ç©ºé—´ç®¡ç†</h3>
<p>è·Ÿè¸ªè®°å½•æ–‡ä»¶å·ä¸­æœªåˆ†é…çš„æ•°æ®å—<br>
ç”¨ä½å›¾ä»£è¡¨ç©ºé—²æ•°æ®å—åˆ—è¡¨, 0è¡¨ç¤ºç©ºé—²1è¡¨ç¤ºå·²åˆ†é…<br>
å†—ä½™ç£ç›˜é˜µåˆ—: æ˜¯ä¸€ç§å¤šç£ç›˜ç®¡ç†æŠ€æœ¯<br>
é€šå¸¸ç£ç›˜é€šè¿‡åˆ†åŒºæ¥æœ€å¤§é™åº¦å‡å°å¯»é“æ—¶é—´, åˆ†åŒºæ˜¯ä¸€ç»„æŸ±é¢çš„é›†åˆ, æ¯ä¸ªåˆ†åŒºéƒ½å¯è§†ä¸ºé€»è¾‘ä¸Šç‹¬ç«‹çš„ç£ç›˜<br>
æ–‡ä»¶å·: ä¸€ä¸ªæ‹¥æœ‰å®Œæ•´æ–‡ä»¶ç³»ç»Ÿå®ä¾‹çš„å¤–å­˜ç©ºé—´, é€šå¸¸å¸¸é©»åœ¨ç£ç›˜çš„å•ä¸ªåˆ†åŒºä¸Š<br>
ä½¿ç”¨å¤šç£ç›˜å¯æ”¹å–„ååé‡(é€šè¿‡å¹¶è¡Œ), å¯é æ€§å’Œå¯ç”¨æ€§(é€šè¿‡å†—ä½™)</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç³»åˆ—ç¬”è®°(ä¸‰) - è™šæ‹Ÿå­˜å‚¨å’Œé¡µé¢ç½®æ¢ç®—æ³•</title>
    <url>/2021/10/28/20211028160218/</url>
    <content><![CDATA[<h2 id="è™šæ‹Ÿå­˜å‚¨">è™šæ‹Ÿå­˜å‚¨</h2>
<h3 id="éœ€æ±‚èƒŒæ™¯">éœ€æ±‚èƒŒæ™¯</h3>
<p>å­˜å‚¨å™¨çš„å±‚æ¬¡ç»“æ„: å¯„å­˜å™¨, é«˜é€Ÿç¼“å­˜, å†…å­˜, ç£ç›˜, ç£å¸¦, é€Ÿåº¦ä¾æ¬¡é™ä½ä¸”å·®è·å·¨å¤§<br>
è™šæ‹Ÿå­˜å‚¨ç›®æ ‡æ˜¯è§£å†³å†…å­˜ä¸å¤Ÿç”¨é—®é¢˜, åœ¨æœ‰é™å®¹é‡çš„å†…å­˜ä¸­, ä»¥é¡µä¸ºå•ä½è‡ªåŠ¨è£…å…¥æ›´å¤šæ›´å¤§çš„ç¨‹åº</p>
<h3 id="è¦†ç›–å’Œäº¤æ¢">è¦†ç›–å’Œäº¤æ¢</h3>
<p><strong>è¦†ç›–</strong>: åº”ç”¨ç¨‹åºå°†ç¨‹åºæ ¹æ®åŠŸèƒ½åˆ’åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—, å¿…è¦éƒ¨åˆ†çš„ä»£ç å’Œæ•°æ®å¸¸é©»å†…å­˜, å¯é€‰éƒ¨åˆ†éœ€è¦æ—¶æ‰è£…å…¥åˆ°å†…å­˜, ä¸å­˜åœ¨è°ƒç”¨å…³ç³»çš„æ¨¡å—å¯ä»¥ç›¸äº’è¦†ç›–, å…±ç”¨ä¸€å—å†…å­˜åŒºåŸŸ<br>
ä¸è¶³æ˜¯, å¢åŠ ç¼–ç¨‹å›°éš¾(éœ€åˆ’åˆ†åŠŸèƒ½æ¨¡å—, ç¡®å®šæ¨¡å—é—´è¦†ç›–å…³ç³»), å¢åŠ æ‰§è¡Œæ—¶é—´(ä»å¤–å­˜è£…å…¥è¦†ç›–æ¨¡å—)<br>
<strong>äº¤æ¢</strong>: å¢åŠ æ­£åœ¨è¿è¡Œç¨‹åºçš„å†…å­˜, æ“ä½œç³»ç»Ÿå¯è‡ªåŠ¨å°†æš‚æ—¶ä¸èƒ½è¿è¡Œçš„ç¨‹åºæ”¾åˆ°å¤–å­˜, æ¢å…¥æ¢å‡ºçš„åŸºæœ¬å•ä½æ˜¯æ•´ä¸ªè¿›ç¨‹çš„åœ°å€ç©ºé—´, åªæœ‰å½“å†…å­˜ä¸å¤Ÿæˆ–æœ‰ä¸å¤Ÿå¯èƒ½æ—¶æ¢å‡º<br>
ä¾èµ–äº<strong>å±€éƒ¨æ€§åŸç†</strong>: ç¨‹åºåœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­çš„ä¸€ä¸ªè¾ƒçŸ­æ—¶æœŸ, æ‰€æ‰§è¡Œçš„æŒ‡ä»¤åœ°å€å’ŒæŒ‡ä»¤çš„æ“ä½œæ•°åœ°å€, åˆ†åˆ«å±€é™äºä¸€å®šåŒºåŸŸ, æ—¶é—´å±€éƒ¨æ€§, ç©ºé—´å±€éƒ¨æ€§, åˆ†æ”¯å±€éƒ¨æ€§</p>
<h3 id="è™šæ‹Ÿå­˜å‚¨æ¦‚å¿µ">è™šæ‹Ÿå­˜å‚¨æ¦‚å¿µ</h3>
<p>æ ¸å¿ƒ: <strong>å°†ä¸å¸¸ç”¨çš„éƒ¨åˆ†å†…å­˜å—æš‚å­˜åˆ°å¤–å­˜</strong><br>
è£…è½½ç¨‹åºæ—¶, åªå°†å½“å‰æŒ‡ä»¤æ‰§è¡Œéœ€è¦çš„éƒ¨åˆ†é¡µé¢æˆ–æ®µè£…å…¥å†…å­˜, æŒ‡ä»¤æ‰§è¡Œä¸­éœ€è¦çš„æŒ‡ä»¤æˆ–æ•°æ®ä¸åœ¨å†…å­˜ç§°ä¸ºç¼ºé¡µæˆ–ç¼ºæ®µ, å¤„ç†å™¨é€šçŸ¥æ“ä½œç³»ç»Ÿå°†ç›¸åº”çš„é¡µé¢æˆ–æ®µè°ƒå…¥å†…å­˜<br>
æ“ä½œç³»ç»Ÿå°†å†…å­˜ä¸­æš‚æ—¶ä¸ç”¨çš„é¡µé¢æˆ–æ®µä¿å­˜åˆ°å¤–å­˜</p>
<h3 id="è™šæ‹Ÿé¡µå¼å­˜å‚¨">è™šæ‹Ÿé¡µå¼å­˜å‚¨</h3>
<p>åœ¨é¡µå¼å­˜å‚¨ç®¡ç†çš„åŸºç¡€ä¸Š, å¢åŠ è¯·æ±‚è°ƒé¡µå’Œé¡µé¢ç½®æ¢<br>
ç¨‹åºè£…è½½åˆ°å†…å­˜è¿è¡Œæ—¶, åªè£…å…¥éƒ¨åˆ†é¡µé¢, å°±å¯åŠ¨, è¿›ç¨‹åœ¨è¿è¡Œä¸­å‘ç°æœ‰éœ€è¦çš„ä»£ç æˆ–æ•°æ®ä¸åœ¨å†…å­˜æ—¶, åˆ™å‘ç³»ç»Ÿå‘å‡ºç¼ºé¡µå¼‚å¸¸è¯·æ±‚, æ“ä½œç³»ç»Ÿåœ¨å¤„ç†ç¼ºé¡µå¼‚å¸¸æ—¶, å°†å¤–å­˜ç›¸åº”çš„é¡µé¢è°ƒå…¥å†…å­˜, ä½¿å¾—è¿›ç¨‹èƒ½ç»§ç»­è¿è¡Œ<br>
é¡µè¡¨é¡¹éœ€è¦æ·»åŠ å‡ ä¸ªæ ‡å¿—ä½:<br>
é©»ç•™ä½, è¡¨ç¤ºè¯¥é¡µæ˜¯å¦åœ¨å†…å­˜, ä¿®æ”¹ä½, è¡¨ç¤ºåœ¨å†…å­˜ä¸­çš„è¯¥é¡µæ˜¯å¦è¢«ä¿®æ”¹è¿‡, è®¿é—®ä½, æ˜¯å¦è¢«è®¿é—®è¿‡, ç”¨äºç½®æ¢ç®—æ³•, ä¿æŠ¤ä½, è¡¨ç¤ºè¯¥é¡µå…è®¸çš„è®¿é—®æ–¹å¼</p>
<h3 id="ç¼ºé¡µå¼‚å¸¸">ç¼ºé¡µå¼‚å¸¸</h3>
<p>å¤„ç†æµç¨‹, æŒ‡ä»¤-&gt;é¡µè¡¨é¡¹, æœ‰æ•ˆç›´æ¥è®¿é—®, æ— æ•ˆå°±äº§ç”Ÿç¼ºé¡µå¼‚å¸¸-&gt;æ“ä½œç³»ç»Ÿç¼ºé¡µå¼‚å¸¸æœåŠ¡ä¾‹ç¨‹æ‰§è¡Œ-&gt;æŸ¥æ‰¾åœ¨å¤–å­˜ä¸­å¯¹åº”çš„é¡µé¢-&gt;ç‰©ç†å†…å­˜æœ‰ç©ºé—²å¸§, åˆ™ç›´æ¥æ”¾å¹¶ä¿®æ”¹é¡µè¡¨é¡¹-&gt;é‡æ–°æ‰§è¡ŒæŒ‡ä»¤<br>
å¦‚æœä»¥ä¸Šæ²¡æ‰¾åˆ°ç©ºé—²å¸§, åˆ™ä¾æ®é¡µé¢ç½®æ¢ç®—æ³•é€‰æ‹©è¢«æ›¿æ¢çš„ç‰©ç†é¡µå¸§, å¹¶åˆ¤æ–­æ˜¯å¦ä¿®æ”¹è¿‡, ä¿®æ”¹è¿‡åˆ™å†™å›å¤–å­˜, å¹¶ä¿®æ”¹è¯¥é¡µçš„é¡µè¡¨é¡¹è¡¨ç¤ºå·²æ— æ•ˆ<br>
æœªè¢«æ˜ å°„çš„é¡µé€šå¸¸ä¿å­˜åˆ°å…‘æ¢åŒº, é‡‡ç”¨ç‰¹æ®Šæ ¼å¼å­˜å‚¨, ä»£ç æ®µå’Œå…±äº«åº“ä¸å»ä¿®æ”¹, ä¸ç”¨æ”¾åˆ°å…‘æ¢åŒº, æ•°æ®æ®µå’Œå †æ ˆæ®µéœ€è¦æ”¾<br>
è™šæ‹Ÿé¡µå¼å­˜å‚¨ç®¡ç†çš„æ€§èƒ½: æœ‰æ•ˆå­˜å‚¨è®¿é—®æ—¶é—´ = è®¿å­˜æ—¶é—´Ã—(1-p)+ç¼ºé¡µå¼‚å¸¸å¤„ç†æ—¶é—´Ã—ç¼ºé¡µç‡p<br>
æƒ³è¦æ€§èƒ½é«˜å°±è¦ä¿è¯ç¼ºé¡µç‡pè¶³å¤Ÿå°</p>
<h2 id="é¡µé¢ç½®æ¢ç®—æ³•">é¡µé¢ç½®æ¢ç®—æ³•</h2>
<h3 id="ç®€ä»‹-v2">ç®€ä»‹</h3>
<p>å½“å‡ºç°ç¼ºé¡µå¼‚å¸¸, éœ€è°ƒå…¥æ–°é¡µé¢è€Œå†…å­˜å·²æ»¡æ—¶, ç½®æ¢ç®—æ³•é€‰æ‹©è¢«ç½®æ¢çš„ç‰©ç†é¡µé¢, ä¸”å°½å¯èƒ½å‡å°‘é¡µé¢çš„è°ƒå…¥è°ƒå‡ºæ¬¡æ•°, æŠŠæœªæ¥ä¸å†è®¿é—®æˆ–çŸ­æœŸå†…ä¸è®¿é—®çš„é¡µé¢è°ƒå‡º<br>
é¡µé¢é”å®š: æœ‰äº›ä¸èƒ½è°ƒå‡º, å¦‚å£°æ˜å¿…é¡»å¸¸é©»å†…å­˜çš„, æ“ä½œç³»ç»Ÿçš„å…³é”®éƒ¨åˆ†, è¦æ±‚å“åº”é€Ÿåº¦çš„, å¯é€šè¿‡é¡µè¡¨ä¸­çš„é”å®šæ ‡å¿—ä½é”å®š<br>
ç®—æ³•è¯„ä»·æ–¹æ³•, æ¨¡æ‹Ÿé¡µé¢ç½®æ¢è¡Œä¸º, äº§ç”Ÿç¼ºé¡µæ¬¡æ•°å°‘çš„æ€§èƒ½æ›´å¥½<br>
å±€éƒ¨é¡µé¢ç½®æ¢ç®—æ³•: é€‰æ‹©èŒƒå›´ä»…é™äºå½“å‰è¿›ç¨‹å ç”¨çš„ç‰©ç†é¡µé¢, æ¯ä¸ªè¿›ç¨‹å ç”¨çš„é¡µé¢æ€»æ•°ä¸ä¼šå˜åŒ–, ä¾‹å¦‚æœ€ä¼˜ç®—æ³•(é¢„æµ‹æœªæ¥), å…ˆè¿›å…ˆå‡º, æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç®—æ³•(ç»Ÿè®¡è¿‡å»), æ—¶é’Ÿç®—æ³•, æœ€ä¸å¸¸ç”¨ç®—æ³•<br>
å…¨å±€é¡µé¢ç½®æ¢ç®—æ³•: èŒƒå›´ä¸ºæ‰€æœ‰å¯æ¢å‡ºçš„ç‰©ç†é¡µé¢, è¿›ç¨‹é—´åˆ†é…çš„ç‰©ç†é¡µé¢æ•°ä¼šå‘ç”Ÿå˜åŒ–, ä¾‹å¦‚å·¥ä½œé›†ç®—æ³•, ç¼ºé¡µç‡ç®—æ³•</p>
<h3 id="å±€éƒ¨é¡µé¢ç½®æ¢ç®—æ³•">å±€éƒ¨é¡µé¢ç½®æ¢ç®—æ³•</h3>
<p>ä¾æ¬¡ä»‹ç»æ¯ç§ç®—æ³•<br>
<strong>æœ€ä¼˜é¡µé¢ç½®æ¢ç®—æ³•(Optimal, OPT)</strong>: ç½®æ¢åœ¨æœªæ¥æœ€é•¿æ—¶é—´ä¸è®¿é—®çš„é¡µé¢, å› ä¸ºéœ€è¦é¢„æµ‹æœªæ¥æ‰€ä»¥æ— æ³•å®ç°, ä½†å¯ä»¥ä½œä¸ºå…¶ä»–ç®—æ³•çš„è¯„æµ‹ä¾æ®<br>
<strong>å…ˆè¿›å…ˆå‡ºç®—æ³•(First-In First-Out, FIFO)</strong>: é€‰æ‹©åœ¨å†…å­˜é©»ç•™æ—¶é—´æœ€é•¿çš„é¡µé¢è¿›è¡Œç½®æ¢, å¥½å®ç°, ä½†æ€§èƒ½å·®, åˆ†é…ç‰©ç†é¡µé¢å¢åŠ ç”šè‡³ä¼šç¼ºé¡µæ›´å¤š, å¾ˆå°‘å•ç‹¬ä½¿ç”¨<br>
<strong>æœ€è¿‘æœ€ä¹…æœªä½¿ç”¨ç®—æ³•(Least Recently Used, LRU)</strong>: é€‰æ‹©æœ€é•¿æ—¶é—´æ²¡æœ‰è¢«å¼•ç”¨çš„é¡µé¢è¿›è¡Œç½®æ¢, æœ‰ç‚¹å¤æ‚, å¼€é”€å¤§<br>
<strong>æ—¶é’Ÿé¡µé¢ç½®æ¢ç®—æ³•(Clock)</strong>: å¯¹é¡µé¢è®¿é—®è¿›è¡Œç²—ç•¥ç»Ÿè®¡, é¡µè¡¨é¡¹å¢åŠ è®¿é—®ä½, é¡µé¢ç»„æˆç¯å½¢é“¾è¡¨, æŒ‡é’ˆæŒ‡å‘æœ€å…ˆè°ƒå…¥é¡µé¢, ç¼ºé¡µæ—¶ä»æŒ‡é’ˆå¤„å¼€å§‹é¡ºåºæ‰¾æœªè¢«è®¿é—®é¡µé¢ç½®æ¢, LRUå’ŒFIFOçš„æŠ˜ä¸­<br>
<strong>æ”¹è¿›çš„æ—¶é’Ÿç®—æ³•</strong>: å‡å°‘ä¿®æ”¹é¡µçš„ç¼ºé¡µå¤„ç†å¼€é”€, å†æ·»åŠ ä¿®æ”¹ä½, ç¼ºé¡µæ—¶è·³è¿‡æœ‰ä¿®æ”¹çš„é¡µé¢<br>
<strong>æœ€ä¸å¸¸ç”¨ç®—æ³•(Least Frequently Used, LFU)</strong>: å¯¹LRUæ”¹è¿›, ç½®æ¢è®¿é—®æ¬¡æ•°æœ€å°‘çš„é¡µé¢, æ¯ä¸ªé¡µé¢åŠ ä¸€ä¸ªè®¿é—®è®¡æ•°, ç¼ºé¡µæ—¶ç½®æ¢è®¡æ•°æœ€å°çš„</p>
<h3 id="å…¨å±€é¡µé¢ç½®æ¢ç®—æ³•">å…¨å±€é¡µé¢ç½®æ¢ç®—æ³•</h3>
<p><strong>å·¥ä½œé›†ç½®æ¢ç®—æ³•</strong><br>
æ¢å‡ºä¸åœ¨å·¥ä½œé›†ä¸­çš„é¡µé¢, çª—å£å¤§å°b, å½“å‰æ—¶åˆ»å‰bä¸ªå†…å­˜è®¿é—®çš„é¡µå¼•ç”¨æ˜¯å·¥ä½œé›†<br>
å·¥ä½œé›†: ä¸€ä¸ªè¿›ç¨‹å½“å‰æ­£åœ¨ä½¿ç”¨çš„é€»è¾‘é¡µé¢é›†åˆ, å¯è¡¨ç¤ºä¸ºäºŒå…ƒå‡½æ•°W(t, a), tæ˜¯å½“å‰çš„æ‰§è¡Œæ—¶åˆ», aæ˜¯å·¥ä½œé›†çª—å£(ä¸€ä¸ªå®šé•¿çš„é¡µé¢è®¿é—®æ—¶é—´çª—å£), Wæ˜¯æŒ‡åœ¨å½“å‰æ—¶åˆ»tå‰é¢çš„aæ—¶é—´çª—å£é‡Œ, æ‰€æœ‰è®¿é—®é¡µé¢æ‰€ç»„æˆçš„é›†åˆ, |W(t,a)|è¡¨ç¤ºå·¥ä½œé›†çš„å¤§å°, å³é¡µé¢æ•°ç›®<br>
å¸¸é©»é›†: å½“å‰æ—¶åˆ», è¿›ç¨‹å®é™…é©»ç•™å†…å­˜çš„é¡µé¢é›†åˆ<br>
å·¥ä½œé›†å’Œå¸¸é©»é›†çš„å…³ç³», å·¥ä½œé›†æ˜¯è¿›ç¨‹è¿è¡Œè¿‡ç¨‹ä¸­å›ºæœ‰çš„æ€§è´¨, å¸¸é©»é›†å–å†³äºç³»ç»Ÿåˆ†é…ç»™è¿›ç¨‹çš„ç‰©ç†é¡µé¢æ•°å’Œé¡µé¢ç½®æ¢ç®—æ³•<br>
è®¿å­˜é“¾è¡¨: ç»´æŠ¤çª—å£å†…çš„è®¿å­˜é¡µé¢é“¾è¡¨, è®¿å­˜æ—¶æ¢å‡ºä¸åœ¨å·¥ä½œé›†çš„é¡µé¢, æ›´æ–°è®¿å­˜é“¾è¡¨, ç¼ºé¡µæ—¶, æ¢å…¥é¡µé¢, æ›´æ–°è®¿å­˜é“¾è¡¨, å¼€é”€ä¹Ÿå¾ˆå¤§</p>
<p><strong>ç¼ºé¡µç‡ç®—æ³•</strong><br>
ç¼ºé¡µç‡: ç¼ºé¡µæ¬¡æ•°/å†…å­˜è®¿é—®æ¬¡æ•°æˆ–è€…ç¼ºé¡µå¹³å‡æ—¶é—´é—´éš”çš„å€’æ•°<br>
å½±å“ç¼ºé¡µç‡çš„å› ç´ : é¡µé¢ç½®æ¢ç®—æ³•, åˆ†é…ç»™è¿›ç¨‹çš„ç‰©ç†é¡µé¢æ•°, é¡µé¢å¤§å°, ç¨‹åºçš„ç¼–å†™æ–¹æ³•<br>
ç¼ºé¡µç‡ç½®æ¢ç®—æ³•é€šè¿‡è°ƒæ•´å¸¸é©»é›†å¤§å°, ä½¿å¾—ç¼ºé¡µç‡ä¿æŒåœ¨ä¸€ä¸ªåˆç†çš„èŒƒå›´å†…, è®¿å­˜æ—¶, è®¾ç½®å¼•ç”¨æ ‡å¿—ä½, ç¼ºé¡µæ—¶è®¡ç®—ä¸Šæ¬¡ç¼ºé¡µæ—¶é—´åˆ°ç°åœ¨çš„æ—¶é—´é—´éš”, å¦‚æœå¤§äºå¸¸æ•°T, è¯´æ˜ç¼ºé¡µæ¯”è¾ƒä½, å‡å°å¸¸é©»é›†, å¦‚æœå°äºT, åˆ™ç¼ºé¡µç‡è¾ƒé«˜, å¢å¤§å¸¸é©»é›†<br>
æŠ–åŠ¨: è¿›ç¨‹ç‰©ç†é¡µé¢å¤ªå°‘, ä¸èƒ½åŒ…å«å·¥ä½œé›†, é€ æˆå¤§é‡ç¼ºé¡µé¢‘ç¹ç½®æ¢, è¿›ç¨‹è¿è¡Œé€Ÿåº¦å˜æ…¢<br>
åŸå› æ˜¯éšç€é©»ç•™å†…å­˜çš„è¿›ç¨‹æ•°ç›®å¢åŠ , åˆ†é…ç»™æ¯ä¸ªè¿›ç¨‹çš„ç‰©ç†é¡µé¢ä¸æ–­å‡å°‘, ç¼ºé¡µç‡ä¸æ–­ä¸Šå‡, è§£å†³åŠæ³•è´Ÿè½½æ§åˆ¶, é€šè¿‡è°ƒèŠ‚å¹¶å‘è¿›ç¨‹æ•°, æ¥è¿›è¡Œç³»ç»Ÿè´Ÿè½½æ§åˆ¶</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>ç®—æ³•</tag>
        <tag>å­˜å‚¨</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç³»åˆ—ç¬”è®°(äºŒ) - å­˜å‚¨ç®¡ç†</title>
    <url>/2021/10/25/20211025192219/</url>
    <content><![CDATA[<h2 id="å­˜å‚¨ç®¡ç†">å­˜å‚¨ç®¡ç†</h2>
<h3 id="è®¡ç®—æœºä½“ç³»ç»“æ„å’Œå†…å­˜å±‚æ¬¡">è®¡ç®—æœºä½“ç³»ç»“æ„å’Œå†…å­˜å±‚æ¬¡</h3>
<p>å†…å­˜å±‚æ¬¡: CPUæœ‰é«˜é€Ÿç¼“å­˜, æœªå‘½ä¸­æŸ¥å†…å­˜, å†…å­˜æ²¡æœ‰æŸ¥å¤–å­˜, è®¿é—®é€Ÿåº¦å·®åˆ«å¾ˆå¤§<br>
å†…å­˜ç®¡ç†ç›®æ ‡: æŠ½è±¡(é€»è¾‘åœ°å€ç©ºé—´), ä¿æŠ¤(ç‹¬ç«‹åœ°å€ç©ºé—´), å…±äº«(è®¿é—®ç›¸åŒå†…å­˜), è™šæ‹ŸåŒ–(æ›´å¤§çš„åœ°å€ç©ºé—´)<br>
æ“ä½œç³»ç»Ÿä¸­é‡‡ç”¨çš„å†…å­˜ç®¡ç†æ–¹å¼, é‡å®šä½(Relocation), åˆ†æ®µ(Segmentation), åˆ†é¡µ(Paging), è™šæ‹Ÿå­˜å‚¨(Virtual Memory)<br>
ä»¥ä¸Šå®ç°é«˜åº¦ä¾èµ–ç¡¬ä»¶, ä¸è®¡ç®—æœºå­˜å‚¨æ¶æ„ç´§è€¦åˆ, MMU(å†…å­˜ç®¡ç†å•å…ƒ)æ˜¯å¤„ç†CPUå­˜å‚¨è®¿é—®è¯·æ±‚çš„ç¡¬ä»¶, å¤šæ•°ç³»ç»Ÿé‡‡ç”¨æŒ‰éœ€é¡µå¼è™šæ‹Ÿå­˜å‚¨</p>
<h3 id="åœ°å€ç©ºé—´å’Œåœ°å€ç”Ÿæˆ">åœ°å€ç©ºé—´å’Œåœ°å€ç”Ÿæˆ</h3>
<p>ç‰©ç†åœ°å€ç©ºé—´å®šä¹‰: ç¡¬ä»¶æ”¯æŒçš„åœ°å€ç©ºé—´, èµ·å§‹åœ°å€0, ç›´åˆ°MAXsys, 32ä½å°±æ˜¯0åˆ°2çš„32æ¬¡å¹‚-1<br>
å¤šå°‘ä½åœ°å€æ€»çº¿, å°±æ˜¯ç‰©ç†åœ°å€æ€»çº¿çš„æ¡æ•°<br>
é€»è¾‘åœ°å€ç©ºé—´, åœ¨CPUè¿è¡Œçš„è¿›ç¨‹çœ‹åˆ°çš„åœ°å€, èµ·å§‹åœ°å€0,åˆ°MAXprog<br>
åœ°å€ç”Ÿæˆæ—¶æœº: ç¼–è¯‘æ—¶, åŠ è½½æ—¶, æ‰§è¡Œæ—¶, å‰ä¸¤ç§ç®€å•ä½†æ˜¯ä¸çµæ´», ç¬¬ä¸‰ç§æœ€çµæ´»</p>
<h3 id="è¿ç»­å†…å­˜åˆ†é…">è¿ç»­å†…å­˜åˆ†é…</h3>
<p>ç›®æ ‡: ç»™è¿›ç¨‹åˆ†é…ä¸€å—ä¸å°äºæŒ‡å®šå¤§å°çš„è¿ç»­ç‰©ç†å†…å­˜åŒºåŸŸ<br>
å†…å­˜ç¢ç‰‡: ç©ºé—²å†…å­˜ä¸èƒ½è¢«åˆ©ç”¨, å¤–ç¢ç‰‡(è¾ƒå°çš„å‰©ä½™ä¸è¿ç»­å†…å­˜åŒºåŸŸ), å†…ç¢ç‰‡(åˆ†é…çš„å†…å­˜åŒºåŸŸæœªä½¿ç”¨å®Œçš„å‰©ä½™éƒ¨åˆ†)<br>
åŠ¨æ€åˆ†åŒºåˆ†é…: å½“ç¨‹åºè¢«åŠ è½½æ‰§è¡Œæ—¶, åˆ†é…ä¸€ä¸ªè¿›ç¨‹, æŒ‡å®šå¤§å°å¯å˜çš„åˆ†åŒº, åˆ†åŒºçš„åœ°å€æ˜¯è¿ç»­çš„, æ“ä½œç³»ç»Ÿéœ€è¦ç»´æŠ¤ä¸¤ä¸ªæ•°æ®ç»“æ„, å·²åˆ†é…åˆ†åŒºå’Œç©ºé—²åˆ†åŒº<br>
åŠ¨æ€åˆ†åŒºåˆ†é…æœ‰ä¸‰ç§ç­–ç•¥:<br>
1 æœ€å…ˆåŒ¹é…: æ‰¾ç¬¬ä¸€ä¸ªæ¯”ç”³è¯·å¤§çš„åŒºåŸŸ, åˆ†é…ç»™è¿›ç¨‹. ä¼˜ç‚¹æ˜¯ç®€å•, åœ¨é«˜åœ°å€æœ‰å¤§å—åˆ†åŒº, ä½†æœ‰å¤–éƒ¨ç¢ç‰‡, åˆ†é…å¤§å—æ—¶è¾ƒæ…¢<br>
2 æœ€ä½³åˆ†é…: æ‰¾æ¯”ç”³è¯·å¤§å°å¤§çš„æœ€å°çš„ä¸€ä¸ª(å³å¤§å°æœ€æ¥è¿‘çš„), ç©ºé—²åˆ†åŒºæŒ‰å¤§å°æ’åº, åˆå¹¶æ—¶å¤æ‚ä¸€äº›, ä¼˜ç‚¹å¯é¿å…å¤§å—åˆ†åŒºè¢«æ‹†åˆ†, å‡å°å¤–ç¢ç‰‡å¤§å°, ä½†æœ‰å¤–ç¢ç‰‡, é‡Šæ”¾åˆ†åŒºè¾ƒæ…¢, äº§ç”Ÿæ— æ³•åˆ©ç”¨çš„å°ç¢ç‰‡<br>
3 æœ€å·®åŒ¹é…: æ‰¾æœ€å¤§åŒºåŸŸ, ç©ºé—²æŒ‰ä»å¤§åˆ°å°æ’, åˆå¹¶å¤æ‚, ä¼˜ç‚¹é¿å…å¤ªå¤šå°ç¢ç‰‡, ä½†é‡Šæ”¾æ…¢, æœ‰å¤–ç¢ç‰‡, ç ´åäº†å¤§åˆ†åŒº</p>
<h4 id="ç¢ç‰‡æ•´ç†">ç¢ç‰‡æ•´ç†</h4>
<p>ç´§å‡‘(Compaction): é€šè¿‡è°ƒæ•´è¿›ç¨‹å ç”¨çš„åˆ†åŒºä½ç½®, æ¥å‡å°‘åˆ†åŒºç¢ç‰‡, ç§»åŠ¨åˆ†é…ç»™è¿›ç¨‹çš„å†…å­˜åˆ†åŒº, ä»¥åˆå¹¶å¤–éƒ¨ç¢ç‰‡, æ¡ä»¶è¦æ±‚æ‰€æœ‰åº”ç”¨ç¨‹åºå¯åŠ¨æ€é‡å®šä½åˆ†åŒº, é€šå¸¸ç­‰å¾…çŠ¶æ€æ¬åŠ¨, è¿˜è¦è€ƒè™‘æ¬åŠ¨å¼€é”€<br>
åˆ†åŒºå…‘æ¢(Swapping In/Out): é€šè¿‡æŠ¢å å¹¶å›æ”¶å¤„äºç­‰å¾…çŠ¶æ€è¿›ç¨‹çš„åˆ†åŒº, ä»¥å¢å¤§å¯ç”¨å†…å­˜ç©ºé—´, æŠŠç­‰å¾…è¿›ç¨‹æ”¾åˆ°å¯¹æ¢åŒº</p>
<h3 id="éè¿ç»­å†…å­˜åˆ†é…">éè¿ç»­å†…å­˜åˆ†é…</h3>
<p>æœ‰ä¸‰ç§, æ®µå¼, é¡µå¼, æ®µé¡µå¼<br>
è¿ç»­åˆ†é…ç¼ºç‚¹: åˆ†ç»™ç¨‹åºå†…å­˜å¿…é¡»è¿ç»­, å­˜åœ¨å†…å¤–ç¢ç‰‡, å†…å­˜åˆ†é…çš„åŠ¨æ€ä¿®æ”¹å›°éš¾, å†…å­˜åˆ©ç”¨ç‡è¾ƒä½<br>
éè¿ç»­å†…å­˜åˆ†é…ç›®æ ‡: æé«˜å†…å­˜åˆ©ç”¨ç‡å’Œç®¡ç†çµæ´»æ€§<br>
å…è®¸ä¸€ä¸ªç¨‹åºä½¿ç”¨éè¿ç»­ç‰©ç†åœ°å€ç©ºé—´, å…è®¸å…±äº«ä»£ç å’Œæ•°æ®, æ”¯æŒåŠ¨æ€åŠ è½½å’ŒåŠ¨æ€é“¾æ¥</p>
<h3 id="æ®µå¼å­˜å‚¨ç®¡ç†">æ®µå¼å­˜å‚¨ç®¡ç†</h3>
<p>æ®µåœ°å€ç©ºé—´: è¿›ç¨‹çš„æ®µåœ°å€ç©ºé—´ç”±å¤šä¸ªæ®µç»„æˆ, ä¸»ä»£ç æ®µ, å­æ¨¡å—ä»£ç æ®µ, å…¬ç”¨åº“ä»£ç æ®µ, å †æ ˆæ®µ, å †æ•°æ®, åˆå§‹åŒ–æ•°æ®æ®µ, ç¬¦å·è¡¨ç­‰<br>
æ®µè¡¨ç¤º<strong>è®¿é—®æ–¹å¼</strong>å’Œ<strong>å­˜å‚¨æ•°æ®ç­‰å±æ€§</strong>ç›¸åŒçš„ä¸€æ®µåœ°å€ç©ºé—´, å¯¹åº”ä¸€ä¸ªè¿ç»­çš„å†…å­˜å—, è‹¥å¹²ä¸ªæ®µç»„æˆè¿›ç¨‹çš„é€»è¾‘åœ°å€ç©ºé—´<br>
æ®µè®¿é—®æœºåˆ¶: é€»è¾‘åœ°å€ç”±äºŒå…ƒç»„(s, addr)è¡¨ç¤º, sæ˜¯æ®µå·, addræ˜¯æ®µå†…åç§», å»æŸ¥è¿›ç¨‹çš„æ®µè¡¨, æ‰¾åˆ°æ®µçš„èµ·å§‹åœ°å€å’Œé•¿åº¦, ç„¶åæ ¹æ®åç§», æ‰¾åˆ°æ•°æ®</p>
<h3 id="é¡µå¼å­˜å‚¨ç®¡ç†">é¡µå¼å­˜å‚¨ç®¡ç†</h3>
<p>æŠŠç‰©ç†åœ°å€ç©ºé—´åˆ’åˆ†ä¸ºå¤§å°ç›¸åŒçš„åŸºæœ¬åˆ†é…å•ä½, å«åšé¡µå¸§/å¸§(Frame), å¤§å°2çš„næ¬¡å¹‚, å¸¸è§å¤§å°4K<br>
æŠŠé€»è¾‘åœ°å€ç©ºé—´ä¹Ÿåˆ’åˆ†ä¸ºç›¸åŒå¤§å°çš„åŸºæœ¬åˆ†é…å•ä½, å«åšé¡µé¢/é¡µ(Page), é¡µå’Œå¸§çš„å¤§å°å¿…é¡»æ˜¯ç›¸åŒçš„<br>
é¡µåˆ°å¸§çš„è½¬æ¢é€šè¿‡é¡µè¡¨å®Œæˆ<br>
å†…å­˜ç‰©ç†åœ°å€è¡¨ç¤º, äºŒå…ƒç»„(f,o), å¸§å·å’Œåç§»<br>
ä¸æ˜¯æ‰€æœ‰çš„é¡µéƒ½æœ‰å¯¹åº”çš„å¸§</p>
<h4 id="é¡µè¡¨æ¦‚è¿°">é¡µè¡¨æ¦‚è¿°</h4>
<p>æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªé¡µè¡¨, æ¯ä¸ªé¡µé¢å¯¹åº”ä¸€ä¸ªé¡µè¡¨é¡¹, éšè¿›ç¨‹è¿è¡ŒçŠ¶æ€åŠ¨æ€å˜åŒ–, é¦–åœ°å€æ”¾åœ¨é¡µè¡¨åŸºå€å¯„å­˜å™¨(Page Table Base Register, PTBR)<br>
é¡µè¡¨é¡¹ç»„æˆ: å¸§å·, æ ‡å¿—ä½(å­˜åœ¨ä½, ä¿®æ”¹ä½, å¼•ç”¨ä½)<br>
é¡µå¼å­˜å‚¨æ€§èƒ½é—®é¢˜, è®¿é—®ä¸€ä¸ªå†…å­˜å•å…ƒéœ€è¦ä¸¤æ¬¡å†…å­˜è®¿é—®, å…ˆæŸ¥é¡µè¡¨é¡¹å†è®¿é—®æ•°æ®<br>
å½“é¡µè¡¨é¡¹è¿‡å¤š, é¡µè¡¨å¯èƒ½éå¸¸å¤§, è§£å†³åŠæ³•å°±æ˜¯ç¼“å­˜(å¿«è¡¨)å’Œé—´æ¥è®¿é—®(å¤šçº§é¡µè¡¨)<br>
å¿«è¡¨: ç¼“å­˜è¿‘æœŸè®¿é—®çš„é¡µè¡¨é¡¹, ä½¿ç”¨å…³è”å­˜å‚¨å™¨å®ç°<br>
å¤šçº§é¡µè¡¨: é€šè¿‡é—´æ¥å¼•ç”¨å°†é¡µå·åˆ†æˆkçº§, å»ºç«‹é¡µè¡¨æ ‘<br>
åç½®é¡µè¡¨: ä¸ºäº†å‡å°‘é¡µè¡¨æ‰€å ç”¨å­˜å‚¨ç©ºé—´çš„ä¸€ç§åšæ³•, è®©é¡µè¡¨é¡¹å’Œç‰©ç†åœ°å€ç©ºé—´å¯¹åº”èµ·æ¥, ä¸å’Œé€»è¾‘åœ°å€ç©ºé—´å¯¹åº”, è¿›ç¨‹æ•°é‡å¢åŠ å’Œè™šæ‹Ÿåœ°å€ç©ºé—´å¢å¤§éƒ½å¯¹é¡µè¡¨å ç”¨æ²¡æœ‰å½±å“<br>
ä»¥ä¸Šä¸‰ç§åšæ³•å¯ç¼“è§£é¡µè¡¨å¸¦æ¥çš„éº»çƒ¦</p>
<h3 id="æ®µé¡µå¼å­˜å‚¨ç®¡ç†">æ®µé¡µå¼å­˜å‚¨ç®¡ç†</h3>
<p>æ®µå¼å’Œé¡µå¼çš„ç»“åˆ<br>
æ®µå¼å­˜å‚¨åˆ†çš„å—æ¯”è¾ƒå¤§, æ¯å—å†…å®¹æ˜¯åŒä¸€ä¸ªæ®µ, åšå­˜å‚¨çš„ä¿æŠ¤æ˜¯æ¯”è¾ƒæ–¹ä¾¿çš„<br>
é¡µå¼å­˜å‚¨åˆ†äº†å¾ˆå°çš„æ ‡å‡†å¤§å°çš„å—, åœ¨å†…å­˜åˆ©ç”¨æ•ˆç‡æ¯”è¾ƒæœ‰ä¼˜åŠ¿<br>
å®ç°: åœ¨æ®µå¼å­˜å‚¨ç®¡ç†åŸºç¡€ä¸Š, ç»™æ¯ä¸ªæ®µåŠ ä¸€ä¸ªé¡µè¡¨(æ®µå·, é¡µå·, é¡µå†…åç§»)</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç³»åˆ—ç¬”è®°(ä¸€) - å¯åŠ¨,ä¸­æ–­,å¼‚å¸¸,ç³»ç»Ÿè°ƒç”¨</title>
    <url>/2021/10/25/20211025172037/</url>
    <content><![CDATA[<h2 id="æ“ä½œç³»ç»Ÿæ¦‚è¿°">æ“ä½œç³»ç»Ÿæ¦‚è¿°</h2>
<h3 id="ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ">ä»€ä¹ˆæ˜¯æ“ä½œç³»ç»Ÿ</h3>
<p>æ“ä½œç³»ç»Ÿæ˜¯ä¸€ä¸ªæ§åˆ¶ç¨‹åº, ä¸€ä¸ªç³»ç»Ÿè½¯ä»¶, æ§åˆ¶ç¨‹åºæ‰§è¡Œè¿‡ç¨‹, ç»™ç”¨æˆ·æä¾›å„ç§æœåŠ¡, æ–¹ä¾¿ç”¨æˆ·ä½¿ç”¨è®¡ç®—æœºç³»ç»Ÿ<br>
æ“ä½œç³»ç»Ÿæ˜¯ä¸€ä¸ªèµ„æºç®¡ç†å™¨, åº”ç”¨ç¨‹åºä¸ç¡¬ä»¶ä¹‹é—´çš„ä¸­é—´å±‚, ç®¡ç†è½¯ç¡¬ä»¶èµ„æº, æä¾›è®¿é—®è½¯ç¡¬ä»¶æ‰‹æ®µ, è§£å†³èµ„æºè®¿é—®å†²çª<br>
æ“ä½œç³»ç»Ÿè½¯ä»¶çš„ç»„æˆ, Shell, GUI, Kernel</p>
<h3 id="æ“ä½œç³»ç»Ÿå†…æ ¸çš„ç‰¹å¾">æ“ä½œç³»ç»Ÿå†…æ ¸çš„ç‰¹å¾</h3>
<p>å¹¶å‘: ç³»ç»Ÿä¸­åŒæ—¶å­˜åœ¨å¤šä¸ªè¿è¡Œçš„ç¨‹åº, éœ€è¦ç®¡ç†å’Œè°ƒåº¦<br>
å…±äº«: å®è§‚ä¸Š&quot;åŒæ—¶&quot;è®¿é—®, å¾®è§‚ä¸Šäº’æ–¥å…±äº«<br>
è™šæ‹Ÿ: åˆ©ç”¨å¤šé“ç¨‹åºè®¾è®¡æŠ€æœ¯, è®©ç”¨æˆ·æ„Ÿè§‰ä¸åˆ°å…¶ä»–ç”¨æˆ·<br>
å¼‚æ­¥: ç¨‹åºæ˜¯èµ°èµ°åœåœçš„; åªè¦è¿è¡Œç¯å¢ƒç›¸åŒ, è¿è¡Œç»“æœä¹Ÿè¦ç›¸åŒ</p>
<h2 id="å¯åŠ¨-ä¸­æ–­-å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨">å¯åŠ¨, ä¸­æ–­, å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨</h2>
<h3 id="å¯åŠ¨">å¯åŠ¨</h3>
<p>CPUé€šè¿‡æ€»çº¿è¿æ¥I/Oè®¾å¤‡å’Œå†…å­˜<br>
å†…å­˜åˆ†ä¸ºRAM(éšæœºè®¿é—®å­˜å‚¨)å’ŒROM(åªè¯»å­˜å‚¨), ç³»ç»ŸåŠ ç”µåä¼šä»ROMè¯»å–ç³»ç»Ÿåˆå§‹åŒ–ä»£ç <br>
CPUå®Œæˆåˆå§‹åŒ–åå¤„äºå®æ¨¡å¼ä¸‹, åœ°å€æ€»çº¿åªæœ‰20ä½å¯ç”¨, æ‰€ä»¥å†…å­˜åœ°å€640KBåˆ°1Mä¹‹é—´ä¸ºBIOSå¯åŠ¨å›ºä»¶<br>
BIOSå…·å¤‡çš„åŠŸèƒ½æœ‰: åŸºæœ¬è¾“å…¥è¾“å‡º, ç³»ç»Ÿè®¾ç½®ä¿¡æ¯, å¼€æœºè‡ªæ£€, ç³»ç»Ÿè‡ªå¯åŠ¨ç¨‹åº<br>
BIOSåˆå§‹åŒ–å®Œæˆä»¥å, ä»ç£ç›˜è¯»å¼•å¯¼æ‰‡åŒº, é•¿åº¦åªæœ‰512å­—èŠ‚, æ”¾åˆ°æŒ‡å®šåœ°å€, å¹¶è·³è½¬è¿‡å»<br>
ç„¶åå¼€å§‹æ‰§è¡ŒåŠ è½½ç¨‹åº, å°†æ“ä½œç³»ç»Ÿä»£ç å’Œæ•°æ®ä»ç¡¬ç›˜åŠ è½½åˆ°å†…å­˜, å¹¶è·³è½¬åˆ°æ“ä½œç³»ç»Ÿçš„èµ·å§‹åœ°å€, äº¤å‡ºæ§åˆ¶æƒç»™å†…æ ¸ç¨‹åº</p>
<h3 id="ç³»ç»Ÿå¯åŠ¨æµç¨‹">ç³»ç»Ÿå¯åŠ¨æµç¨‹</h3>
<p>åŠ ç”µåè¯»BIOS, BIOSè¯»ä¸»å¼•å¯¼è®°å½•, ä¸»å¼•å¯¼è®°å½•è¯»å–æ´»åŠ¨åˆ†åŒº, æ´»åŠ¨åˆ†åŒºè¯»åŠ è½½ç¨‹åº, åŠ è½½ç¨‹åºè¯»å†…æ ¸æ˜ åƒ<br>
<strong>BIOSåˆå§‹åŒ–è¿‡ç¨‹</strong><br>
ç¡¬ä»¶è‡ªæ£€(Power On Self Test, POST), æ‰§è¡Œç³»ç»ŸBIOSè¿›è¡Œç³»ç»Ÿæ£€æµ‹, æ›´æ–°CMOSèŠ¯ç‰‡ä¸­çš„æ‰©å±•ç³»ç»Ÿé…ç½®æ•°æ®ESCD(Extended System Configuration Data), æŒ‰æŒ‡å®šå¯åŠ¨é¡ºåºä»è½¯/ç¡¬ç›˜æˆ–å…‰é©±å¯åŠ¨, è¯»è¿›ç¬¬ä¸€ä¸ªæ‰‡åŒº<br>
ä¸»å¼•å¯¼è®°å½•MBR(Master Boot Record)æ ¼å¼, åŒ…æ‹¬: å¯åŠ¨ä»£ç (æ£€æŸ¥åˆ†åŒºè¡¨æ­£ç¡®æ€§, åŠ è½½å¹¶è·³è½¬åˆ°ç£ç›˜ä¸Šçš„å¼•å¯¼ç¨‹åº), ç¡¬ç›˜åˆ†åŒºè¡¨, ç»“æŸæ ‡å¿—å­—, ç„¶åè·³åˆ°æ´»åŠ¨åˆ†åŒºçš„å¼•å¯¼æ‰‡åŒºä¸Š<br>
åˆ†åŒºå¼•å¯¼æ‰‡åŒºæ ¼å¼åŒ…æ‹¬, è·³è½¬æŒ‡ä»¤, æ–‡ä»¶å·å¤´, å¯åŠ¨ä»£ç , ç»“æŸæ ‡å¿—<br>
åŠ è½½ç¨‹åº(bootloader), ä»æ–‡ä»¶ç³»ç»Ÿè¯»ä¸€ä¸ªå¯åŠ¨é…ç½®æ–‡ä»¶, ä¾æ®é…ç½®å»åŠ è½½å†…æ ¸</p>
<h3 id="ä¸­æ–­-å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨">ä¸­æ–­, å¼‚å¸¸å’Œç³»ç»Ÿè°ƒç”¨</h3>
<p>è®¡ç®—æœºè¿è¡Œä¸­, å†…æ ¸æ˜¯è¢«ä¿¡ä»»çš„, åªæœ‰å†…æ ¸å¯ä»¥æ‰§è¡Œç‰¹æƒæŒ‡ä»¤, ä¸ºäº†æ–¹ä¾¿åº”ç”¨ç¨‹åº<br>
ä¸­æ–­(Hardware Interrupt), æ¥è‡ªç¡¬ä»¶è®¾å¤‡çš„å¤„ç†è¯·æ±‚, å¼‚æ­¥<br>
å¼‚å¸¸(Exception), éæ³•æŒ‡ä»¤æˆ–è€…å…¶ä»–åŸå› å¯¼è‡´å½“å‰æŒ‡ä»¤æ‰§è¡Œå¤±è´¥åçš„å¤„ç†è¯·æ±‚, åŒæ­¥<br>
ç³»ç»Ÿè°ƒç”¨(System Call), åº”ç”¨ç¨‹åºä¸»åŠ¨å‘æ“ä½œç³»ç»Ÿå‘å‡ºçš„æœåŠ¡è¯·æ±‚, å¼‚æ­¥æˆ–åŒæ­¥<br>
å½“è¿æ¥å¤–è®¾æ—¶, éœ€è¦<strong>ä¸­æ–­</strong>åšå“åº”, å½“åº”ç”¨ç¨‹åºé‡åˆ°æ„å¤–æ—¶, äº¤ç»™<strong>å¼‚å¸¸</strong>åšå¤„ç†, <strong>ç³»ç»Ÿè°ƒç”¨</strong>ä¸ºäº†åº”ç”¨ç¨‹åºæ–¹ä¾¿çš„ä½¿ç”¨å†…æ ¸æä¾›çš„æœåŠ¡, åˆä¸ä¼šå¯¹å†…æ ¸å®‰å…¨äº§ç”Ÿå½±å“</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>Spring-é€šè¿‡é…ç½®å‘ Quartzå®šæ—¶ä»»åŠ¡ æ³¨å…¥service</title>
    <url>/2017/02/19/20170219215026/</url>
    <content><![CDATA[<p>å†™äº†ä¸€ä¸ªå®šæ—¶ä»»åŠ¡, ä½†æ˜¯è°ƒç”¨serviceä¼šæŠ¥ç©º, åŸå› æ˜¯serviceæ³¨å…¥ä¸è¿›å», è§£å†³åŠæ³•å¦‚ä¸‹:</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"quartzScheduler"</span> <span class="attr">class</span>=<span class="string">"org.springframework.scheduling.quartz.SchedulerFactoryBean"</span>&gt;</span>   </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"dataSource"</span> /&gt;</span>    </span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"schedulerContextAsMap"</span>&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span>    </span><br><span class="line">                <span class="comment">&lt;!-- spring ç®¡ç†çš„serviceéœ€è¦æ”¾åˆ°è¿™é‡Œï¼Œæ‰èƒ½å¤Ÿæ³¨å…¥æˆåŠŸ --&gt;</span>    </span><br><span class="line">                <span class="tag">&lt;<span class="name">description</span>&gt;</span>schedulerContextAsMap<span class="tag">&lt;/<span class="name">description</span>&gt;</span>    </span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"webSiteService"</span> <span class="attr">value-ref</span>=<span class="string">"webSiteService"</span>/&gt;</span>    </span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span> = <span class="string">"mappingService"</span> <span class="attr">value-ref</span>=<span class="string">"mappingService"</span>/&gt;</span>    </span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"detailService"</span> <span class="attr">value-ref</span> = <span class="string">"detailService"</span>&gt;</span><span class="tag">&lt;/<span class="name">entry</span>&gt;</span>   </span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"applicationContextSchedulerContextKey"</span> <span class="attr">value</span>=<span class="string">"applicationContextKey"</span> /&gt;</span>   </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:quartz.properties"</span> /&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span>    </span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"jobDetail"</span> <span class="attr">class</span>=<span class="string">"org.springframework.scheduling.quartz.JobDetailBean"</span>&gt;</span>   </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jobClass"</span> <span class="attr">value</span> = <span class="string">"com.fangjia.dc.quartz.MyQuartzJob"</span>/&gt;</span>   </span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jobDataAsMap"</span>&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">map</span>&gt;</span>    </span><br><span class="line">                <span class="comment">&lt;!-- éspringç®¡ç†çš„serviceæ”¾åˆ°è¿™é‡Œï¼Œå°±å¯ä»¥æ³¨å…¥è¿›å» --&gt;</span>    </span><br><span class="line">                <span class="tag">&lt;<span class="name">description</span>&gt;</span>jobDataAsMap<span class="tag">&lt;/<span class="name">description</span>&gt;</span>    </span><br><span class="line">                <span class="comment">&lt;!-- key å±æ€§å€¼ï¼Œvalue å¯¹åº”çš„bean --&gt;</span>    </span><br><span class="line">                <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">"uploader"</span> <span class="attr">value-ref</span>=<span class="string">"uploader"</span> /&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;/<span class="name">map</span>&gt;</span>    </span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>// -----------------å‰²å‰²å‰²-----------ä¸‹é¢è¿™éƒ¨åˆ†æˆ‘æ²¡ç”¨åˆ°------</p>
<p>å®šæ—¶ä»»åŠ¡çš„åŠ¨æ€ç®¡ç†, æ²¡æœ‰é…ç½®çš„Springæ–‡ä»¶ä¸­<br>
é‡‡ç”¨é¡µé¢ä¼ å€¼, å®ç°quartzå®šæ—¶ä»»åŠ¡çš„CRUD</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">schedule</span><span class="params">(String name, CronExpression cronExpression,String group)</span> <span class="keyword">throws</span> SchedulerException </span>&#123;  </span><br><span class="line">           </span><br><span class="line">        <span class="comment">//æ·»åŠ Job ç»™scheduler,å…è®¸ replace  </span></span><br><span class="line">           </span><br><span class="line">        jobDetail.setRequestsRecovery(<span class="keyword">true</span>);   </span><br><span class="line">        <span class="comment">//å­¤ç«‹çº¿ç¨‹ ä¸å†ä¿å­˜åœ¨DBä¸­  </span></span><br><span class="line">        jobDetail.setDurability(<span class="keyword">false</span>);   </span><br><span class="line">        jobDetail.setName(name);   </span><br><span class="line">        logger.info(<span class="string">" is  durable:"</span> + jobDetail.isDurable());   </span><br><span class="line">        <span class="comment">//è®¾ç½®replaceä¸ºtrueï¼Œç›¸åŒåå­—çš„jobå­˜åœ¨ï¼Œåˆ™æ›¿æ¢  </span></span><br><span class="line">        scheduler.addJob(jobDetail, <span class="keyword">true</span>);   </span><br><span class="line">           </span><br><span class="line">        CronTrigger cronTrigger = <span class="keyword">new</span> CronTrigger(name, group, jobDetail.getName(), Scheduler.DEFAULT_GROUP);  </span><br><span class="line">        cronTrigger.setCronExpression(cronExpression);   </span><br><span class="line">        scheduler.scheduleJob(cronTrigger);   </span><br><span class="line">        scheduler.rescheduleJob(cronTrigger.getName(), cronTrigger.getGroup(), cronTrigger);  </span><br><span class="line">    &#125;   </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pauseTrigger</span><span class="params">(String triggerName, String group)</span> <span class="keyword">throws</span> SchedulerException </span>&#123;  </span><br><span class="line">        logger.info(<span class="string">"pause triggerName:"</span> + triggerName);   </span><br><span class="line">        scheduler.pauseTrigger(triggerName, group);   </span><br><span class="line">    &#125;   </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">resumeTrigger</span><span class="params">(String triggerName, String group)</span> <span class="keyword">throws</span> SchedulerException </span>&#123;  </span><br><span class="line">        logger.info(<span class="string">"resume trigger:"</span> + triggerName + <span class="string">" group:"</span> + group);   </span><br><span class="line">        scheduler.resumeTrigger(triggerName, group);   </span><br><span class="line">    &#125;   </span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">removeTrigdger</span><span class="params">(String triggerName, String group)</span> <span class="keyword">throws</span> SchedulerException </span>&#123;  </span><br><span class="line">        scheduler.pauseTrigger(triggerName, group);   </span><br><span class="line">        <span class="keyword">return</span> scheduler.unscheduleJob(triggerName, group);   </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<p>quartz.propertiesè®¾ç½®</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">org.quartz.scheduler.instanceName &#x3D; DefaultQuartzScheduler     </span><br><span class="line">org.quartz.scheduler.rmi.export &#x3D; false    </span><br><span class="line">org.quartz.scheduler.rmi.proxy &#x3D; false    </span><br><span class="line">org.quartz.scheduler.wrapJobExecutionInUserTransaction &#x3D; false    </span><br><span class="line">    </span><br><span class="line">org.quartz.threadPool.class &#x3D; org.quartz.simpl.SimpleThreadPool     </span><br><span class="line">org.quartz.threadPool.threadCount &#x3D; 10    </span><br><span class="line">org.quartz.threadPool.threadPriority &#x3D; 5    </span><br><span class="line">org.quartz.threadPool.threadsInheritContextClassLoaderOfInitializingThread &#x3D; true   </span><br><span class="line">    </span><br><span class="line">org.quartz.jobStore.misfireThreshold &#x3D; 60000    </span><br><span class="line">    </span><br><span class="line">#org.quartz.jobStore.class &#x3D; org.quartz.simpl.RAMJobStore     </span><br><span class="line">    </span><br><span class="line">org.quartz.jobStore.class &#x3D; org.quartz.impl.jdbcjobstore.JobStoreTX     </span><br><span class="line">org.quartz.jobStore.driverDelegateClass&#x3D;org.quartz.impl.jdbcjobstore.StdJDBCDelegate    </span><br><span class="line">org.quartz.jobStore.tablePrefix &#x3D; QRTZ_       </span><br><span class="line">org.quartz.jobStore.isClustered &#x3D; false       </span><br><span class="line">org.quartz.jobStore.maxMisfiresToHandleAtATime&#x3D;1      </span><br><span class="line">#org.quartz.jobStore.txIsolationLevelReadCommitted &#x3D; true</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>Spring</category>
      </categories>
      <tags>
        <tag>Spring</tag>
        <tag>Quartz</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç³»åˆ—ç¬”è®°(äº”) - åŒæ­¥äº’æ–¥, ä¿¡å·é‡å’Œç®¡ç¨‹</title>
    <url>/2021/11/03/20211103154327/</url>
    <content><![CDATA[<h2 id="åŒæ­¥äº’æ–¥">åŒæ­¥äº’æ–¥</h2>
<h3 id="èƒŒæ™¯">èƒŒæ™¯</h3>
<p>å¹¶å‘è¿›ç¨‹åœ¨å¤šä¸ªè¿›ç¨‹é—´æœ‰èµ„æºå…±äº«, å¯¼è‡´æ‰§è¡Œè¿‡ç¨‹æ˜¯ä¸ç¡®å®šæ€§å’Œä¸å¯é‡ç°çš„, ç¨‹åºé”™è¯¯å¯èƒ½æ˜¯é—´æ­‡æ€§å‘ç”Ÿ<br>
<strong>åŸå­æ“ä½œ</strong>: æ˜¯æŒ‡ä¸€æ¬¡ä¸å­˜åœ¨ä»»ä½•ä¸­æ–­æˆ–å¤±è´¥çš„æ“ä½œ<br>
æ“ä½œç³»ç»Ÿéœ€è¦åˆ©ç”¨åŒæ­¥æœºåˆ¶, åœ¨å¹¶å‘æ‰§è¡Œçš„åŒæ—¶ä¿è¯ä¸€äº›æ“ä½œæ˜¯åŸå­æ“ä½œ<br>
å‡ ä¸ªçŠ¶æ€:<br>
äº’æ–¥: ä¸€ä¸ªè¿›ç¨‹å ç”¨èµ„æº, å…¶ä»–è¿›ç¨‹ä¸èƒ½ä½¿ç”¨<br>
æ­»é”: å¤šä¸ªè¿›ç¨‹å„è‡ªå ç”¨éƒ¨åˆ†èµ„æº, å½¢æˆå¾ªç¯ç­‰å¾…<br>
é¥¥é¥¿: å…¶ä»–è¿›ç¨‹å¯èƒ½è½®æµå ç”¨èµ„æº, ä¸€ä¸ªè¿›ç¨‹ä¸€ç›´å¾—ä¸åˆ°èµ„æº</p>
<h3 id="ä¸´ç•ŒåŒº">ä¸´ç•ŒåŒº</h3>
<p><strong>ä¸´ç•ŒåŒº</strong>: æ˜¯è¿›ç¨‹ä¸­è®¿é—®ä¸´ç•Œèµ„æºçš„ä¸€æ®µéœ€è¦äº’æ–¥æ‰§è¡Œçš„ä»£ç <br>
è¿›å…¥åŒº, æ£€æŸ¥å¯å¦è¿›å…¥ä¸´ç•ŒåŒºçš„ä¸€æ®µä»£ç , å¦‚å¯è¿›å…¥, è®¾ç½®ç›¸åº”æ­£åœ¨è®¿é—®ä¸´ç•ŒåŒºçš„æ ‡å¿—<br>
é€€å‡ºåŒº, æ¸…é™¤æ­£åœ¨è®¿é—®ä¸´ç•ŒåŒºçš„æ ‡å¿—<br>
å‰©ä½™åŒº, ä»£ç ä¸­çš„å…¶ä»–éƒ¨åˆ†, å’ŒåŒæ­¥äº’æ–¥æ²¡å…³ç³»<br>
ä¸´ç•ŒåŒºè®¿é—®è§„åˆ™: ç©ºé—²åˆ™å…¥, å¿™åˆ™ç­‰å¾…, æœ‰é™ç­‰å¾…, è®©æƒç­‰å¾…<br>
ä¸´ç•ŒåŒºçš„å®ç°æ–¹æ³•æœ‰ä¸‰ç§: ç¦ç”¨ä¸­æ–­, è½¯ä»¶æ–¹æ³•, æ›´é«˜çº§çš„æŠ½è±¡æ–¹æ³•<br>
ç¦ç”¨ç¡¬ä»¶ä¸­æ–­: æ²¡æœ‰ä¸­æ–­, æ²¡æœ‰ä¸Šä¸‹æ–‡åˆ‡æ¢, å› æ­¤æ²¡æœ‰å¹¶å‘, ç¡¬ä»¶å°†ä¸­æ–­å¤„ç†å»¶è¿Ÿåˆ°ä¸­æ–­è¢«å¯ç”¨ä¹‹å, ç¼ºç‚¹è¿›ç¨‹æ— æ³•è¢«åœæ­¢, å¯èƒ½å¯¼è‡´å…¶ä»–è¿›ç¨‹å¤„äºé¥¥é¥¿, ä¸´ç•ŒåŒºå¯èƒ½å¾ˆé•¿ä¸­æ–­ä¸èƒ½åŠæ—¶å“åº”, è¦å°å¿ƒä½¿ç”¨<br>
è½¯ä»¶æ–¹æ³•: Petersonç®—æ³•, Dekkersç®—æ³•, Eisenbergå’ŒMcGuire, å¤æ‚, éœ€è¦ä¸¤ä¸ªè¿›ç¨‹é—´çš„å…±äº«æ•°æ®é¡¹, æ˜¯å¿™ç­‰å¾…, æµªè´¹CPUæ—¶é—´<br>
æ›´é«˜çº§çš„æŠ½è±¡æ–¹æ³•: åŸºäºç¡¬ä»¶çš„ä¸€äº›åŒæ­¥åŸè¯­, ä¾‹å¦‚åŸå­æ“ä½œæŒ‡ä»¤<br>
åŸå­æ“ä½œæŒ‡ä»¤: æµ‹è¯•å’Œç½®ä½(Teat and Set)æŒ‡ä»¤, äº¤æ¢æŒ‡ä»¤(Exchange), ä½¿ç”¨TSæŒ‡ä»¤å®ç°è‡ªæ—‹é”(Spinlock), æ— å¿™ç­‰å¾…é”<br>
é”: ä¸€ä¸ªæŠ½è±¡çš„æ•°æ®ç»“æ„, ä¸€ä¸ªäºŒè¿›åˆ¶å˜é‡, å’Œä¸¤ä¸ªæ“ä½œåŸè¯­<br>
åŸå­æ“ä½œæŒ‡ä»¤é”çš„ç‰¹å¾, é€‚ç”¨äºå•å¤„ç†å™¨æˆ–å…±äº«ä¸»å­˜çš„å¤šå¤„ç†å™¨ä¸­ä»»æ„æ•°é‡çš„è¿›ç¨‹åŒæ­¥, ç®€å•, æ”¯æŒå¤šä¸´ç•ŒåŒº, ç¼ºç‚¹å¿™ç­‰å¾…æ¶ˆè€—CPUæ—¶é—´, å¯èƒ½å¯¼è‡´é¥¥é¥¿, å¯èƒ½æ­»é”<br>
æ€»ç»“, ç¦ç”¨ä¸­æ–­, ä»…ç”¨äºå•å¤„ç†å™¨, è½¯ä»¶æ–¹æ³•, å¤æ‚, åŸå­æ“ä½œæŒ‡ä»¤, å•å¤„ç†å™¨æˆ–å¤šå¤„ç†å™¨å‡å¯</p>
<h2 id="ä¿¡å·é‡ä¸ç®¡ç¨‹">ä¿¡å·é‡ä¸ç®¡ç¨‹</h2>
<p>ä¿¡å·é‡ä¸ç®¡ç¨‹éƒ½å±äºè§£å†³åŒæ­¥é—®é¢˜çš„é«˜çº§æŠ½è±¡æ–¹æ³•</p>
<h3 id="ä¿¡å·é‡-Semaphore">ä¿¡å·é‡(Semaphore)</h3>
<p><strong>ä¿¡å·é‡</strong>: æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ä¸€ç§åè°ƒå…±äº«èµ„æºè®¿é—®çš„æ–¹æ³•, æ—©æœŸæ“ä½œç³»ç»Ÿçš„ä¸»è¦åŒæ­¥æœºåˆ¶, ç°åœ¨å¾ˆå°‘ç”¨<br>
ä¿¡å·é‡ç”±ä¸€ä¸ªæ•´å‹å˜é‡å’Œä¸¤ä¸ªåŸå­æ“ä½œç»„æˆ, Pæ“ä½œ(å‡å°‘), Væ“ä½œ(å¢åŠ ), è¢«ä¿æŠ¤çš„æ•´æ•°å˜é‡, åˆå§‹åŒ–å®Œæˆå, åªèƒ½é€šè¿‡På’ŒVæ“ä½œä¿®æ”¹, ç”±æ“ä½œç³»ç»Ÿä¿è¯På’ŒVæ“ä½œçš„åŸå­æ€§<br>
På¯èƒ½é˜»å¡, Vä¸ä¼šé˜»å¡<br>
ä¿¡å·é‡åˆ†ä¸ºä¸¤ç§, äºŒè¿›åˆ¶ä¿¡å·é‡å’Œèµ„æºä¿¡å·é‡(ä»»ä½•éè´Ÿæ•°)</p>
<h3 id="ç®¡ç¨‹-Moniter">ç®¡ç¨‹(Moniter)</h3>
<p><strong>ç®¡ç¨‹</strong>: æ˜¯ä¸€ç§ç”¨äºå¤šçº¿ç¨‹äº’æ–¥è®¿é—®å…±äº«èµ„æºçš„ç¨‹åºç»“æ„, é‡‡ç”¨é¢å‘å¯¹è±¡æ–¹æ³•, ç®€åŒ–äº†çº¿ç¨‹é—´çš„åŒæ­¥æ§åˆ¶, ä»»ä¸€æ—¶åˆ»æœ€å¤šåªæœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç®¡ç¨‹ä»£ç <br>
æ­£åœ¨ç®¡ç¨‹ä¸­çš„çº¿ç¨‹å¯ä¸´æ—¶æ”¾å¼ƒç®¡ç¨‹çš„äº’æ–¥è®¿é—®<br>
ç®¡ç¨‹çš„ç»„æˆ: ä¸€ä¸ªé”, æ§åˆ¶ç®¡ç¨‹ä»£ç çš„äº’æ–¥è®¿é—®, 0æˆ–å¤šä¸ªæ¡ä»¶å˜é‡, ç®¡ç†å…±äº«æ•°æ®çš„å¹¶å‘è®¿é—®<br>
æ¡ä»¶å˜é‡æ˜¯ç®¡ç¨‹å†…éƒ¨çš„ç­‰å¾…æœºåˆ¶, è¿›å…¥ç®¡ç¨‹çš„çº¿ç¨‹å› èµ„æºå ç”¨è€Œè¿›å…¥ç­‰å¾…çŠ¶æ€, æ¯ä¸ªæ¡ä»¶å˜é‡è¡¨ç¤ºä¸€ç§ç­‰å¾…åŸå› <br>
Hansenç®¡ç¨‹å’ŒHoareç®¡ç¨‹, å“²å­¦å®¶å°±é¤é—®é¢˜, è¯»è€…-å†™ç€é—®é¢˜, ç•¥</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>åŒæ­¥</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç³»åˆ—ç¬”è®°(å…«) -  I/Oç³»ç»Ÿ</title>
    <url>/2021/11/04/20211104151612/</url>
    <content><![CDATA[<h2 id="I-Oç³»ç»Ÿ">I/Oç³»ç»Ÿ</h2>
<h3 id="I-Oç‰¹ç‚¹">I/Oç‰¹ç‚¹</h3>
<p>ä¸‰ç§å¸¸è§è®¾å¤‡æ¥å£ç±»å‹<br>
å­—ç¬¦è®¾å¤‡: ä»¥å­—èŠ‚ä¸ºå•ä½é¡ºåºè®¿é—®, é€šå¸¸ä½¿ç”¨æ–‡ä»¶è®¿é—®æ¥å£å’Œè¯­ä¹‰, ä¾‹å¦‚é”®ç›˜é¼ æ ‡<br>
å—è®¾å¤‡: å‡åŒ€çš„æ•°æ®å—è®¿é—®, åŸå§‹I/Oæ¥å£æˆ–æ–‡ä»¶ç³»ç»Ÿæ¥å£, å†…å­˜æ˜ å°„æ–‡ä»¶è®¿é—®, ä¾‹å¦‚ç£ç›˜é©±åŠ¨å™¨, å…‰é©±<br>
ç½‘ç»œè®¾å¤‡: æ ¼å¼åŒ–æŠ¥æ–‡äº¤æ¢, ä¸“ç”¨çš„ç½‘ç»œæŠ¥æ–‡æ”¶å‘æ¥å£, é€šè¿‡ç½‘ç»œæ¥å£æ”¯æŒå¤šç§ç½‘ç»œåè®®, ä¾‹å¦‚ä»¥å¤ªç½‘, æ— çº¿, è“ç‰™<br>
åŒæ­¥å’Œå¼‚æ­¥I/O<br>
<strong>é˜»å¡I/O</strong>: wait, è¯»æ•°æ®æ—¶, è¿›ç¨‹å°†è¿›å…¥ç­‰å¾…çŠ¶æ€, ç›´åˆ°å®Œæˆæ•°æ®è¯»å‡º, å†™æ•°æ®æ—¶, è¿›ç¨‹å°†è¿›å…¥ç­‰å¾…çŠ¶æ€, ç›´åˆ°è®¾å¤‡å®Œæˆæ•°æ®å†™å…¥å¤„ç†<br>
<strong>éé˜»å¡I/O</strong>: donâ€™t wait, ç«‹å³ä»è¯»æˆ–å†™ç³»ç»Ÿè°ƒè¿”å›, è¿”å›å€¼ä¸ºæˆåŠŸä¼ è¾“å­—èŠ‚æ•°, è¯»æˆ–å†™çš„ä¼ è¾“å­—èŠ‚å¯èƒ½ä¸ºé›¶<br>
<strong>å¼‚æ­¥I/O</strong>: tell me later, è¯»æ•°æ®æ—¶, ä½¿ç”¨æŒ‡é’ˆæ ‡è®°å¥½ç”¨æˆ·ç¼“å†²åŒº, ç«‹å³è¿”å›, ç¨åå†…æ ¸å°†å¡«å……ç¼“å†²åŒºå¹¶é€šçŸ¥ç”¨æˆ·, å†™æ•°æ®æ—¶, ä½¿ç”¨æŒ‡é’ˆæ ‡è®°å¥½ç”¨æˆ·ç¼“å†²åŒº, ç«‹å³è¿”å›, ç¨åå†…æ ¸å°†å¤„ç†æ•°æ®å¹¶é€šçŸ¥ç”¨æˆ·</p>
<h3 id="I-Oç»“æ„">I/Oç»“æ„</h3>
<p>CPUåœ¨ä¸»æ¿ä¸Šåˆ†æˆä¸¤æ®µ, åŒ—æ¡¥å’Œé«˜é€Ÿçš„å†…å­˜æ˜¾å¡ç›¸è¿, å—æ¡¥å’Œå„ç§å„æ ·è®¾å¤‡ç›¸è¿, æ¯”å¦‚PCIæ€»çº¿, ç£ç›˜, ç½‘ç»œ<br>
åŒ—æ¡¥é«˜é€Ÿè®¾å¤‡, å—æ¡¥I/Oè®¾å¤‡<br>
CPUå’Œè®¾å¤‡çš„è¿æ¥: è®¾å¤‡ä¸Šæœ‰è®¾å¤‡æ§åˆ¶å™¨, åŠŸèƒ½æ˜¯æä¾›CPUå’ŒI/Oè®¾å¤‡é—´çš„æ¥å£, å‘CPUæä¾›ç‰¹æ®ŠæŒ‡ä»¤å’Œå¯„å­˜å™¨, I/Oåœ°å€é€šè¿‡æ€»çº¿è¿åˆ°CPUä¸Š, æ€»çº¿å’Œå®é™…è®¾å¤‡ä¹‹é—´æœ‰æ€»çº¿é€‚é…å™¨,æ˜ å°„è¿‡æ¥å¯èƒ½æ˜¯å†…å­˜åœ°å€, ä¹Ÿå¯èƒ½æ˜¯I/Oç©ºé—´çš„ç«¯å£<br>
ä»è®¾å¤‡åˆ°CPUçš„é€šé“, å°±æ˜¯ä¸­æ–­æ§åˆ¶å™¨, è®¾å¤‡äº§ç”Ÿä¸­æ–­åœ¨ä¸­æ–­æ§åˆ¶å™¨è¿›è¡Œæ±‡æ€», ç„¶åé€ç»™CPU, CPUå°±èƒ½å¯¹å¤–éƒ¨è®¾å¤‡çš„äº‹ä»¶åšå‡ºç›¸åº”<br>
CPUå’Œè®¾å¤‡é€šä¿¡çš„ä¸‰ç§æ–¹å¼: è½®è¯¢(ä¸ç”¨ä¸­æ–­æ§åˆ¶å™¨, CPUç›´æ¥è®¿é—®I/Oç«¯å£, æˆ–è€…è®¿é—®è®¾å¤‡å¯¹åº”çš„å†…å­˜åœ°å€ç©ºé—´), è®¾å¤‡ä¸­æ–­, DMA(Direct Memory Access)æ§åˆ¶å™¨</p>
<p>I/OæŒ‡ä»¤å’Œå†…å­˜æ˜ å°„I/O:<br>
I/OæŒ‡ä»¤: é€šè¿‡I/Oç«¯å£å·è®¿é—®è®¾å¤‡å¯„å­˜å™¨, é€šè¿‡ç«¯å£å·åŒºåˆ«è®¿é—®çš„å“ªä¸ªè®¾å¤‡, ç‰¹æ®Šçš„CPUæŒ‡ä»¤, OUT/INä¸¤ä¸ªæŒ‡ä»¤, ä¸ä»…ä»…æ˜¯æ•°æ®çš„è®¿é—®, è¿˜å¯¹åº”ç›¸åº”çš„è®¾å¤‡æ§åˆ¶<br>
å†…å­˜æ˜ å°„I/O: è®¾å¤‡çš„å¯„å­˜å™¨/å­˜å‚¨è¢«æ˜ å°„åˆ°å†…å­˜ç‰©ç†åœ°å€ç©ºé—´ä¸­, é€šè¿‡å†…å­˜load/storeæŒ‡ä»¤å®ŒæˆI/Oæ“ä½œ, é€šè¿‡MMU(Memory Management Unit)è®¾ç½®æ˜ å°„, ç¡¬ä»¶è·³çº¿æˆ–ç¨‹åºåœ¨å¯åŠ¨æ—¶è®¾ç½®åœ°å€</p>
<p>å†…æ ¸I/Oå­ç³»ç»Ÿç»“æ„: æœ€åº•å±‚å„ç§å„æ ·è®¾å¤‡, æ¯ä¸ªè®¾å¤‡ä¹‹ä¸Šæœ‰è®¾å¤‡æ§åˆ¶å™¨, å†ä¹‹ä¸Šæ˜¯é©±åŠ¨è½¯ä»¶, ä¸Šæ˜¯I/Oå­ç³»ç»Ÿ, ä¸Šæ˜¯å†…æ ¸å…¶ä»–éƒ¨åˆ†å†…å®¹ä¾èµ–I/Oå­ç³»ç»Ÿå®Œæˆæ•°æ®è¯»å†™<br>
<strong>I/Oè¯·æ±‚ç”Ÿå‘½å‘¨æœŸ</strong><br>
ç”¨æˆ·è¿›ç¨‹å‘èµ·I/Oè¯·æ±‚ -&gt; å†…æ ¸I/Oå­ç³»ç»Ÿ -&gt; å‘è®¾å¤‡é©±åŠ¨å‘é€I/Oè¯·æ±‚, å¹¶ç­‰å¾…ç»“æœ -&gt; è®¾å¤‡é©±åŠ¨å¤„ç†I/Oè¯·æ±‚è½¬æ¢æˆè®¾å¤‡æ§åˆ¶å‘½ä»¤å‘é€ç»™ç¡¬ä»¶å¹¶ç­‰å¾…ä¸­æ–­ç›¸åº” -&gt;<br>
ç¡¬ä»¶è®¾å¤‡å®Œæˆæ—¶, äº§ç”Ÿä¸­æ–­ -&gt; ä¸­æ–­å¤„ç†ä¾‹ç¨‹æ¥å—ä¸­æ–­, ä¿å­˜ç»“æœå¹¶é€šçŸ¥è®¾å¤‡é©±åŠ¨ -&gt; é€šçŸ¥é©±åŠ¨å±‚, ç¡®å®šI/Oæ“ä½œå®ŒæˆçŠ¶æ€, åŒºåˆ†è¿”å›ç»“æœå’Œå“ªä¸ªè¯·æ±‚ç›¸å¯¹åº” -&gt;<br>
ç»“æœç»™åˆ°I/Oå­ç³»ç»Ÿå½“ä¸­ -&gt; é€ç»™ç”¨æˆ·è¿›ç¨‹</p>
<h3 id="I-Oæ•°æ®ä¼ è¾“">I/Oæ•°æ®ä¼ è¾“</h3>
<p>CPUä¸I/Oè®¾å¤‡çš„æ•°æ®ä¼ è¾“æœ‰ä¸¤ç§æ–¹å¼<br>
<strong>ç¨‹åºæ§åˆ¶I/O(PIO, Programmed I/O)</strong>: é€šè¿‡CPUçš„In/Outæˆ–è€…load/storeä¼ è¾“æ‰€æœ‰æ•°æ®, ç‰¹ç‚¹æ˜¯ç¡¬ä»¶ç®€å•, ç¼–ç¨‹å®¹æ˜“, æ¶ˆè€—çš„CPUæ—¶é—´å’Œæ•°æ®é‡æˆæ­£æ¯”, é€‚ç”¨äºç®€å•çš„å°å‹è®¾å¤‡I/O<br>
<strong>ç›´æ¥å†…å­˜è®¿é—®(DMA)</strong>: è®¾å¤‡æ§åˆ¶å™¨å¯ç›´æ¥è®¿é—®ç³»ç»Ÿæ€»çº¿, æ§åˆ¶å™¨ç›´æ¥ä¸å†…å­˜äº’ç›¸ä¼ è¾“æ•°æ®, ç‰¹ç‚¹æ˜¯è®¾å¤‡ä¼ è¾“æ•°æ®ä¸å½±å“CPU, å¼€å§‹å’Œç»“æŸéœ€è¦CPUå‚ä¸è®¾ç½®, é€‚ç”¨äºé«˜ååé‡I/O</p>
<p>I/Oè®¾å¤‡é€šçŸ¥æ“ä½œç³»ç»Ÿçš„æœºåˆ¶å¦‚ä¸‹, äº†è§£è®¾å¤‡çŠ¶æ€, I/Oæ“ä½œå®Œæˆæ—¶é—´æˆ–é‡åˆ°é”™è¯¯<br>
CPUä¸»åŠ¨è½®è¯¢: I/Oè®¾å¤‡åœ¨ç‰¹å®šçš„çŠ¶æ€å¯„å­˜å™¨ä¸­æ”¾ç½®çŠ¶æ€å’Œé”™è¯¯ä¿¡æ¯, æ“ä½œç³»ç»Ÿå®šæ—¶æ£€æµ‹çŠ¶æ€å¯„å­˜å™¨, ä¼˜ç‚¹æ˜¯ç®€å•, ä½†I/Oæ“ä½œé¢‘ç¹æˆ–ä¸å¯é¢„æµ‹æ—¶, å¼€é”€å¤§å’Œå»¶æ—¶é•¿<br>
è®¾å¤‡ä¸­æ–­: å¤„ç†ä¸å¯é¢„æµ‹äº‹ä»¶æ•ˆæœå¥½, å¼€é”€ç›¸å¯¹è¾ƒé«˜<br>
ä¸€äº›è®¾å¤‡ç»“åˆäº†è½®è¯¢å’Œè®¾å¤‡ä¸­æ–­, å¦‚é«˜å¸¦å®½ç½‘ç»œè®¾å¤‡, ç¬¬ä¸€ä¸ªä¼ å…¥æ•°æ®åŒ…åˆ°è¾¾å‰é‡‡ç”¨ä¸­æ–­, è½®è¯¢åé¢çš„æ•°æ®åŒ…ç›´åˆ°ç¡¬ä»¶ç¼“å­˜ä¸ºç©º</p>
<h3 id="ç£ç›˜è°ƒåº¦">ç£ç›˜è°ƒåº¦</h3>
<p>ç£ç›˜ç»“æ„åˆ†ä¸º: ç£å¤´, ç£å¤´ç»„, ç£ç›˜è½´, ç›˜ç‰‡, è¯»å†™å¤´, ç£é“, æ‰‡åŒº, æŸ±é¢<br>
è¯»å–æˆ–å†™å…¥æ—¶, ç£å¤´å¿…é¡»è¢«å®šä½åœ¨æœŸæœ›çš„ç£é“, å¹¶ä»æ‰€æœŸæœ›çš„æŸ±é¢å’Œæ‰‡åŒºå¼€å§‹<br>
å¯»é“æ—¶é—´: å®šä½åˆ°æœŸæœ›çš„ç£é“æ‰€èŠ±è´¹çš„æ—¶é—´<br>
æ—‹è½¬å»¶è¿Ÿ: ä»é›¶æ‰‡åŒºå¼€å§‹åˆ°è¾¾ç›®çš„åœ°èŠ±è´¹çš„æ—¶é—´<br>
ç£ç›˜ioä¼ è¾“æ—¶é—´: ç­‰å¾…è®¾å¤‡å¯ç”¨, ç­‰å¾…é€šé“å¯ç”¨, (å¯»é“, æ—‹è½¬å»¶æ—¶, æ•°æ®ä¼ è¾“)ä¼ è¾“æ—¶é—´</p>
<p><strong>ç£ç›˜è°ƒåº¦ç®—æ³•</strong>, é€šè¿‡ä¼˜åŒ–ç£ç›˜è®¿é—®è¯·æ±‚é¡ºåºæ¥æé«˜ç£ç›˜è®¿é—®æ€§èƒ½, å¯»é“æ—¶é—´æ˜¯ç£ç›˜è®¿é—®æœ€è€—æ—¶çš„éƒ¨åˆ†, åŒæ—¶ä¼šæœ‰å¤šä¸ªåœ¨åŒä¸€ç£ç›˜ä¸Šçš„I/Oè¯·æ±‚, éšæœºå¤„ç†ç£ç›˜è®¿é—®è¯·æ±‚çš„æ€§èƒ½è¡¨ç°å¾ˆå·®<br>
å…ˆè¿›å…ˆå‡º: å…¬å¹³ä½†æ€§èƒ½ä¸å¥½, å¾ˆå¤šè¿›ç¨‹çš„æƒ…å†µä¸‹, æ¥è¿‘éšæœºè°ƒåº¦çš„æ€§èƒ½<br>
æœ€çŸ­æœåŠ¡æ—¶é—´ä¼˜å…ˆ(SSTF): é€‰æ‹©ä»ç£è‡‚å½“å‰ä½ç½®éœ€è¦ç§»åŠ¨æœ€å°‘çš„I/Oè¯·æ±‚, æ€»æ˜¯é€‰æ‹©æœ€çŸ­å¯»é“æ—¶é—´<br>
æ‰«æç®—æ³•(SCAN): ç£è‡‚åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šç§»åŠ¨, è®¿é—®æ‰€æœ‰æœªå®Œæˆçš„è¯·æ±‚, ç›´åˆ°ç£è‡‚åˆ°è¾¾è¯¥æ–¹å‘ä¸Šæœ€åçš„ç£é“<br>
å¾ªç¯æ‰«æç®—æ³•(C-SCAN): é™åˆ¶äº†ä»…åœ¨ä¸€ä¸ªæ–¹å‘ä¸Šæ‰«æ, å½“æœ€åä¸€ä¸ªç£é“ä¹Ÿè¢«è®¿é—®è¿‡äº†å, ç£è‡‚è¿”å›åˆ°ç£ç›˜çš„å¦ä¸€ç«¯å†æ¬¡è¿›è¡Œ<br>
Næ­¥æ‰«æç®—æ³•(N-STEP-SCAN): å°†ç£ç›˜è¯·æ±‚é˜Ÿåˆ—åˆ†æˆé•¿åº¦ä¸ºNçš„å­é˜Ÿåˆ—, æŒ‰FIFOä¾æ¬¡å¤„ç†æ‰€æœ‰å­é˜Ÿåˆ—, æ‰«æç®—æ³•å¤„ç†æ¯ä¸ªé˜Ÿåˆ—<br>
åŒé˜Ÿåˆ—æ‰«æç®—æ³•(FSCAN): Næ­¥æ‰«æç®—æ³•çš„ç®€åŒ–, åªå°†ç£ç›˜è¯·æ±‚é˜Ÿåˆ—åˆ†æˆä¸¤ä¸ªå­é˜Ÿåˆ—, äº¤æ›¿ä½¿ç”¨æ‰«æç®—æ³•å¤„ç†ä¸€ä¸ªé˜Ÿåˆ—, æ–°åˆ°è¾¾çš„è¯·æ±‚æ”¾å…¥å¦ä¸€ä¸ªé˜Ÿåˆ—, æ‰€æœ‰çš„æ–°è¯·æ±‚éƒ½å°†è¢«æ¨è¿Ÿåˆ°ä¸‹ä¸€æ¬¡æ‰«ææ—¶å¤„ç†, å¹³å‡ç­‰å¾…æ—¶é—´ä¼šå‡å°‘</p>
<h3 id="ç£ç›˜ç¼“å­˜">ç£ç›˜ç¼“å­˜</h3>
<p>ç¼“å­˜æ˜¯æ•°æ®ä¼ è¾“åŒæ–¹è®¿é—®é€Ÿåº¦å·®å¼‚è¾ƒå¤§æ—¶, å¼•å…¥çš„é€Ÿåº¦åŒ¹é…ä¸­é—´å±‚<br>
æ”¾åœ¨å†…å­˜é‡Œçš„ç£ç›˜æ•°æ®çš„ç¼“å­˜, ä¸ºäº†é¿å…å¯¹åŒä¸€å—ç£ç›˜æ‰‡åŒºé‡Œçš„å†…å®¹è¿›è¡Œåå¤å¼•ç”¨æ—¶å€™çš„å¤šæ¬¡ç£ç›˜è®¿é—®<br>
ç£ç›˜ç¼“å­˜çš„è°ƒåº¦ç®—æ³•å¾ˆç±»ä¼¼è™šæ‹Ÿå­˜å‚¨è°ƒåº¦ç®—æ³•, ç£ç›˜çš„è®¿é—®é¢‘ç‡è¿œä½äºè™šæ‹Ÿå­˜å‚¨ä¸­çš„å†…å­˜è®¿é—®é¢‘ç‡, æ‰€ä»¥é€šå¸¸ç£ç›˜ç¼“å­˜è°ƒåº¦ç®—æ³•ä¼šæ¯”è™šæ‹Ÿå­˜å‚¨å¤æ‚<br>
å•ç¼“å­˜å’ŒåŒç¼“å­˜, å•ç¼“å­˜ä¸€ä¸ªç¼“å­˜åŒº, è¯»å†™äº’æ–¥, åŒç¼“å­˜, æœ‰ä¸¤ä¸ªç¼“å­˜åŒº, å†™1è¯»2, å†™2è¯»1<br>
<strong>è®¿é—®é¢‘ç‡ç½®æ¢ç®—æ³•(Frequency-Based Replacement)</strong>: è€ƒè™‘ç£ç›˜è®¿é—®çš„å¯†é›†ç‰¹å¾, å¯¹å¯†é›†å¼•ç”¨ä¸è®¡æ•°, åœ¨çŸ­å‘¨æœŸä¸­ä½¿ç”¨LRU, åœ¨é•¿å‘¨æœŸä¸­ä½¿ç”¨LFU<br>
å…·ä½“å®ç°: LRUæ ˆè¢«åˆ†ä¸ºæ–°åŒºåŸŸ, ä¸­é—´åŒºåŸŸ, æ—§åŒºåŸŸä¸‰éƒ¨åˆ†, è¢«è®¿é—®å°±æ”¾å…¥æ ˆé¡¶(LRU)ä¹Ÿå°±æ˜¯æ–°åŒºåŸŸ, æ–°åŒºåŸŸå¼•ç”¨è®¡æ•°ä¸å˜, ä¸­é—´å’Œæ—§åŒºåŸŸä¼šåŠ ä¸€, æ»¡äº†ä»¥åç½®æ¢æ—§åŒºåŸŸå¼•ç”¨è®¡æ•°æœ€å¤§çš„å—(LFU)</p>
<p>æ“ä½œç³»ç»Ÿç³»åˆ—åˆ°æ­¤ç»“æŸ</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>I/O</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç³»åˆ—ç¬”è®°(å››) - è¿›ç¨‹,çº¿ç¨‹åŠCPUè°ƒåº¦</title>
    <url>/2021/10/28/20211028190613/</url>
    <content><![CDATA[<h2 id="è¿›ç¨‹å’Œçº¿ç¨‹">è¿›ç¨‹å’Œçº¿ç¨‹</h2>
<h3 id="è¿›ç¨‹">è¿›ç¨‹</h3>
<p>è¿›ç¨‹æ˜¯æŒ‡ä¸€ä¸ªå…·æœ‰ä¸€å®šç‹¬ç«‹åŠŸèƒ½çš„ç¨‹åºåœ¨ä¸€ä¸ªæ•°æ®é›†åˆä¸Šçš„ä¸€æ¬¡åŠ¨æ€æ‰§è¡Œè¿‡ç¨‹<br>
è¿›ç¨‹åŒ…å«äº†æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åºçš„æ‰€æœ‰çŠ¶æ€ä¿¡æ¯, ä»£ç , æ•°æ®, çŠ¶æ€å¯„å­˜å™¨, é€šç”¨å¯„å­˜å™¨, è¿›ç¨‹å ç”¨ç³»ç»Ÿèµ„æºç­‰<br>
è¿›ç¨‹çš„ç‰¹ç‚¹: åŠ¨æ€æ€§(å¯åŠ¨æ€çš„åˆ›å»º/ç»“æŸ), å¹¶å‘æ€§(å¯ä»¥è¢«ç‹¬ç«‹è°ƒåº¦å¹¶å ç”¨CPU), ç‹¬ç«‹æ€§(ä¸åŒè¿›ç¨‹ç›¸äº’ä¸å½±å“), åˆ¶çº¦æ€§(å› è®¿é—®å…±äº«æ•°æ®/èµ„æºæˆ–è¿›ç¨‹é—´åŒæ­¥è€Œäº§ç”Ÿåˆ¶çº¦)</p>
<h3 id="è¿›ç¨‹æ§åˆ¶å—-PCB-Process-Control-Block">è¿›ç¨‹æ§åˆ¶å—(PCB, Process Control Block)</h3>
<p>ç®¡ç†å’Œæ§åˆ¶è¿›ç¨‹è¿è¡Œæ‰€ç”¨çš„ä¿¡æ¯é›†åˆ, æ“ä½œç³»ç»Ÿç”¨PCBæ¥æè¿°è¿›ç¨‹çš„åŸºæœ¬æƒ…å†µåŠè¿è¡Œå˜åŒ–çš„è¿‡ç¨‹<br>
PCBæ˜¯è¿›ç¨‹å­˜åœ¨çš„å”¯ä¸€æ ‡å¿—, å¯¹è¿›ç¨‹çš„ç»„ç»‡ç®¡ç†éƒ½æ˜¯é€šè¿‡PCBæ¥å®ç°çš„<br>
è¿›ç¨‹æ§åˆ¶å—å†…å®¹: è¿›ç¨‹æ ‡è¯†ä¿¡æ¯, å¤„ç†æœºç°åœºä¿å­˜, è¿›ç¨‹æ§åˆ¶ä¿¡æ¯(è°ƒåº¦å’ŒçŠ¶æ€, è¿›ç¨‹é—´é€šä¿¡ä¿¡æ¯, å­˜å‚¨ç®¡ç†ä¿¡æ¯, æ‰€ç”¨èµ„æº, æœ‰å…³æ•°æ®ç»“æ„è¿æ¥å…³ç³»)<br>
PCBå¯é€šè¿‡é“¾è¡¨å’Œç´¢å¼•è¡¨ç»„ç»‡èµ·æ¥<br>
é“¾è¡¨, åŒä¸€çŠ¶æ€çš„è¿›ç¨‹å…¶PCBæˆä¸€é“¾è¡¨, å¤šä¸ªçŠ¶æ€å¯¹åº”å¤šä¸ªä¸åŒçš„é“¾è¡¨, å°±ç»ªé“¾è¡¨, é˜»å¡é“¾è¡¨, ç­‰å¾…é“¾è¡¨<br>
ç´¢å¼•è¡¨, åŒä¸€çŠ¶æ€çš„è¿›ç¨‹å½’å…¥ä¸€ä¸ªç´¢å¼•è¡¨, å¤šä¸ªçŠ¶æ€å¯¹åº”å¯¹ä¸ªä¸åŒçš„ç´¢å¼•è¡¨</p>
<h3 id="è¿›ç¨‹çŠ¶æ€">è¿›ç¨‹çŠ¶æ€</h3>
<p>è¿›ç¨‹ç”Ÿå‘½å‘¨æœŸåˆ’åˆ†, åˆ›å»º, æ‰§è¡Œ, ç­‰å¾…, æŠ¢å , å”¤é†’, ç»“æŸ<br>
åˆ›å»º: ç³»ç»Ÿåˆå§‹åŒ–/ç”¨æˆ·è¯·æ±‚åˆ›å»ºä¸€ä¸ªæ–°è¿›ç¨‹/æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ‰§è¡Œäº†åˆ›å»ºè¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨, åˆ›å»ºå¥½æ”¾åˆ°å°±ç»ªé˜Ÿåˆ—<br>
ç­‰å¾…: æ‰§è¡Œè¿‡ç¨‹ä¸­æŸä¸ªæ¡ä»¶ä¸æˆç«‹æˆ–èµ„æºä¸è¶³å¤Ÿ, è¿›å…¥ç­‰å¾…(é˜»å¡)çŠ¶æ€, ä¸€å®šæ˜¯è¿›ç¨‹å†…éƒ¨çš„åŸå› å¯¼è‡´<br>
è¢«æŠ¢å : æœ‰é«˜ä¼˜å…ˆçº§è¿›ç¨‹å°±ç»ª/è¿›ç¨‹æ‰§è¡Œå½“å‰æ—¶é—´ç”¨å®Œ<br>
å”¤é†’: è¢«é˜»å¡è¿›ç¨‹éœ€è¦çš„èµ„æºå¯è¢«æ»¡è¶³/ç­‰å¾…çš„äº‹ä»¶åˆ°è¾¾, åªèƒ½è¢«åˆ«çš„è¿›ç¨‹æˆ–æ“ä½œç³»ç»Ÿå”¤é†’<br>
ç»“æŸ: æ­£å¸¸é€€å‡º/é”™è¯¯é€€å‡º(è‡ªæ„¿çš„), è‡´å‘½é”™è¯¯/è¢«å…¶ä»–è¿›ç¨‹æ‰€æ€(å¼ºåˆ¶æ€§çš„)<br>
æŒ‚èµ·: æŠŠè¿›ç¨‹ä»å†…å­˜è½¬åˆ°å¤–å­˜,å¤„åœ¨æŒ‚èµ·çŠ¶æ€çš„è¿›ç¨‹æ˜ åƒåœ¨ç£ç›˜ä¸Š, ç›®çš„æ˜¯å‡å°‘è¿›ç¨‹å ç”¨å†…å­˜<br>
å°±ç»ª, è¿è¡Œ, ç­‰å¾…, æ˜¯è¿›ç¨‹æ•´ä¸ªç”Ÿå‘½å‘¨æœŸä¸­ä¸‰ç§åŸºæœ¬çŠ¶æ€</p>
<h3 id="çº¿ç¨‹">çº¿ç¨‹</h3>
<p>çº¿ç¨‹æ˜¯è¿›ç¨‹çš„ä¸€éƒ¨åˆ†, æè¿°æŒ‡ä»¤æµæ‰§è¡ŒçŠ¶æ€, å®ƒæ˜¯è¿›ç¨‹ä¸­æŒ‡ä»¤æ‰§è¡Œæµçš„æœ€å°å•å…ƒ, æ˜¯CPUè°ƒåº¦çš„åŸºæœ¬å•ä½<br>
è¿›ç¨‹è´Ÿè´£è°ƒåº¦çº¿ç¨‹, è¿›ç¨‹æ§åˆ¶å—ä¿å­˜å¤šä¸ªçº¿ç¨‹å †æ ˆ, çº¿ç¨‹æ§åˆ¶å—æŒ‡é’ˆæŒ‡å‘å„è‡ªå †æ ˆ<br>
ä¼˜ç‚¹: ä¸€ä¸ªè¿›ç¨‹ä¸­å¯åŒæ—¶å­˜åœ¨å¤šä¸ªçº¿ç¨‹, å„ä¸ªçº¿ç¨‹ä¹‹é—´å¯ä»¥å¹¶å‘æ‰§è¡Œ, å„ä¸ªçº¿ç¨‹å¯ä»¥å…±äº«åœ°å€ç©ºé—´å’Œæ–‡ä»¶èµ„æº<br>
ç¼ºç‚¹: ä¸€ä¸ªçº¿ç¨‹å´©æºƒä¼šå¯¼è‡´æ‰€å±è¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å´©æºƒ<br>
<strong>çº¿ç¨‹å’Œè¿›ç¨‹çš„æ¯”è¾ƒ</strong><br>
è¿›ç¨‹æ˜¯èµ„æºåˆ†é…å•ä½, çº¿ç¨‹æ˜¯CPUè°ƒåº¦å•ä½<br>
è¿›ç¨‹æ‹¥æœ‰ä¸€ä¸ªå®Œæ•´çš„èµ„æºå¹³å°, çº¿ç¨‹åªç‹¬äº«æŒ‡ä»¤æµæ‰§è¡Œçš„å¿…è¦èµ„æº(å¯„å­˜å™¨å’Œæ ˆ)<br>
æ€»ç»“: çº¿ç¨‹èƒ½å‡å°‘å¹¶å‘æ‰§è¡Œçš„æ—¶é—´å’Œç©ºé—´å¼€é”€, åˆ›å»ºç»ˆæ­¢æ—¶é—´æ›´çŸ­, çº¿ç¨‹åˆ‡æ¢æ—¶é—´çŸ­, åŒä¸€è¿›ç¨‹çš„å„çº¿ç¨‹å…±äº«å†…å­˜å’Œæ–‡ä»¶èµ„æº, ä¸éœ€è¦é€šè¿‡å†…æ ¸å¯ç›´æ¥é€šä¿¡</p>
<h2 id="CPUè°ƒåº¦">CPUè°ƒåº¦</h2>
<h3 id="ç®€ä»‹-v3">ç®€ä»‹</h3>
<p>CPUèµ„æºçš„æ—¶åˆ†å¤ç”¨<br>
è¿›ç¨‹åˆ‡æ¢: CPUèµ„æºçš„å½“å‰å ç”¨è€…åˆ‡æ¢, å¤„ç†æœºè°ƒåº¦, ä»å°±ç»ªé˜Ÿåˆ—ä¸­æŒ‘é€‰ä¸‹ä¸€ä¸ªå ç”¨CPUè¿è¡Œçš„è¿›ç¨‹,ä»å¤šä¸ªå¯ç”¨CPUä¸­æŒ‘é€‰å°±ç»ªè¿›ç¨‹å¯ç”¨çš„CPUèµ„æº<br>
è°ƒåº¦ç¨‹åº: æŒ‘é€‰å°±ç»ªè¿›ç¨‹çš„å†…æ ¸å‡½æ•°, éœ€è¦æ³¨æ„è°ƒåº¦ç­–ç•¥å’Œè°ƒåº¦æ—¶æœº<br>
è°ƒåº¦æ—¶æœº: è¿›ç¨‹ä»è¿è¡ŒçŠ¶æ€åˆ‡æ¢åˆ°ç­‰å¾…çŠ¶æ€/è¿›ç¨‹è¢«ç»ˆç»“<br>
æ¯”è¾ƒè°ƒåº¦ç®—æ³•çš„å‡†åˆ™: CPUä½¿ç”¨ç‡, ååé‡(å•ä½æ—¶é—´å†…å®Œæˆçš„è¿›ç¨‹æ•°é‡), å‘¨è½¬æ—¶é—´(è¿›ç¨‹ä»åˆå§‹åŒ–åˆ°ç»“æŸåŒ…æ‹¬ç­‰å¾…çš„æ€»æ—¶é—´), ç­‰å¾…æ—¶é—´(è¿›ç¨‹åœ¨å°±ç»ªé˜Ÿåˆ—çš„æ€»æ—¶é—´), å“åº”æ—¶é—´(ä»æäº¤è¯·æ±‚åˆ°äº§ç”Ÿç›¸åº”çš„æ€»æ—¶é—´)<br>
å“åº”æ—¶é—´ç›®æ ‡: å‡å°‘å“åº”æ—¶é—´, å‡å°‘å¹³å‡å“åº”æ—¶é—´çš„æ³¢åŠ¨<br>
ååé‡ç›®æ ‡: å¢åŠ ååé‡, å‡å°‘ç­‰å¾…æ—¶é—´<br>
å…¬å¹³æ€§ç›®æ ‡: ä¿è¯æ¯ä¸ªè¿›ç¨‹å ç”¨ç›¸åŒçš„CPUæ—¶é—´å’Œç›¸åŒçš„ç­‰å¾…æ—¶é—´, ä½†å…¬å¹³é€šå¸¸ä¼šå¢åŠ å¹³å‡å“åº”æ—¶é—´</p>
<h3 id="è°ƒåº¦ç®—æ³•">è°ƒåº¦ç®—æ³•</h3>
<p><strong>å…ˆæ¥å…ˆæœåŠ¡ç®—æ³•(FCFS, First Come First Served)</strong>: ä¾æ®è¿›ç¨‹è¿›å…¥å°±ç»ªçŠ¶æ€çš„å…ˆåé¡ºåºæ’åˆ—, ç®€å•, ä½†å¹³å‡ç­‰å¾…æ—¶é—´æ³¢åŠ¨è¾ƒå¤§, I/Oå’ŒCPUèµ„æºçš„åˆ©ç”¨ç‡è¾ƒä½<br>
<strong>çŸ­è¿›ç¨‹ä¼˜å…ˆç®—æ³•(SPN, SJF, SRT)</strong>: é€‰æ‹©å°±ç»ªé˜Ÿåˆ—ä¸­æ‰§è¡Œæ—¶é—´æœ€çŸ­è¿›ç¨‹å ç”¨CPUè¿›å…¥æ‰§è¡ŒçŠ¶æ€, å…·æœ‰æœ€ä¼˜å¹³å‡å‘¨è½¬æ—¶é—´, å¯èƒ½å¯¼è‡´é¥¥é¥¿, é•¿è¿›ç¨‹æ— æ³•è·å¾—CPU<br>
<strong>æœ€é«˜å“åº”æ¯”ä¼˜å…ˆç®—æ³•(HRRN)</strong>: é€‰æ‹©å°±ç»ªé˜Ÿåˆ—ä¸­å“åº”æ¯”æœ€é«˜çš„è¿›ç¨‹, (ç­‰å¾…æ—¶é—´+æ‰§è¡Œæ—¶é—´)/æ‰§è¡Œæ—¶é—´, åŸºäºä¸Šä¸€ä¸ªçš„æ”¹è¿›, ä¸å¯æŠ¢å , å…³æ³¨è¿›ç¨‹çš„ç­‰å¾…æ—¶é—´, é˜²æ­¢æ— é™æœŸæ¨è¿Ÿ<br>
<strong>æ—¶é—´ç‰‡è½®è½¬ç®—æ³•(RR, Round-Robin)</strong>: æ—¶é—´ç‰‡: åˆ†é…å¤„ç†æœºèµ„æºçš„åŸºæœ¬æ—¶é—´å•å…ƒ, æ—¶é—´ç‰‡ç»“æŸæ—¶, æŒ‰FCFSç®—æ³•åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªå°±ç»ªè¿›ç¨‹, æ¯éš”n-1ä¸ªæ—¶é—´ç‰‡, è¿›ç¨‹æ‰§è¡Œä¸€ä¸ªæ—¶é—´ç‰‡<br>
æ—¶é—´ç‰‡å¤ªå¤§ç­‰å¾…æ—¶é—´é•¿, æ—¶é—´ç‰‡å¤ªå°å½±å“ååé‡, åˆé€‚é•¿åº¦, ç»éªŒè§„åˆ™,ç»´æŒä¸Šä¸‹æ–‡åˆ‡æ¢å¼€é”€å¤„äº1%ä»¥å†…<br>
<strong>å¤šçº§åé¦ˆé˜Ÿåˆ—ç®—æ³•(MLFQ)</strong>:<br>
å¤šçº§é˜Ÿåˆ—: å°±ç»ªé˜Ÿåˆ—è¢«åˆ’åˆ†ä¸ºå¤šä¸ªç‹¬ç«‹çš„å­é˜Ÿåˆ—, æ¯”å¦‚äº¤äº’, æ‰¹å¤„ç†, æ¯ä¸ªé˜Ÿåˆ—æ‹¥æœ‰è‡ªå·±çš„è°ƒåº¦ç­–ç•¥, é˜Ÿåˆ—é—´çš„è°ƒåº¦ä½¿ç”¨æ—¶é—´ç‰‡è½®è½¬<br>
å¤šçº§åé¦ˆé˜Ÿåˆ—: è¿›ç¨‹å¯åœ¨ä¸åŒé˜Ÿåˆ—é—´ç§»åŠ¨çš„å¤šçº§é˜Ÿåˆ—ç®—æ³•, æ—¶é—´ç‰‡å¤§å°éšä¼˜å…ˆçº§å¢åŠ è€Œå¢åŠ , å¦‚è¿›ç¨‹åœ¨å½“å‰æ—¶é—´ç‰‡æ²¡æœ‰å®Œæˆ, åˆ™é™åˆ°ä¸‹ä¸€ä¸ªä¼˜å…ˆçº§<br>
<strong>å…¬å¹³å…±äº«è°ƒåº¦ç®—æ³•(FSS, Fair Share Scheduling)</strong>: èµ„æºè®¿é—®çš„å…¬å¹³, å¯¹ç”¨æˆ·åˆ†ç»„, ä¸€äº›ç”¨æˆ·ç»„æ¯”å…¶ä»–ç”¨æˆ·ç»„æ›´é‡è¦, ä¿è¯ä¸é‡è¦çš„ç»„æ— æ³•å„æ–­èµ„æº</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ“ä½œç³»ç»Ÿç³»åˆ—ç¬”è®°(å…­) - æ­»é”å’Œè¿›ç¨‹é€šä¿¡</title>
    <url>/2021/11/03/20211103171508/</url>
    <content><![CDATA[<h2 id="æ­»é”å’Œè¿›ç¨‹é€šä¿¡">æ­»é”å’Œè¿›ç¨‹é€šä¿¡</h2>
<h3 id="æ­»é”">æ­»é”</h3>
<p><strong>æ­»é”</strong>: æ˜¯ç”±äºç«äº‰èµ„æºæˆ–è€…é€šä¿¡å…³ç³», ä¸¤ä¸ªæˆ–æ›´å¤šçº¿ç¨‹åœ¨æ‰§è¡Œä¸­å‡ºç°, æ°¸è¿œç›¸äº’ç­‰å¾…åªèƒ½ç”±å…¶ä»–è¿›ç¨‹å¼•å‘çš„äº‹ä»¶<br>
è¿›ç¨‹è®¿é—®èµ„æºçš„æµç¨‹: å…ˆç”³è¯·ç©ºé—²èµ„æº-&gt;è¿›ç¨‹å ç”¨èµ„æº-&gt;é‡Šæ”¾èµ„æºä»å ç”¨å˜æˆç©ºé—²<br>
èµ„æºåˆ†ä¸ºä¸¤ç±»<br>
å¯é‡ç”¨èµ„æº: èµ„æºä¸èƒ½è¢«åˆ é™¤ä¸”åœ¨ä»»ä½•æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨, è¿›ç¨‹é‡Šæ”¾å, å…¶ä»–è¿›ç¨‹å¯é‡ç”¨, å¯èƒ½å‡ºç°æ­»é”<br>
æ¶ˆè´¹èµ„æº: èµ„æºå¯åˆ›å»ºå’Œé”€æ¯, æ¯”å¦‚ä¸­æ–­/ä¿¡å·/æ¶ˆæ¯, å¯èƒ½å‡ºç°æ­»é”<br>
æ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶<br>
äº’æ–¥, ä»»ä½•æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ä½¿ç”¨ä¸€ä¸ªèµ„æºå®ä¾‹<br>
æŒæœ‰å¹¶ç­‰å¾…, è¿›ç¨‹ä¿æŒè‡³å°‘ä¸€ä¸ªèµ„æº, å¹¶æ­£åœ¨ç­‰å¾…è·å–å…¶ä»–è¿›ç¨‹æŒæœ‰çš„èµ„æº<br>
éæŠ¢å , èµ„æºåªèƒ½åœ¨è¿›ç¨‹ä½¿ç”¨åè‡ªæ„¿é‡Šæ”¾<br>
å¾ªç¯ç­‰å¾…</p>
<h3 id="æ­»é”å¤„ç†æ–¹æ³•">æ­»é”å¤„ç†æ–¹æ³•</h3>
<p>1 æ­»é”é¢„é˜², ç¡®ä¿ç³»ç»Ÿæ°¸è¿œä¸ä¼šè¿›å…¥æ­»é”çŠ¶æ€, èµ„æºåˆ©ç”¨æ•ˆç‡ä½<br>
é™åˆ¶å¹¶å‘è¿›ç¨‹å¯¹èµ„æºçš„è¯·æ±‚, ä½¿ç³»ç»Ÿä»»ä½•æ—¶åˆ»éƒ½ä¸æ»¡è¶³æ­»é”çš„å¿…è¦æ¡ä»¶<br>
äº’æ–¥ -&gt; æŠŠäº’æ–¥çš„å…±äº«èµ„æºå°è£…æˆå¯åŒæ—¶è®¿é—®<br>
æŒæœ‰å¹¶ç­‰å¾… -&gt; è¯·æ±‚èµ„æºæ—¶, è¦æ±‚ä¸èƒ½æŒæœ‰ä»»ä½•å…¶ä»–èµ„æº, ä»…å…è®¸åœ¨å¼€å§‹æ‰§è¡Œæ—¶, ä¸€æ¬¡è¯·æ±‚æ‰€æœ‰éœ€è¦èµ„æº<br>
éæŠ¢å  -&gt; å¦‚è¿›ç¨‹è¯·æ±‚ä¸èƒ½ç«‹å³åˆ†é…çš„èµ„æº, åˆ™é‡Šæ”¾å·²å æœ‰èµ„æº, åªåœ¨èƒ½å¤ŸåŒæ—¶è·å¾—æ‰€æœ‰éœ€è¦èµ„æºæ—¶, æ‰æ‰§è¡Œåˆ†é…<br>
å¾ªç¯ç­‰å¾… -&gt; å¯¹èµ„æºæ’åº, è¦æ±‚è¿›ç¨‹æŒ‰é¡ºåºè¯·æ±‚èµ„æº<br>
2 æ­»é”é¿å…, åˆ©ç”¨é¢å¤–çš„å…ˆéªŒä¿¡æ¯, åœ¨åˆ†é…èµ„æºæ—¶åˆ¤æ–­æ˜¯å¦ä¼šå‡ºç°æ­»é”, åªå…è®¸ä¸ä¼šå‡ºç°æ­»é”çš„è¿›ç¨‹è¯·æ±‚èµ„æº<br>
è¦æ±‚è¿›ç¨‹å£°æ˜éœ€è¦èµ„æºçš„æœ€å¤§æ•°ç›®, é™å®šæä¾›ä¸åˆ†é…çš„èµ„æºæ•°é‡, ç¡®ä¿æ»¡è¶³è¿›ç¨‹çš„æœ€å¤§éœ€æ±‚, åŠ¨æ€æ£€æŸ¥èµ„æºåˆ†é…çŠ¶æ€, ç¡®ä¿ä¸ä¼šå‡ºç°ç¯å½¢ç­‰å¾…<br>
é“¶è¡Œå®¶ç®—æ³•æ˜¯ä¸€ä¸ªæ­»é”é¿å…ç®—æ³•, ä»¥é“¶è¡Œå€Ÿè´·åˆ†é…ç­–ç•¥ä¸ºåŸºç¡€, åˆ¤æ–­å¹¶ä¿è¯ç³»ç»Ÿå¤„äºå®‰å…¨çŠ¶æ€<br>
3 æ­»é”æ£€æµ‹å’Œæ¢å¤, åœ¨æ£€æµ‹åˆ°è¿è¡Œç³»ç»Ÿè¿›å…¥æ­»é”çŠ¶æ€å, è¿›è¡Œæ¢å¤<br>
æ¢å¤æ–¹å¼: è¿›ç¨‹ç»ˆæ­¢, èµ„æºæŠ¢å <br>
<strong>å¤§å¤šæ•°æ“ä½œç³»ç»Ÿç”±åº”ç”¨è¿›ç¨‹å¤„ç†æ­»é”, æ“ä½œç³»ç»Ÿå¿½ç•¥æ­»é”</strong></p>
<h3 id="è¿›ç¨‹é€šä¿¡-IPC-Inter-Process-Communication">è¿›ç¨‹é€šä¿¡ (IPC, Inter Process Communication)</h3>
<p>è¿›ç¨‹é€šä¿¡æ˜¯è¿›ç¨‹è¿›è¡Œé€šä¿¡å’ŒåŒæ­¥çš„æœºåˆ¶, IPCæä¾›ä¸¤ä¸ªåŸºæœ¬æ“ä½œ, å‘é€sendå’Œæ¥æ”¶receive<br>
è¿›ç¨‹é€šä¿¡æµç¨‹: åœ¨é€šä¿¡è¿›ç¨‹é—´å»ºç«‹é€šä¿¡é“¾è·¯ -&gt; é€šè¿‡send/receiveäº¤æ¢ä¿¡æ¯<br>
ä¸¤ç§é€šä¿¡æ–¹å¼<br>
<strong>é—´æ¥é€šä¿¡</strong>: ä¾èµ–æ“ä½œç³»ç»Ÿå†…æ ¸, åœ¨è¿›ç¨‹å’Œå†…æ ¸ä¹‹é—´å»ºç«‹ç›¸åº”çš„æœºæ„æ¯”å¦‚æ¶ˆæ¯é˜Ÿåˆ—, æ¯ä¸ªæ¶ˆæ¯é˜Ÿåˆ—éƒ½æœ‰å”¯ä¸€æ ‡è¯†, åªæœ‰å…±äº«äº†ç›¸åŒæ¶ˆæ¯é˜Ÿåˆ—çš„è¿›ç¨‹æ‰èƒ½é€šä¿¡, è¿æ¥å¯ä»¥æ˜¯å•å‘æˆ–åŒå‘, æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥ä¸å¤šä¸ªè¿›ç¨‹ç›¸å…³è”, æ¯å¯¹è¿›ç¨‹å¯ä»¥å…±äº«å¤šä¸ªæ¶ˆæ¯é˜Ÿåˆ—<br>
é€šä¿¡æµç¨‹: åˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯é˜Ÿåˆ— -&gt; é€šè¿‡æ¶ˆæ¯é˜Ÿåˆ—å‘é€å’Œæ¥å—ä¿¡æ¯ -&gt; é”€æ¯æ¶ˆæ¯é˜Ÿåˆ—<br>
<strong>ç›´æ¥é€šä¿¡</strong>: åœ¨ä¸¤ä¸ªè¿›ç¨‹ä¹‹é—´å»ºç«‹ä¸€ä¸ªé€šè®¯ä¿¡é“, å³å…±äº«ä¿¡é“, ä¸¤ä¸ªè¿›ç¨‹å¿…é¡»åŒæ—¶å­˜åœ¨, è¿›ç¨‹å¿…é¡»æ­£ç¡®çš„å‘½åå¯¹æ–¹, é€šä¿¡é“¾è·¯çš„å±æ€§, è‡ªåŠ¨å»ºç«‹é“¾è·¯, ä¸€æ¡é“¾è·¯æ°å¥½å¯¹åº”ä¸€å¯¹é€šä¿¡è¿›ç¨‹, æ¯å¯¹è¿›ç¨‹ä¹‹é—´åªæœ‰ä¸€ä¸ªé“¾æ¥å­˜åœ¨, é“¾æ¥å¯ä»¥æ˜¯å•å‘ä½†é€šå¸¸ä¸ºåŒå‘<br>
è¿›ç¨‹é€šä¿¡å¯åˆ’åˆ†ä¸ºé˜»å¡(åŒæ­¥)æˆ–éé˜»å¡(å¼‚æ­¥)<br>
é€šä¿¡é“¾è·¯ç¼“å†²: 0å®¹é‡(å‘é€æ–¹å¿…é¡»ç­‰å¾…æ¥æ”¶æ–¹), æœ‰é™å®¹é‡(é€šä¿¡é“¾è·¯ç¼“å†²é˜Ÿåˆ—æ»¡æ—¶, å‘é€æ–¹å¿…é¡»ç­‰å¾…), æ— é™å®¹é‡(å‘é€æ–¹ä¸éœ€è¦ç­‰å¾…)</p>
<h3 id="é€šä¿¡æœºåˆ¶çš„å…·ä½“å®ç°">é€šä¿¡æœºåˆ¶çš„å…·ä½“å®ç°</h3>
<p>ä¿¡å·å’Œç®¡é“æ˜¯æ“ä½œç³»ç»Ÿæä¾›çš„ä¸¤ç§ç®€å•çš„é€šä¿¡æœºåˆ¶<br>
<strong>ä¿¡å·(Signal)</strong>: æ˜¯è¿›ç¨‹é—´çš„è½¯ä»¶ä¸­æ–­é€šçŸ¥å’Œå¤„ç†æœºåˆ¶, ä¿¡å·çš„æ¥å—å¤„ç†æœ‰æ•è·(æ‰§è¡Œè¿›ç¨‹æŒ‡å®šçš„å¤„ç†å‡½æ•°), å¿½ç•¥(æ‰§è¡Œæ“ä½œç³»ç»ŸæŒ‡å®šçš„ç¼ºçœå¤„ç†), å±è”½(ç¦æ­¢è¿›ç¨‹æ¥å—å’Œå¤„ç†ä¿¡å·)<br>
ä¸è¶³æ˜¯ä¼ é€çš„ä¿¡æ¯é‡å°, åªæœ‰ä¸€ä¸ªä¿¡å·ç±»å‹, åšä¸ºä¸€ç§å¿«é€Ÿçš„ç›¸åº”æœºåˆ¶<br>
<strong>ç®¡é“(Pipe)</strong>: è¿›ç¨‹é—´åŸºäºå†…å­˜æ–‡ä»¶çš„é€šä¿¡æœºåˆ¶, ä¾æ®å­è¿›ç¨‹ä»çˆ¶è¿›ç¨‹ç»§æ‰¿æ–‡ä»¶æè¿°ç¬¦, è¿›ç¨‹ä¸å…³å¿ƒç®¡é“çš„å¦ä¸€ç«¯<br>
ç®¡é“ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨, è¯»ç®¡é“(read), å†™ç®¡é“(write), åˆ›å»ºç®¡é“(pipe)<br>
<strong>æ¶ˆæ¯é˜Ÿåˆ—</strong>: æ˜¯ç”±æ“ä½œç³»ç»Ÿç»´æŠ¤çš„ä»¥å­—èŠ‚ä¸ºåŸºæœ¬å•ä½çš„é—´æ¥é€šä¿¡æœºåˆ¶, æ¯ä¸ªæ¶ˆæ¯æ˜¯ä¸€ä¸ªå­—èŠ‚åºåˆ—, æ¶ˆæ¯å…ˆè¿›å…ˆå‡º<br>
æ¶ˆæ¯é˜Ÿåˆ—ç›¸å…³ç³»ç»Ÿè°ƒç”¨ è·å–æ¶ˆæ¯é˜Ÿåˆ—æ ‡è¯†(msgget), å‘é€æ¶ˆæ¯(msgsnd), æ¥å—æ¶ˆæ¯(msgrcv), æ¶ˆæ¯é˜Ÿåˆ—æ§åˆ¶(msgctl)<br>
<strong>å…±äº«å†…å­˜</strong>: æ˜¯æŠŠåŒä¸€ä¸ªç‰©ç†å†…å­˜åŒºåŸŸåŒæ—¶æ˜ å°„åˆ°å¤šä¸ªè¿›ç¨‹çš„å†…å­˜åœ°å€ç©ºé—´çš„é€šä¿¡æœºåˆ¶, ç‰¹ç‚¹, å¿«é€Ÿ, æ–¹ä¾¿çš„å…±äº«æ•°æ®, ä¸è¶³, å¿…é¡»ç”¨é¢å¤–çš„åŒæ­¥æœºåˆ¶æ¥åè°ƒæ•°æ®è®¿é—®, é˜²æ­¢æ²¡å†™å®Œå°±è¯»<br>
æœ€å¿«çš„æ–¹å¼, ä¸€ä¸ªè¿›ç¨‹å†™å¦ä¸€ä¸ªè¿›ç¨‹ç«‹å³å¯è§, æ²¡æœ‰ç³»ç»Ÿè°ƒç”¨å¹²é¢„, æ²¡æœ‰æ•°æ®å¤åˆ¶<br>
åœ¨è¿›ç¨‹é‡Œ, æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰ç§æœ‰å†…å­˜åœ°å€ç©ºé—´, æ¯ä¸ªè¿›ç¨‹çš„å†…å­˜åœ°å€ç©ºé—´éœ€æ˜ç¡®è®¾ç½®å…±äº«å†…å­˜æ®µ, åœ¨çº¿ç¨‹é‡Œ, åŒä¸€è¿›ç¨‹ä¸­çš„çº¿ç¨‹æ€»æ˜¯å…±äº«ç›¸åŒçš„å†…å­˜åœ°å€ç©ºé—´<br>
å…±äº«å†…å­˜ç³»ç»Ÿè°ƒç”¨, åˆ›å»ºå…±äº«æ®µ(shmget), æŠŠå…±äº«æ®µæ˜ å°„åˆ°è¿›ç¨‹åœ°å€ç©ºé—´(shmat), å–æ¶ˆæ˜ å°„(shmdt), å…±äº«æ®µæ§åˆ¶(shmctl)</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>æ“ä½œç³»ç»Ÿ</tag>
        <tag>æ­»é”</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-äºŒåˆ†æŸ¥æ‰¾</title>
    <url>/2020/12/02/20201202152632/</url>
    <content><![CDATA[<h2 id="äºŒåˆ†æŸ¥æ‰¾">äºŒåˆ†æŸ¥æ‰¾</h2>
<h3 id="ç®€ä»‹-v4">ç®€ä»‹</h3>
<p>äºŒåˆ†æŸ¥æ‰¾, ä¹Ÿå«æŠ˜åŠæŸ¥æ‰¾, æ˜¯ä¸€ç§ç®€å•çš„å¿«é€ŸæŸ¥æ‰¾ç®—æ³•<br>
äºŒåˆ†æŸ¥æ‰¾é’ˆå¯¹çš„æ˜¯ä¸€ä¸ªæœ‰åºçš„æ•°æ®é›†åˆ, æŸ¥æ‰¾æ€æƒ³ç±»ä¼¼åˆ†æ²», æ¯æ¬¡éƒ½é€šè¿‡è·ŸåŒºé—´çš„ä¸­é—´å…ƒç´ å¯¹æ¯”, å°†å¾…æŸ¥æ‰¾çš„åŒºé—´ç¼©å°ä¸ºä¹‹å‰çš„ä¸€åŠ, ç›´åˆ°æ‰¾åˆ°è¦æŸ¥æ‰¾çš„å…ƒç´ , æˆ–è€…åŒºé—´è¢«ç¼©å°ä¸º0<br>
æ—¶é—´å¤æ‚åº¦O(logn), å¯¹æ•°æ—¶é—´å¤æ‚åº¦</p>
<h3 id="ä»£ç å®ç°">ä»£ç å®ç°</h3>
<p>äºŒåˆ†æŸ¥æ‰¾çš„é€’å½’ä¸éé€’å½’å®ç°<br>
æœ€ç®€å•çš„æƒ…å†µæ˜¯æœ‰åºæ•°ç»„ä¸­ä¸å­˜åœ¨é‡å¤å…ƒç´ <br>
å¾ªç¯å®ç° (todo)<br>
é€’å½’å®ç° (todo)<br>
å®¹æ˜“å‡ºé”™çš„ä¸‰ä¸ªåœ°æ–¹</p>
<ol>
<li>å¾ªç¯é€€å‡ºæ¡ä»¶, low&lt;=high</li>
<li>minçš„å–å€¼, lowå’Œhighæ¯”è¾ƒå¤§çš„è¯, ç›¸åŠ å¯èƒ½ä¼šæº¢å‡º</li>
<li>lowå’Œhighçš„æ›´æ–°, low=midæˆ–high=midå¯èƒ½ä¼šæ­»å¾ªç¯</li>
</ol>
<h3 id="å±€é™æ€§">å±€é™æ€§</h3>
<ol>
<li>ä¾èµ–é¡ºåºè¡¨ç»“æ„, æ—¢æ•°ç»„, å› ä¸ºä¾èµ–æŒ‰ä¸‹æ ‡éšæœºè®¿é—®å…ƒç´ </li>
<li>é’ˆå¯¹æœ‰åºæ•°æ®, å¦‚æœæ— åºéœ€è¦å…ˆæ’åº, å¦‚æœæ’å…¥åˆ é™¤æ“ä½œé¢‘ç¹, åˆ™éœ€é¢‘ç¹æ’åº, æ‰€ä»¥ä¸é€‚ç”¨äºŒåˆ†æŸ¥æ‰¾</li>
<li>æ•°æ®é‡é€‚ä¸­, æ•°æ®é‡å¤ªå°ç›´æ¥ç”¨éå†æ›´ä¸ºæ–¹ä¾¿, æ•°æ®é‡å¤ªå¤§æ—¶, å› ä¸ºéœ€è¦å­˜å‚¨åœ¨æ•°ç»„, éœ€è¦è¿ç»­å†…å­˜ç©ºé—´, å†…å­˜å¯èƒ½æ”¾ä¸ä¸‹</li>
</ol>
<h3 id="è¿›é˜¶ç‰ˆ">è¿›é˜¶ç‰ˆ</h3>
<ul>
<li>æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå€¼ç­‰äºç»™å®šå€¼çš„å…ƒç´  (todo)</li>
<li>æŸ¥æ‰¾æœ€åä¸€ä¸ªå€¼ç­‰äºç»™å®šå€¼çš„å…ƒç´  (todo)</li>
<li>æŸ¥æ‰¾ç¬¬ä¸€ä¸ªå¤§äºç­‰äºä¸ªå®šåˆ¶çš„å…ƒç´  (todo)</li>
<li>æŸ¥æ‰¾æœ€åä¸€ä¸ªå°äºç­‰äºç»™å®šå€¼çš„å…ƒç´  (todo)</li>
</ul>
<h3 id="æ€»ç»“-v2">æ€»ç»“</h3>
<p>ç­‰å€¼æŸ¥æ‰¾ä½¿ç”¨æ•£åˆ—è¡¨æˆ–è€…äºŒå‰æŸ¥æ‰¾æ ‘æ›´å¤š, äºŒåˆ†æŸ¥æ‰¾æ›´é€‚åˆç”¨åœ¨è¿‘ä¼¼æŸ¥æ‰¾é—®é¢˜</p>
<h3 id="è¯¾åç»ƒä¹ ">è¯¾åç»ƒä¹ </h3>
<p>æ±‚ä¸€ä¸ªæ•°çš„å¹³æ–¹æ ¹, ç²¾ç¡®åˆ°å°æ•°ç‚¹å6ä½ (todo)<br>
ä¸€ä¸ªå¾ªç¯æœ‰åºæ•°ç»„[4,5,6,1,2,3]ä¸­æŸ¥æ‰¾æŸä¸ªå€¼ (todo)</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æŸ¥æ‰¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-åŠ¨æ€è§„åˆ’</title>
    <url>/2021/07/30/20210730193020/</url>
    <content><![CDATA[<h2 id="åŠ¨æ€è§„åˆ’-Dynamic-Programming">åŠ¨æ€è§„åˆ’(Dynamic Programming)</h2>
<p>åŠ¨æ€è§„åˆ’æ¯”è¾ƒé€‚åˆæ±‚è§£æœ€ä¼˜é—®é¢˜, æ¯”å¦‚æœ€å¤§å€¼æœ€å°å€¼, å¯ä»¥éå¸¸æ˜¾è‘—çš„é™ä½æ—¶é—´å¤æ‚åº¦<br>
æœ‰ç‚¹éš¾, æ±‚è§£è¿‡ç¨‹ä¸ç¬¦åˆå¸¸è§„æ€ç»´æ–¹å¼, å…ˆçœ‹ä¸¤ä¸ªä¾‹å­</p>
<h3 id="0-1èƒŒåŒ…é—®é¢˜">0-1èƒŒåŒ…é—®é¢˜</h3>
<p>ä¸€ç»„ä¸åŒé‡é‡, ä¸å¯åˆ†å‰²çš„ç‰©å“, é€‰æ‹©ä¸€äº›è£…å…¥èƒŒåŒ…, åœ¨èƒŒåŒ…é™é‡å‰æä¸‹, èƒŒåŒ…é‡Œèƒ½è£…ä¸‹çš„<strong>ç‰©å“é‡é‡æœ€å¤§å€¼</strong><br>
å›æº¯ç®—æ³•æ—¶é—´å¤æ‚åº¦é«˜, æŒ‡æ•°çº§åˆ«, å›æº¯é€’å½’æ±‚è§£è¿‡ç¨‹ä¸­, æœ‰äº›å­é—®é¢˜çš„æ±‚è§£æ˜¯é‡å¤çš„, æ­¤æ—¶å¯å¼•å…¥é€’å½’ä¸­çš„å¤‡å¿˜å½•æ¥è§£å†³, é¿å…å†—ä½™è®¡ç®—, æ­¤æ—¶æ‰§è¡Œæ•ˆç‡å·²ç»å’ŒåŠ¨æ€è§„åˆ’å·®ä¸å¤šäº†<br>
è€ŒåŠ¨æ€è§„åˆ’æ˜¯è¿™ä¹ˆåš, æ±‚è§£è¿‡ç¨‹åˆ†ä¸ºnä¸ªé˜¶æ®µ, æ¯ä¸ªé˜¶æ®µå†³ç­–ä¸€ä¸ªç‰©å“æ˜¯å¦æ”¾åˆ°èƒŒåŒ…é‡Œ<br>
æ¯æ¬¡å†³ç­–å, èƒŒåŒ…çš„é‡é‡ä¼šæœ‰å¤šç§æƒ…å†µ, ä¼šè¾¾åˆ°å¤šç§ä¸åŒçš„çŠ¶æ€, æˆ‘ä»¬æŠŠæ¯ä¸€å±‚é‡å¤çš„çŠ¶æ€åˆå¹¶, è®°å½•ä¸åŒçš„çŠ¶æ€, å°±å¯ä»¥åŸºäºä¸Šä¸€å±‚çŠ¶æ€é›†åˆ, æ¨å¯¼ä¸‹ä¸€å±‚çŠ¶æ€é›†åˆ<br>
ç”¨ä¸€ä¸ªäºŒç»´æ•°ç»„è®°å½•, æ¨ªå‘æ˜¯ç‰©å“ä¸ªæ•°, çºµå‘æ˜¯èƒŒåŒ…é‡é‡, æ•°ç»„å€¼æ˜¯booleanç±»å‹, æ ¹æ®ç‰©å“é‡é‡ä¾æ¬¡å¡«è¿›å»<br>
æœ€åä¸€å±‚, æœ€æ¥è¿‘æœ«å°¾çš„æ•°, å°±æ˜¯å¾—åˆ°çš„è§£, ä»£ç todo</p>
<p>åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯, æŠŠé—®é¢˜åˆ†è§£ä¸ºå¤šä¸ªé˜¶æ®µ, æ¯ä¸ªé˜¶æ®µå¯¹åº”ä¸€ä¸ªå†³ç­–, è®°å½•æ¯ä¸ªé˜¶æ®µå¯è¾¾çš„çŠ¶æ€é›†åˆ, é€šè¿‡å½“å‰é˜¶æ®µçŠ¶æ€é›†åˆ, æ¨å¯¼ä¸‹ä¸€ä¸ªé˜¶æ®µçš„çŠ¶æ€é›†åˆ, åŠ¨æ€åœ°å¾€å‰æ¨è¿›<br>
è¿™ä¹Ÿæ˜¯åŠ¨æ€è§„åˆ’åå­—çš„ç”±æ¥, ä½†éœ€è¦é¢å¤–ç”³è¯·ä¸€ä¸ªn* w+1çš„äºŒç»´æ•°ç»„, ç©ºé—´æ¢æ—¶é—´, å¯ä»¥ä¼˜åŒ–åˆ°åªç”¨w+1çš„ä¸€ä½æ•°ç»„è§£å†³<br>
å›æº¯ç®—æ³•æ—¶é—´å¤æ‚åº¦O(2^n), åŠ¨æ€è§„åˆ’æ—¶é—´å¤æ‚åº¦O(n*w)ç‰©å“ä¸ªæ•°ä¹˜å¯ä»¥æ‰¿è½½æ€»é‡é‡</p>
<h3 id="0-1èƒŒåŒ…é—®é¢˜å‡çº§ç‰ˆ">0-1èƒŒåŒ…é—®é¢˜å‡çº§ç‰ˆ</h3>
<p>ä¸€ç»„ä¸åŒé‡é‡, ä¸åŒä»·å€¼, ä¸å¯åˆ†å‰²çš„ç‰©å“, åœ¨æ»¡è¶³èƒŒåŒ…æœ€å¤§é‡é‡é™åˆ¶å‰æä¸‹, å¯è£…å…¥çš„<strong>æ€»ä»·å€¼</strong>æœ€å¤§æ˜¯å¤šå°‘<br>
è¿˜æ˜¯æŠŠæ±‚è§£è¿‡ç¨‹åˆ†ä¸ºnä¸ªé˜¶æ®µ, æ¯ä¸ªé˜¶æ®µå†³ç­–ä¸€ä¸ªç‰©å“æ˜¯å¦æ”¾å…¥èƒŒåŒ…, æ¯ä¸ªé˜¶æ®µå†³ç­–å®Œå, èƒŒåŒ…ä¸­çš„ç‰©å“æ€»é‡é‡åŠæ€»ä»·å€¼ä¼šæœ‰å¤šç§æƒ…å†µ<br>
ç”¨äºŒç»´æ•°ç»„æ¥è®°å½•æ¯å±‚å¯åˆ°è¾¾çš„ä¸åŒçŠ¶æ€, æ¨ªå‘ç‰©å“ä¸ªæ•°, çºµå‘èƒŒåŒ…é‡é‡, æ•°ç»„é‡Œå­˜å‚¨çš„å½“å‰çŠ¶æ€å¯¹åº”çš„æœ€å¤§æ€»ä»·å€¼, æ¯å±‚ä¸­é‡å¤çš„çŠ¶æ€åˆå¹¶, åªè®°å½•ä»·å€¼æœ€å¤§çš„çŠ¶æ€, å¹¶åŸºäºæ­¤æ¨å¯¼ä¸‹ä¸€å±‚çŠ¶æ€<br>
æ—¶é—´å¤æ‚åº¦å’Œç©ºé—´å¤æ‚åº¦åŒä¸Š</p>
<h3 id="åŠ¨æ€è§„åˆ’è§£å†³çš„é—®é¢˜">åŠ¨æ€è§„åˆ’è§£å†³çš„é—®é¢˜</h3>
<p>å¤§éƒ¨åˆ†åŠ¨æ€è§„åˆ’èƒ½è§£å†³çš„é—®é¢˜, éƒ½å¯ä»¥é€šè¿‡å›æº¯ç®—æ³•æ¥è§£å†³, åªä¸è¿‡å›æº¯ç®—æ³•æ•ˆç‡æ¯”è¾ƒä½<br>
ä»€ä¹ˆæ ·çš„é—®é¢˜é€‚åˆç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³, ä¸€ä¸ªæ¨¡å‹ä¸‰ä¸ªç‰¹å¾<br>
åŠ¨æ€è§„åˆ’é€‚åˆè§£å†³çš„é—®é¢˜æ¨¡å‹ä¸º å¤šé˜¶æ®µå†³ç­–æœ€ä¼˜è§£æ¨¡å‹<br>
æˆ‘ä»¬ä¸€èˆ¬æ˜¯ç”¨åŠ¨æ€è§„åˆ’æ¥è§£å†³æœ€ä¼˜è§£é—®é¢˜, è€Œè§£å†³è¿‡ç¨‹éœ€è¦ç»å†å¤šä¸ªå†³ç­–é˜¶æ®µ, æ¯ä¸ªé˜¶æ®µéƒ½å¯¹åº”ä¸€ç»„çŠ¶æ€,<br>
ç„¶åæˆ‘ä»¬å¯»æ‰¾ä¸€ç»„å†³ç­–åºåˆ—, ç»è¿‡è¿™ç»„å†³ç­–åºåˆ—, èƒ½å¤Ÿäº§ç”Ÿæœ€ç»ˆæœŸæœ›æ±‚è§£çš„æœ€ä¼˜å€¼<br>
ä¸‰ä¸ªç‰¹å¾, æœ€ä¼˜å­ç»“æ„, æ— åæ•ˆæ€§, é‡å¤å­é—®é¢˜<br>
æœ€ä¼˜å­ç»“æ„, é—®é¢˜çš„æœ€ä¼˜è§£åŒ…å«å­é—®é¢˜çš„æœ€ä¼˜è§£, å¯ä»¥é€šè¿‡å­é—®é¢˜çš„æœ€ä¼˜è§£æ¨å¯¼å‡ºé—®é¢˜çš„æœ€ä¼˜è§£, å³åé¢é˜¶æ®µçš„çŠ¶æ€å¯ä»¥é€šè¿‡å‰é¢é˜¶æ®µçš„çŠ¶æ€æ¨å¯¼å‡ºæ¥<br>
æ— åæ•ˆæ€§, ä¸€æ˜¯æ¨å¯¼çŠ¶æ€æ—¶, åªå…³å¿ƒå‰é¢é˜¶æ®µçš„çŠ¶æ€å€¼, ä¸å…³å¿ƒè¿™ä¸ªå€¼æ€ä¹ˆæ¥çš„, äºŒæ˜¯æŸä¸ªé˜¶æ®µçŠ¶æ€ä¸€æ—¦ç¡®å®šå°±ä¸å—åç»­å†³ç­–å½±å“<br>
é‡å¤å­é—®é¢˜, ä¸åŒçš„å†³ç­–åºåˆ—, åˆ°è¾¾æŸä¸ªç›¸åŒçš„é˜¶æ®µæ—¶, å¯èƒ½ä¼šäº§ç”Ÿé‡å¤çš„çŠ¶æ€</p>
<h3 id="åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯">åŠ¨æ€è§„åˆ’è§£é¢˜æ€è·¯</h3>
<p>åŠ¨æ€è§„åˆ’è§£é¢˜çš„ä¸€èˆ¬æ€è·¯æœ‰ä¸¤ç§, çŠ¶æ€è½¬ç§»è¡¨æ³•å’ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹æ³•</p>
<ol>
<li>çŠ¶æ€è½¬ç§»è¡¨æ³•<br>
å›æº¯ç®—æ³•å®ç°-å®šä¹‰çŠ¶æ€-ç”»é€’å½’æ ‘-æ‰¾é‡å¤å­é—®é¢˜-ç”»çŠ¶æ€è½¬ç§»è¡¨-æ ¹æ®é€’æ¨å…³ç³»å¡«è¡¨-å°†å¡«è¡¨è¿‡ç¨‹ç¿»è¯‘æˆä»£ç <br>
å…ˆç”»ä¸€ä¸ªçŠ¶æ€è¡¨, ä¸€èˆ¬æ˜¯äºŒç»´çš„, ç”¨äºŒç»´æ•°ç»„, æ¯ä¸ªçŠ¶æ€åŒ…å«ä¸‰ä¸ªå˜é‡, è¡Œåˆ—å’Œæ•°ç»„å€¼,  æˆ‘ä»¬æ ¹æ®å†³ç­–çš„å…ˆåè¿‡ç¨‹, ä»å‰å¾€åå¡«å……çŠ¶æ€è¡¨ä¸­çš„æ¯ä¸ªçŠ¶æ€<br>
å¹¶å°†é€’æ¨å¡«è¡¨çš„è¿‡ç¨‹, ç¿»è¯‘æˆä»£ç , å°±æ˜¯åŠ¨æ€è§„åˆ’ä»£ç äº†<br>
å¦‚æœé—®é¢˜çš„çŠ¶æ€æ¯”è¾ƒå¤æ‚, éœ€è¦å¾ˆå¤šå˜é‡æ¥è¡¨ç¤º, é‚£å¯¹åº”çš„çŠ¶æ€è¡¨å°±éœ€è¦æ˜¯é«˜ç»´çš„, å°±ä¸é€‚åˆç”¨çŠ¶æ€è½¬ç§»è¡¨æ³•æ¥è§£å†³äº†</li>
<li>çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ³•<br>
æ‰¾æœ€ä¼˜å­ç»“æ„-å†™çŠ¶æ€è½¬ç§»æ–¹ç¨‹-å°†çŠ¶æ€è½¬ç§»æ–¹ç¨‹ç¿»è¯‘æˆä»£ç <br>
æœ‰ç‚¹ç±»ä¼¼é€’å½’çš„è§£é¢˜æ€è·¯, éœ€è¦åˆ†ææŸä¸ªé—®é¢˜å¦‚ä½•é€šè¿‡å­é—®é¢˜æ¥é€’å½’æ±‚è§£, ä¹Ÿå°±æ˜¯æ‰€è°“çš„æœ€ä¼˜å­ç»“æ„, æ ¹æ®æœ€ä¼˜å­ç»“æ„å†™å‡ºé€’å½’å…¬å¼, ä¹Ÿå°±æ˜¯æ‰€è°“çš„çŠ¶æ€è½¬ç§»æ–¹ç¨‹<br>
ä¸¤ç§ä»£ç å®ç°æ–¹æ³•, ä¸€ç§æ˜¯é€’å½’åŠ å¤‡å¿˜å½•, ä¸€ç§æ˜¯è¿­ä»£é€’æ¨<br>
çŠ¶æ€è½¬ç§»æ–¹ç¨‹æ˜¯è§£å†³åŠ¨æ€è§„åˆ’çš„å…³é”®<br>
æœ‰çš„é—®é¢˜é€‚åˆç”¨ç¬¬ä¸€ç§æ€è·¯, æœ‰çš„é—®é¢˜é€‚åˆç”¨ç¬¬äºŒç§æ€è·¯, éœ€è¦ç»“åˆé¢˜ç›®åˆ†æ</li>
</ol>
<h3 id="å››ç§ç®—æ³•æ€æƒ³æ¯”è¾ƒåˆ†æ">å››ç§ç®—æ³•æ€æƒ³æ¯”è¾ƒåˆ†æ</h3>
<p>è´ªå¿ƒ, å›æº¯, åŠ¨æ€è§„åˆ’å¯ä»¥å½’ä¸ºä¸€ç±», è§£å†³é—®é¢˜çš„æ¨¡å‹éƒ½å¯ä»¥æŠ½è±¡æˆå¤šé˜¶æ®µå†³ç­–æœ€ä¼˜è§£æ¨¡å‹, è€Œåˆ†æ²»ç®—æ³•ä¸è¡Œ<br>
å›æº¯ç®—æ³•æ˜¯ä¸ªä¸‡é‡‘æ²¹, åŸºæœ¬ä¸Šèƒ½ç”¨åŠ¨æ€è§„åˆ’å’Œè´ªå¿ƒè§£å†³çš„é—®é¢˜, éƒ½å¯ä»¥ç”¨å›æº¯ç®—æ³•, ä¸è¿‡æ—¶é—´å¤æ‚åº¦éå¸¸é«˜, åªèƒ½ç”¨æ¥è§£å†³å°è§„æ¨¡æ•°æ®é—®é¢˜<br>
åŠ¨æ€è§„åˆ’é«˜æ•ˆä½†ä¸èƒ½è§£å†³æ‰€æœ‰é—®é¢˜, éœ€è¦æ»¡è¶³ä¸‰ä¸ªç‰¹å¾<br>
è´ªå¿ƒç®—æ³•å®é™…ä¸Šæ˜¯åŠ¨æ€è§„åˆ’çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µ, è§£å†³é—®é¢˜æ›´é«˜æ•ˆ, ä»£ç ä¹Ÿæ›´ç®€æ´, èƒ½è§£å†³çš„é—®é¢˜ä¹Ÿæ›´æœ‰é™, éœ€è¦æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶, æœ€ä¼˜å­ç»“æ„, æ— åæ•ˆæ€§å’Œè´ªå¿ƒé€‰æ‹©æ€§<br>
(é€šè¿‡å±€éƒ¨æœ€ä¼˜çš„é€‰æ‹©èƒ½äº§ç”Ÿå…¨å±€æœ€ä¼˜é€‰æ‹©)<br>
æ‹¿åˆ°é—®é¢˜å…ˆä¸æ€è€ƒè®¡ç®—æœºå¦‚ä½•å®ç°, å•çº¯è€ƒè™‘äººè„‘ä¼šå¦‚ä½•å»è§£å†³, ç„¶åæ€»ç»“è§„å¾‹, å†å¥—ç”¨å­¦è¿‡çš„ç®—æ³•</p>
<h3 id="æ‹“å±•-æ‹¼å†™çº é”™">æ‹“å±•-æ‹¼å†™çº é”™</h3>
<p>æ‹¼å†™çº é”™åŠŸèƒ½, é‡åŒ–ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç›¸ä¼¼åº¦,  éœ€è¦ç”¨åˆ°éå¸¸è‘—åçš„é‡åŒ–æ–¹æ³•, ç¼–è¾‘è·ç¦»<br>
ç¼–è¾‘è·ç¦»æŒ‡, å°†ä¸€ä¸ªå­—ç¬¦ä¸²è½¬åŒ–æˆå¦ä¸€ä¸ªå­—ç¬¦ä¸², éœ€è¦çš„æœ€å°‘ç¼–è¾‘æ“ä½œæ¬¡æ•°, æ¯”å¦‚å¢åŠ /åˆ é™¤/æ›¿æ¢ä¸€ä¸ªå­—ç¬¦, ç¼–è¾‘è·ç¦»è¶Šå¤§, è¯´æ˜ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ä¼¼åº¦è¶Šå°,<br>
ä¸¤ä¸ªå®Œå…¨ç›¸åŒçš„å­—ç¬¦ä¸², ç¼–è¾‘è·ç¦»æ˜¯0<br>
æ ¹æ®æ‰€åŒ…å«çš„ç¼–è¾‘æ“ä½œç§ç±»ä¸åŒ, ç¼–è¾‘è·ç¦»æœ‰å¤šç§ä¸åŒçš„è®¡ç®—æ–¹å¼, æ¯”è¾ƒè‘—åçš„æœ‰è±æ–‡æ–¯å¦è·ç¦»(todo)å’Œæœ€é•¿å…¬å…±å­ä¸²é•¿åº¦(todo)<br>
è±æ–‡æ–¯å¦è·ç¦»å…è®¸å¢åŠ , åˆ é™¤, æ›¿æ¢å­—ç¬¦ä¸‰ä¸ªç¼–è¾‘æ“ä½œ, æœ€é•¿å…¬å…±å­ä¸²é•¿åº¦åªå…è®¸å¢åŠ , åˆ é™¤ä¸¤ä¸ªç¼–è¾‘æ“ä½œ<br>
è±æ–‡æ–¯å¦è·ç¦»è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²å·®å¼‚çš„å¤§å°, æœ€é•¿å…¬å…±å­ä¸²çš„å¤§å°è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ä¼¼ç¨‹åº¦çš„å¤§å°<br>
å…·ä½“ç»†èŠ‚ç•¥</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>åŠ¨æ€è§„åˆ’</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-å“ˆå¸Œç®—æ³•</title>
    <url>/2020/12/16/20201216153146/</url>
    <content><![CDATA[<h2 id="å“ˆå¸Œç®—æ³•">å“ˆå¸Œç®—æ³•</h2>
<h3 id="ç®€ä»‹-v5">ç®€ä»‹</h3>
<p>å°†ä»»æ„é•¿åº¦çš„äºŒè¿›åˆ¶å€¼ä¸²æ˜ å°„ä¸ºå›ºå®šé•¿åº¦çš„äºŒè¿›åˆ¶å€¼ä¸²çš„æ˜ å°„è§„åˆ™å°±æ˜¯å“ˆå¸Œç®—æ³•<br>
å¾—åˆ°çš„äºŒè¿›åˆ¶å€¼ä¸²å°±æ˜¯å“ˆå¸Œå€¼</p>
<h3 id="ä¼˜ç§€çš„å“ˆå¸Œç®—æ³•åŒ…æ‹¬">ä¼˜ç§€çš„å“ˆå¸Œç®—æ³•åŒ…æ‹¬</h3>
<ul>
<li>ä»å“ˆå¸Œå€¼ä¸èƒ½åæ¨å‡ºåŸå§‹æ•°æ®</li>
<li>å¯¹è¾“å…¥æ•°æ®éå¸¸æ•æ„Ÿ, å“ªæ€•ä¸€ç‚¹å°ä¿®æ”¹, ç»“æœä¹Ÿå¤§ä¸ç›¸åŒ</li>
<li>æ•£åˆ—å†²çªçš„æ¦‚ç‡è¦å¾ˆå°, å¯¹ä¸åŒåŸå§‹æ•°æ®, å“ˆå¸Œå€¼ç›¸åŒçš„æ¦‚ç‡éå¸¸å°</li>
<li>æ‰§è¡Œæ•ˆç‡è¦é«˜æ•ˆ, é’ˆå¯¹è¾ƒé•¿çš„æ–‡æœ¬, ä¹Ÿèƒ½å¿«é€Ÿè®¡ç®—å‡ºå“ˆå¸Œå€¼</li>
</ul>
<h3 id="é¸½å·¢åŸç†">é¸½å·¢åŸç†</h3>
<p>ä¸ºä»€ä¹ˆå“ˆå¸Œç®—æ³•æ— æ³•åšåˆ°é›¶å†²çª<br>
å› ä¸ºå“ˆå¸Œå€¼çš„é•¿åº¦æ˜¯å›ºå®šçš„, é‚£ä¹ˆå°±è¡¨ç¤ºæ•°æ®æ˜¯æœ‰é™çš„, è€Œè¦å“ˆå¸Œçš„æ•°æ®æ˜¯æ— é™çš„, å°±å¿…ç„¶ä¼šæœ‰æ•°æ®å­˜åœ¨å“ˆå¸Œå€¼ç›¸åŒçš„æƒ…å†µ</p>
<h3 id="å“ˆå¸Œç®—æ³•çš„åº”ç”¨">å“ˆå¸Œç®—æ³•çš„åº”ç”¨</h3>
<ol>
<li>å®‰å…¨åŠ å¯†<br>
MD5, SHA, DES, AESç­‰<br>
è™½ç„¶åŠ å¯†åä¸å®¹æ˜“åæ¨å‡ºåŸå§‹æ•°æ®, ä½†æ˜¯å­˜åœ¨å­—å…¸æ”»å‡», é»‘å®¢é€šè¿‡åºå¤§çš„åŸæ–‡å¯¹å¯†æ–‡çš„å­—å…¸è¡¨, å¾ˆå®¹æ˜“çŒœä¸­ç”¨æˆ·çš„å¸¸ç”¨å¯†ç <br>
é’ˆå¯¹å­—å…¸æ”»å‡», åˆå¯ä»¥ä½¿ç”¨åŠ ç›çš„æ–¹å¼æ¥é˜²å¾¡, æ¯”å¦‚å¯¹åŸå§‹å¯†ç åŠ å…¥å†åŠ å…¥å¤æ‚çš„å­—ç¬¦ä¸²åå“ˆå¸Œ, æ¥å¢åŠ ç ´è§£éš¾åº¦<br>
å®‰å…¨å’Œæ”»å‡»æ˜¯ä¸€ç§åšå¼ˆå…³ç³», ä¸å­˜åœ¨ç»å¯¹çš„å®‰å…¨, æ‰€æœ‰å®‰å…¨æªæ–½åªæ˜¯å¢åŠ æ”»å‡»æˆæœ¬è€Œå·²</li>
<li>å”¯ä¸€æ ‡è¯†<br>
é’ˆå¯¹è¾ƒå¤§çš„æ–‡ä»¶æˆ–è€…å›¾ç‰‡, å–éƒ¨åˆ†å­—èŠ‚é€šè¿‡å“ˆå¸Œç®—æ³•ç”Ÿæˆå”¯ä¸€æ ‡è¯†, å†å­˜å‚¨åˆ°æ•£åˆ—è¡¨ä¸­, å¯ä»¥å¿«é€Ÿåˆ¤æ–­å›¾ç‰‡æ˜¯å¦å­˜åœ¨</li>
<li>æ•°æ®æ ¡éªŒ<br>
ä½¿ç”¨BTä¸‹è½½æ—¶, åŸºäºp2påè®®ä¼šä»å¤šä¸ªç”µè„‘ä¸Šå¹¶è¡Œä¸‹è½½, ä¸€éƒ¨ç”µå½±ä¼šåˆ†ä¸ºå¤šä¸ªæ–‡ä»¶å—<br>
å¯ä»¥ä½¿ç”¨ç§å­æ–‡ä»¶ä¸­ä¿å­˜çš„æ¯ä¸ªæ–‡ä»¶å—çš„å“ˆå¸Œå€¼æ¥åˆ¤æ–­, æ¯ä¸ªæ–‡ä»¶å—æ˜¯å¦è¢«äººä¿®æ”¹æˆ–è€…ç¼ºå¤±</li>
<li>æ•£åˆ—å‡½æ•°<br>
æ•£åˆ—è¡¨çš„æ•£åˆ—å‡½æ•°ä¹Ÿæ˜¯å“ˆå¸Œç®—æ³•çš„ä¸€ç§åº”ç”¨<br>
ä¸è¿‡ç›¸å¯¹å…¶ä»–, æ•£åˆ—å‡½æ•°å¯¹å†²çªè¦æ±‚ä½å¾ˆå¤š, ä¸”å¯¹äºèƒ½å¦åå‘è§£å¯†ä¹Ÿä¸å…³å¿ƒ, è€Œæ›´åŠ å…³å¿ƒæ•£åˆ—åçš„å€¼æ˜¯å¦åˆ†å¸ƒå‡åŒ€</li>
<li>è´Ÿè½½å‡è¡¡<br>
è´Ÿè½½å‡è¡¡çš„ç®—æ³•æœ‰è½®è¯¢, éšæœº, åŠ æƒè½®è¯¢ç­‰, å¦‚æœè¦å®ç°åŒä¸€ä¸ªå®¢æˆ·ç«¯, åœ¨ä¸€æ¬¡ä¼šè¯ä¸­çš„æ‰€æœ‰è¯·æ±‚éƒ½è·¯ç”±åˆ°åŒä¸€ä¸ªæœåŠ¡å™¨çš„è¯, å¯ä»¥å€ŸåŠ©å“ˆå¸Œç®—æ³•<br>
é€šè¿‡å“ˆå¸Œç®—æ³•, å¯¹å®¢æˆ·ç«¯ipåœ°å€æˆ–è€…ä¼šè¯idè®¡ç®—å“ˆå¸Œå€¼, å°†å–å¾—çš„å“ˆå¸Œå€¼ä¸æœåŠ¡å™¨åˆ—è¡¨çš„å¤§å°å–æ¨¡è¿ç®—, æœ€ç»ˆå¾—åˆ°çš„å€¼å°±æ˜¯åº”è¯¥è¢«è·¯ç”±åˆ°çš„æœåŠ¡å™¨ç¼–å·</li>
<li>æ•°æ®åˆ†ç‰‡<br>
åˆ†å¸ƒå¼è®¡ç®—ä¸­, å¯¹æ•°æ®æ ¹æ®keyå“ˆå¸Œ, å†æ ¹æ®æœºå™¨æ•°å–æ¨¡, keyç›¸åŒçš„æ•°æ®å°±å¯ä»¥åˆ†é…åˆ°åŒä¸€å°æœºå™¨ä¸Šå¤„ç†</li>
<li>åˆ†å¸ƒå¼å­˜å‚¨<br>
åˆ†å¸ƒå¼å­˜å‚¨ä¸­å¸¸ç”¨çš„ä¸€è‡´æ€§å“ˆå¸Œç®—æ³•</li>
</ol>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>Hash</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-äºŒå‰æ ‘</title>
    <url>/2021/01/28/20210128151430/</url>
    <content><![CDATA[<h2 id="äºŒå‰æ ‘">äºŒå‰æ ‘</h2>
<h3 id="ç®€ä»‹-v6">ç®€ä»‹</h3>
<p>æ ‘, éçº¿æ€§è¡¨ç»“æ„<br>
æ ‘æœ‰ä¸‰ä¸ªæ¦‚å¿µ:<br>
<strong>é«˜åº¦</strong>ä»ä¸‹å‘ä¸Šæ•°, èµ·ç‚¹æ˜¯0<br>
<strong>æ·±åº¦</strong>ä»ä¸Šå‘ä¸‹æ•°, èµ·ç‚¹æ˜¯0<br>
<strong>å±‚æ•°</strong>ä»ä¸Šå‘ä¸‹æ•°, èµ·ç‚¹æ˜¯1</p>
<h3 id="äºŒå‰æ ‘-v2">äºŒå‰æ ‘</h3>
<p>æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šä¸¤ä¸ªå‰<br>
æœ‰ä¸¤ç§ç‰¹æ®ŠäºŒå‰æ ‘:<br>
<strong>æ»¡äºŒå‰æ ‘</strong>, é™¤äº†å¶å­èŠ‚ç‚¹, æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰å·¦å³ä¸¤ä¸ªå­èŠ‚ç‚¹<br>
<strong>å®Œå…¨äºŒå‰æ ‘</strong>, å¶å­èŠ‚ç‚¹éƒ½åœ¨æœ€åº•ä¸‹ä¸¤å±‚, æœ€åä¸€å±‚å¶å­èŠ‚ç‚¹éƒ½é å·¦æ’åˆ—, ä¸”é™¤äº†æœ€åä¸€å±‚, å…¶å®ƒå±‚èŠ‚ç‚¹ä¸ªæ•°éƒ½è¾¾åˆ°æœ€å¤§<br>
æ»¡äºŒå‰æ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘çš„ä¸€ç§ç‰¹æ®Šæƒ…å†µ</p>
<h3 id="å­˜å‚¨äºŒå‰æ ‘">å­˜å‚¨äºŒå‰æ ‘</h3>
<ol>
<li>åŸºäºæŒ‡é’ˆçš„äºŒå‰é“¾å¼å­˜å‚¨æ³•<br>
æ¯ä¸ªèŠ‚ç‚¹ä¸‰ä¸ªå­—æ®µ, ä¸€ä¸ªå­˜æ•°æ®, å¦å¤–ä¸¤ä¸ªå­˜å·¦å³å­èŠ‚ç‚¹çš„æŒ‡é’ˆ, è¿™ç§æ–¹å¼æ¯”è¾ƒå¸¸ç”¨, å¤§éƒ¨åˆ†äºŒå‰æ ‘ä»£ç éƒ½æ˜¯é€šè¿‡è¿™ç§ç»“æ„æ¥å®ç°çš„</li>
<li>åŸºäºæ•°ç»„çš„é¡ºåºå­˜å‚¨æ³•<br>
æŠŠæ ¹èŠ‚ç‚¹å­˜å‚¨åœ¨i=1çš„ä½ç½®, å·¦å­èŠ‚ç‚¹å­˜åœ¨2içš„ä½ç½®, å³å­èŠ‚ç‚¹å­˜å‚¨åœ¨2i+1çš„ä½ç½®, ä»¥æ­¤ç±»æ¨<br>
æ­¤ç§å­˜å‚¨æ–¹å¼, æ˜¯å®Œå…¨äºŒå‰æ ‘çš„è¯, åªæµªè´¹ä¸€ä¸ªä¸‹æ ‡0çš„å­˜å‚¨ä½ç½®, éå®Œå…¨äºŒå‰æ ‘çš„è¯, ä¼šæµªè´¹æ›´å¤šçš„æ•°ç»„å­˜å‚¨ç©ºé—´</li>
</ol>
<blockquote>
<p>æ‰€ä»¥ä¸€ä¸ªæ ‘æ˜¯å®Œå…¨äºŒå‰æ ‘çš„è¯, ç”¨æ•°ç»„å­˜å‚¨æ˜¯æœ€èŠ‚çœå†…å­˜çš„ä¸€ç§æ–¹å¼, ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆå®Œå…¨äºŒå‰æ ‘è¢«å•æ‹å‡ºæ¥è¯´æ˜çš„åŸå› .<br>
å †å…¶å®å°±æ˜¯ä¸€ç§å®Œå…¨äºŒå‰æ ‘, æœ€å¸¸ç”¨çš„å­˜å‚¨æ–¹å¼å°±æ˜¯æ•°ç»„</p>
</blockquote>
<h3 id="äºŒå‰æ ‘çš„éå†">äºŒå‰æ ‘çš„éå†</h3>
<p>å¦‚ä½•æ‰“å°æ‰€æœ‰èŠ‚ç‚¹, ç»å…¸æ–¹æ³•æœ‰ä¸‰ç§:<br>
<strong>å‰åºéå†</strong>, å¯¹äºæ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹æ¥è¯´, å…ˆæ‰“å°è¿™ä¸ªèŠ‚ç‚¹, å†æ‰“å°å·¦å­æ ‘, æœ€åæ‰“å°å³å­æ ‘ (todo)<br>
<strong>ä¸­åºéå†</strong>, å¯¹äºæ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹æ¥è¯´, å…ˆæ‰“å°å·¦å­æ ‘, å†æ‰“å°æœ¬èº«, æœ€åæ‰“å°å³å­æ ‘ (todo)<br>
<strong>ååºéå†</strong>, å¯¹äºæ ‘ä¸­çš„ä»»æ„èŠ‚ç‚¹æ¥è¯´, å…ˆæ‰“å°å·¦å­æ ‘, å†æ‰“å°å³å­æ ‘, æœ€åæ‰“å°å®ƒæœ¬èº« (todo)<br>
å®é™…ä¸ŠäºŒå‰æ ‘çš„ä¸‰ç§éå†, å°±æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹<br>
éå†çš„æ—¶é—´å¤æ‚åº¦æ˜¯O(n)<br>
ä¸å¸¸ç”¨çš„éå†, æŒ‰å±‚éå† (todo)</p>
<h3 id="äºŒå‰æŸ¥æ‰¾æ ‘">äºŒå‰æŸ¥æ‰¾æ ‘</h3>
<p>ä¹Ÿå«äºŒå‰æœç´¢æ ‘<br>
ç‰¹ç‚¹, æ”¯æŒåŠ¨æ€æ•°æ®é›†åˆçš„å¿«é€Ÿæ’å…¥åˆ é™¤, æŸ¥æ‰¾æ“ä½œ<br>
äºŒå‰æŸ¥æ‰¾æ ‘è¦æ±‚, åœ¨æ ‘çš„ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹, å…¶å·¦å­æ ‘ä¸­çš„æ¯ä¸ªèŠ‚ç‚¹çš„å€¼, éƒ½è¦å°äºè¿™ä¸ªèŠ‚ç‚¹çš„å€¼, è€Œå³å­æ ‘èŠ‚ç‚¹çš„å€¼, éƒ½å¤§äºè¿™ä¸ªèŠ‚ç‚¹çš„å€¼</p>
<ol>
<li>æŸ¥æ‰¾æ“ä½œ<br>
å…ˆå–æ ¹èŠ‚ç‚¹, ç­‰äºå°±è¿”å›, æ¯”æ ¹èŠ‚ç‚¹å°å°±åœ¨å·¦å­æ ‘é€’å½’æŸ¥æ‰¾, æ¯”æ ¹èŠ‚ç‚¹å¤§å°±åœ¨å³å­æ ‘é€’å½’æŸ¥æ‰¾</li>
<li>æ’å…¥æ“ä½œ<br>
æ–°æ’å…¥çš„æ•°æ®ä¸€èˆ¬åœ¨å¶å­èŠ‚ç‚¹ä¸Š, ç±»ä¼¼æŸ¥æ‰¾æ“ä½œ, ä»æ ¹èŠ‚ç‚¹å¼€å§‹æ¯”è¾ƒ, å¦‚æœè¦æ’å…¥æ•°æ®æ¯”èŠ‚ç‚¹å¤§, å¹¶ä¸”èŠ‚ç‚¹çš„å³å­æ ‘ä¸ºç©º, åˆ™ç›´æ¥æ’åˆ°å³å­èŠ‚ç‚¹ä½ç½®, å¦‚æœä¸ä¸ºç©º, å†é€’å½’éå†å³å­æ ‘æ‰¾ä½ç½®, å¦‚æœæ•°æ®æ¯”èŠ‚ç‚¹å°, åŒç†éå†å·¦å­æ ‘æŸ¥æ‰¾ä½ç½®</li>
<li>åˆ é™¤æ“ä½œ<br>
ç›¸å¯¹å¤æ‚, åˆ†ä¸ºä¸‰ç§æƒ…å†µ<br>
ç¬¬ä¸€ç§, è¦åˆ é™¤èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹, ç›´æ¥å°†çˆ¶èŠ‚ç‚¹æŒ‡é’ˆç½®ä¸ºnull<br>
ç¬¬äºŒç§, è¦åˆ é™¤èŠ‚ç‚¹æœ‰ä¸€ä¸ªå­èŠ‚ç‚¹, æ›´æ–°çˆ¶èŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘è¦åˆ é™¤èŠ‚ç‚¹çš„å­èŠ‚ç‚¹<br>
ç¬¬ä¸‰ç§, è¦åˆ é™¤çš„èŠ‚ç‚¹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹, éœ€è¦æ‰¾åˆ°å³å­æ ‘ä¸­çš„æœ€å°èŠ‚ç‚¹, æ›¿æ¢åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ä¸Š, ç„¶ååˆ é™¤æ‰è¿™ä¸ªæœ€å°èŠ‚ç‚¹</li>
<li>å…¶ä»–æ“ä½œ<br>
äºŒå‰æŸ¥æ‰¾æ ‘è¿˜æ”¯æŒå¿«é€Ÿçš„æŸ¥æ‰¾æœ€å¤§èŠ‚ç‚¹å’Œæœ€å°èŠ‚ç‚¹, å‰é©±èŠ‚ç‚¹å’Œåç»§èŠ‚ç‚¹<br>
é‡è¦ç‰¹æ€§, ä¸­åºéå†äºŒå‰æŸ¥æ‰¾æ ‘, å¯ä»¥è¾“å‡ºæœ‰åºçš„æ•°æ®åºåˆ—, æ—¶é—´å¤æ‚åº¦O(n), éå¸¸é«˜æ•ˆ</li>
</ol>
<h4 id="æ”¯æŒé‡å¤æ•°æ®çš„äºŒå‰æŸ¥æ‰¾æ ‘">æ”¯æŒé‡å¤æ•°æ®çš„äºŒå‰æŸ¥æ‰¾æ ‘</h4>
<ul>
<li>ç¬¬ä¸€ç§, äºŒå‰æŸ¥æ‰¾æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹ä¸åªå­˜ä¸€ä¸ªæ•°æ®, å€ŸåŠ©é“¾è¡¨å’Œæ”¯æŒåŠ¨æ€æ‰©å®¹çš„æ•°ç»„ç­‰æ•°æ®ç»“æ„, æŠŠå€¼ç›¸åŒçš„æ•°æ®å­˜åœ¨åŒä¸€ä¸ªèŠ‚ç‚¹ä¸Š</li>
<li>ç¬¬äºŒç§, æ¯ä¸ªèŠ‚ç‚¹ä»ç„¶åªå­˜å‚¨ä¸€ä¸ªæ•°æ®, æ’å…¥æ—¶, é‡åˆ°å€¼ç›¸åŒçš„èŠ‚ç‚¹, å°±æ’å…¥åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„å³å­æ ‘, ä¹Ÿå°±æ˜¯æŠŠè¿™ä¸ªæ•°å½“ä½œå¤§äºè¿™ä¸ªèŠ‚ç‚¹å¤„ç†<br>
æŸ¥æ‰¾æ•°æ®æ—¶, é‡åˆ°å€¼ç›¸åŒçš„èŠ‚ç‚¹ä¸åœä¸‹, ç»§ç»­åœ¨å³å­æ ‘æŸ¥æ‰¾, ç›´åˆ°é‡åˆ°å¶å­èŠ‚ç‚¹, å°±å¯ä»¥æŠŠæ‰€æœ‰å€¼ç›¸ç­‰çš„èŠ‚ç‚¹æ‰¾å‡ºæ¥<br>
åˆ é™¤æ“ä½œåŒç†</li>
</ul>
<h4 id="äºŒå‰æŸ¥æ‰¾æ ‘çš„æ—¶é—´å¤æ‚åº¦">äºŒå‰æŸ¥æ‰¾æ ‘çš„æ—¶é—´å¤æ‚åº¦</h4>
<p>ä¸åŒå½¢æ€çš„äºŒå‰æŸ¥æ‰¾æ ‘æ—¶é—´å¤æ‚åº¦ä¸åŒ, æ—¶é—´å¤æ‚åº¦å’Œæ ‘çš„é«˜åº¦æˆæ­£æ¯”, ä¹Ÿå°±æ˜¯O(height)</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-å›¾</title>
    <url>/2021/03/04/20210304165625/</url>
    <content><![CDATA[<h2 id="å›¾">å›¾</h2>
<h3 id="ç®€ä»‹-v7">ç®€ä»‹</h3>
<p>å›¾æ˜¯ä¸€ç§éçº¿æ€§è¡¨æ•°æ®ç»“æ„, æ¯”æ ‘æ›´åŠ å¤æ‚<br>
æ¶‰åŠå›¾çš„ç®—æ³•æœ‰å¾ˆå¤š, æ¯”å¦‚å›¾çš„æœç´¢, æœ€çŸ­è·¯å¾„, æœ€å°ç”Ÿæˆæ ‘, äºŒåˆ†å›¾ç­‰</p>
<h3 id="å›¾çš„åŸºæœ¬æ¦‚å¿µ">å›¾çš„åŸºæœ¬æ¦‚å¿µ</h3>
<p>å›¾ä¸­çš„å…ƒç´ å«åš<strong>é¡¶ç‚¹</strong>, ä¸€ä¸ªé¡¶ç‚¹å¯ä»¥ä¸ä»»æ„å…¶ä»–é¡¶ç‚¹å»ºç«‹è¿æ¥å…³ç³», è¿™ç§å»ºç«‹çš„å…³ç³», å«åš<strong>è¾¹</strong><br>
è·Ÿé¡¶ç‚¹ç›¸è¿æ¥çš„è¾¹çš„æ¡æ•°, å«åšé¡¶ç‚¹çš„<strong>åº¦</strong><br>
å›¾çš„è¾¹å¯ä»¥æœ‰æ–¹å‘, è¾¹æœ‰æ–¹å‘çš„å«åš<strong>æœ‰å‘å›¾</strong>, è¾¹æ²¡æœ‰æ–¹å‘çš„å«åš<strong>æ— å‘å›¾</strong><br>
æœ‰å‘å›¾ä¸­, æŠŠåº¦åˆ†ä¸º<strong>å…¥åº¦</strong>å’Œ<strong>å‡ºåº¦</strong>, å…¥åº¦è¡¨ç¤ºæœ‰å¤šå°‘æ¡è¾¹æŒ‡å‘è¿™ä¸ªé¡¶ç‚¹, å‡ºåº¦è¡¨ç¤ºæœ‰å¤šå°‘æ¡è¾¹æ˜¯ä»¥è¿™ä¸ªé¡¶ç‚¹ä¸ºèµ·ç‚¹æŒ‡å‘åˆ«çš„é¡¶ç‚¹<br>
å¦ä¸€ç§å›¾, <strong>å¸¦æƒå›¾</strong>, æ¯æ¡è¾¹éƒ½æœ‰ä¸€ä¸ªæƒé‡</p>
<h3 id="å›¾çš„å­˜å‚¨">å›¾çš„å­˜å‚¨</h3>
<ol>
<li>é‚»æ¥çŸ©é˜µå­˜å‚¨æ–¹æ³•<br>
å›¾æœ€ç›´è§‚çš„ä¸€ç§å­˜å‚¨æ–¹å¼å°±æ˜¯é‚»æ¥çŸ©é˜µ<br>
åº•å±‚ä¾èµ–ä¸€ä¸ªäºŒç»´æ•°ç»„, å¯¹äºæ— å‘å›¾, è‹¥é¡¶ç‚¹iåˆ°jä¹‹å‰æœ‰è¾¹, åˆ™A[i][j]å’ŒA[j][i]éƒ½æ ‡ä¸º1, å¯¹äºæœ‰å‘å›¾, è‹¥é¡¶ç‚¹iåˆ°jä¹‹å‰æœ‰æŒ‡å‘jçš„è¾¹, åˆ™A[i][j]æ ‡ä¸º1, å¸¦æƒå›¾ä¸­æ•°ç»„å­˜å‚¨ç›¸åº”çš„æƒé‡å³å¯<br>
ç”¨é‚»æ¥çŸ©é˜µæ¥è¡¨ç¤ºä¸€ä¸ªå›¾, è™½ç„¶ç®€å•ç›´è§‚, ä½†æ˜¯æ¯”è¾ƒæµªè´¹å­˜å‚¨ç©ºé—´, å¦‚æœå­˜å‚¨çš„æ˜¯ç¨€ç–å›¾(é¡¶ç‚¹éå¸¸å¤š), è€Œæ¯ä¸ªé¡¶ç‚¹çš„è¾¹å¹¶ä¸å¤š, åˆ™å¤§éƒ¨åˆ†ç©ºé—´éƒ½è¢«æµªè´¹äº†<br>
ä¼˜ç‚¹æ˜¯å­˜å‚¨æ–¹å¼ç®€å•, è·å–ä¸¤ä¸ªé¡¶ç‚¹çš„å…³ç³»æ—¶éå¸¸é«˜æ•ˆ, å…¶æ¬¡æ˜¯æ–¹ä¾¿è®¡ç®—, å¯ä»¥å°†å¾ˆå¤šå›¾çš„è¿ç®—è½¬æ¢æˆçŸ©é˜µä¹‹é—´çš„è®¡ç®—</li>
<li>é‚»æ¥è¡¨å­˜å‚¨æ³•<br>
é‚»æ¥è¡¨æœ‰ç‚¹åƒæ•£åˆ—è¡¨, æ¯ä¸ªé¡¶ç‚¹å¯¹åº”ä¸€æ¡é“¾è¡¨, é“¾è¡¨ä¸­å­˜å‚¨çš„æ˜¯ä¸è¿™ä¸ªé¡¶ç‚¹ç›¸è¿æ¥çš„å…¶ä»–é¡¶ç‚¹<br>
é‚»æ¥è¡¨å­˜å‚¨èµ·æ¥æ¯”è¾ƒèŠ‚çœç©ºé—´, ä½†ä½¿ç”¨èµ·æ¥å°±æ¯”è¾ƒè€—æ—¶é—´, è¦æŸ¥è¯¢æ˜¯å¦å­˜åœ¨ä¸€æ¡é¡¶ç‚¹aåˆ°bçš„è¾¹, å°±è¦éå†é¡¶ç‚¹açš„é“¾è¡¨<br>
ä¸ºäº†æé«˜æŸ¥æ‰¾æ•ˆç‡, è¿™é‡Œçš„é“¾è¡¨ä¹Ÿå¯æ¢æˆå…¶ä»–æ›´é«˜æ•ˆçš„æ•°æ®ç»“æ„, æ¯”å¦‚å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘, è·³è¡¨, æ•£åˆ—è¡¨ç­‰</li>
</ol>
<h3 id="æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆ">æ·±åº¦ä¼˜å…ˆå’Œå¹¿åº¦ä¼˜å…ˆ</h3>
<p>æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•å’Œå¹¿åº¦ä¼˜å…ˆæœç´¢ç®—æ³•éƒ½æ˜¯åŸºäºå›¾è¿™ä¸ªæ•°æ®ç»“æ„çš„, å› ä¸ºå›¾çš„è¡¨è¾¾èƒ½åŠ›å¼º, å¤§éƒ¨åˆ†æ¶‰åŠæœç´¢çš„åœºæ™¯, éƒ½å¯ä»¥æŠ½è±¡æˆå›¾<br>
å›¾ä¸Šçš„æœç´¢ç®—æ³•, æœ€ç›´æ¥çš„ç†è§£å°±æ˜¯åœ¨å›¾ä¸­æ‰¾å‡ºä»ä¸€ä¸ªé¡¶ç‚¹å‡ºå‘åˆ°å¦ä¸€ä¸ªé¡¶ç‚¹çš„è·¯å¾„<br>
å…¶ä¸­æœ€ç®€å•æœ€æš´åŠ›çš„ä¸¤ç§æœç´¢å°±æ˜¯, <strong>æ·±åº¦ä¼˜å…ˆæœç´¢</strong>å’Œ<strong>å¹¿åº¦ä¼˜å…ˆæœç´¢</strong></p>
<ol>
<li>å¹¿åº¦ä¼˜å…ˆæœç´¢(BFS)<br>
å…¶å®å°±æ˜¯ä¸€ç§åœ°æ¯¯å¼å±‚å±‚æ¨è¿›çš„æœç´¢ç­–ç•¥, å…ˆæŸ¥æ‰¾ç¦»èµ·å§‹é¡¶ç‚¹æœ€è¿‘çš„, ç„¶åæ˜¯æ¬¡è¿‘çš„, ä¾æ¬¡å¾€å¤–æœç´¢<br>
å¹¿åº¦ä¼˜å…ˆæœç´¢éœ€è¦å€ŸåŠ©é˜Ÿåˆ—æ¥å®ç°<br>
å¹¿åº¦ä¼˜å…ˆæœç´¢æ‰¾å‡ºæ¥çš„æ˜¯æœ€çŸ­è·¯å¾„<br>
ä»£ç ç¤ºä¾‹(todo)</li>
<li>æ·±åº¦ä¼˜å…ˆæœç´¢(DFS)<br>
ç±»ä¼¼èµ°è¿·å®«, åœ¨åˆ†å‰å£éšæ„é€‰æ‹©ä¸€ä¸ªèŠ‚ç‚¹, ç›´åˆ°èµ°ä¸é€šå†å›é€€<br>
æ·±åº¦ä¼˜å…ˆæœç´¢ç”¨çš„æ˜¯ä¸€ç§æ¯”è¾ƒè‘—åçš„ç®—æ³•æ€æƒ³, å›æº¯æ€æƒ³, å€ŸåŠ©æ ˆæ¥å®ç°<br>
æ·±åº¦ä¼˜å…ˆæœç´¢æ‰¾å‡ºæ¥çš„ä¸æ˜¯æœ€çŸ­è·¯å¾„<br>
ä»£ç ç¤ºä¾‹(todo)</li>
</ol>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å›¾</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-å­—ç¬¦ä¸²åŒ¹é…</title>
    <url>/2021/03/11/20210311164500/</url>
    <content><![CDATA[<h2 id="å­—ç¬¦ä¸²åŒ¹é…">å­—ç¬¦ä¸²åŒ¹é…</h2>
<h3 id="ç®€ä»‹-v8">ç®€ä»‹</h3>
<p>å­—ç¬¦ä¸²åŒ¹é…éƒ½ä¸é™Œç”Ÿ, ä¾‹å¦‚Javaä¸­çš„indexOf(), Pythonä¸­çš„find(), ä»–ä»¬åº•å±‚å°±æ˜¯ä¾èµ–ä»¥ä¸‹çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•<br>
æˆ‘ä»¬ä»å­—ç¬¦ä¸²Aä¸­æŸ¥æ‰¾å­—ç¬¦ä¸²B, åˆ™Aå°±æ˜¯<strong>ä¸»ä¸²</strong>, Bå°±æ˜¯<strong>æ¨¡å¼ä¸²</strong><br>
å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•å¾ˆå¤š, BFå’ŒRKæ¯”è¾ƒç®€å•, BMå’ŒKMPæ¯”è¾ƒéš¾ä½†æ›´é«˜æ•ˆ, è¿™äº›éƒ½æ˜¯å•æ¨¡å¼ä¸²åŒ¹é…, Trieæ ‘å’ŒACè‡ªåŠ¨æœºå¯ä»¥å¤šæ¨¡å¼ä¸²åŒ¹é…</p>
<h3 id="BFç®—æ³•-Brute-Force">BFç®—æ³•(Brute Force)</h3>
<p>ä¸­æ–‡å«æš´åŠ›åŒ¹é…ç®—æ³•, ä¹Ÿå«æœ´ç´ åŒ¹é…ç®—æ³•, ç®€å•å¥½æ‡‚ä½†æ€§èƒ½ä¸é«˜<br>
ä¾‹å¦‚ä¸»ä¸²Aé•¿åº¦n, æ¨¡å¼ä¸²Bé•¿åº¦m<br>
æ ¸å¿ƒå°±æ˜¯åœ¨ä¸»ä¸²ä¸­, æ£€æŸ¥èµ·å§‹ä½ç½®åˆ†åˆ«æ˜¯0, 1, 2 â€¦ n-m, ä¸”é•¿åº¦ä¸ºmçš„å…¨éƒ¨n-m+1ä¸ªå­ä¸², çœ‹æœ‰æ²¡æœ‰è·Ÿæ¨¡å¼ä¸²åŒ¹é…çš„<br>
æ—¶é—´å¤æ‚åº¦æœ€åæƒ…å†µæ˜¯æ¯æ¬¡å¯¹æ¯”mä¸ªå­—ç¬¦, å¯¹æ¯”n-m+1æ¬¡, ä¸ºO(n*m), çœ‹ä¸Šå»æ—¶é—´å¤æ‚åº¦å¾ˆé«˜, ä½†å®é™…å¼€å‘ä¸­å´æ˜¯ä¸€ä¸ªæ¯”è¾ƒå¸¸ç”¨çš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•<br>
ä¸¤ç‚¹åŸå› </p>
<ul>
<li>å¤§éƒ¨åˆ†æƒ…å†µä¸‹, æ¨¡å¼ä¸²å’Œä¸»ä¸²çš„é•¿åº¦éƒ½ä¸ä¼šå¤ªé•¿, ä¸”å­ä¸²ä¸åŒ¹é…æ—¶ä¸éœ€è¦å¯¹æ¯”mä¸ªå­—ç¬¦, æ‰€ä»¥å®é™…æ‰§è¡Œæ•ˆç‡è¿˜å¯ä»¥</li>
<li>æœ´ç´ å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•æ€æƒ³ç®€å•, ä»£ç å®ç°ä¹Ÿç®€å•, ä¸å®¹æ˜“å‡ºé”™, ç¬¦åˆKISS(Keep it Simple and Stupid)è®¾è®¡åŸåˆ™, åœ¨æ»¡è¶³æ€§èƒ½è¦æ±‚çš„å‰æä¸‹, ç®€å•æ˜¯é¦–é€‰</li>
</ul>
<h3 id="RKç®—æ³•-Rabin-Karp">RKç®—æ³•(Rabin-Karp)</h3>
<p>åå­—ç”±æ¥æ˜¯ä¸¤ä½å‘æ˜è€…Rabinå’ŒKarp, è¿™ä¸ªç®—æ³•ä¹Ÿä¸éš¾, æ˜¯ä¸Šé¢BFç®—æ³•çš„å‡çº§ç‰ˆ<br>
ç®—æ³•æ€è·¯æ˜¯, é€šè¿‡å“ˆå¸Œç®—æ³•å¯¹ä¸»ä¸²ä¸­çš„n-m+1ä¸ªå­ä¸²åˆ†åˆ«æ±‚å“ˆå¸Œå€¼, ç„¶åé€ä¸ªä¸æ¨¡å¼ä¸²çš„å“ˆå¸Œå€¼æ¯”è¾ƒå¤§å°, å› ä¸ºå“ˆå¸Œå€¼æ˜¯ä¸€ä¸ªæ•°å­—, æ‰€ä»¥æ¨¡å¼ä¸²å’Œå­ä¸²æ¯”è¾ƒçš„æ•ˆç‡å°±æé«˜äº†<br>
å…·ä½“å®ç°èµ·æ¥é‡ç‚¹åœ¨å“ˆå¸Œç®—æ³•çš„è®¾è®¡, å‡è®¾è¦åŒ¹é…çš„å­—ç¬¦ä¸²çš„å­—ç¬¦é›†ä¸­åªåŒ…å«kä¸ªå­—ç¬¦, æˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸€ä¸ªkè¿›åˆ¶æ•°æ¥è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸², å†æŠŠè¿™ä¸ªkè¿›åˆ¶æ•°è½¬æˆåè¿›åˆ¶æ•°, ä½œä¸ºå­ä¸²çš„å“ˆå¸Œå€¼<br>
å†ç»†å¤„ä¸è®²äº†, ç”¨åˆ°äº†è‡ªå·±æŸ¥<br>
è¿™ç§å“ˆå¸Œç®—æ³•æœ‰ä¸€ä¸ªç‰¹ç‚¹, åœ¨ä¸»ä¸²ä¸­, ç›¸é‚»ä¸¤ä¸ªå­ä¸²çš„å“ˆå¸Œå€¼çš„è®¡ç®—å…¬å¼æœ‰äº¤é›†, ä½¿ç”¨å‰ä¸€ä¸ªå­ä¸²çš„å“ˆå¸Œå€¼å¯ä»¥å¾ˆå¿«è®¡ç®—å‡ºä¸‹ä¸€ä¸ªå­ä¸²çš„å“ˆå¸Œå€¼<br>
æ—¶é—´å¤æ‚åº¦, è®¡ç®—å­ä¸²å“ˆå¸Œå€¼éƒ¨åˆ†, æ‰«æä¸€éä¸»ä¸²å³å¯, æ‰€ä»¥O(n), æ¨¡å¼ä¸²ä¸å­ä¸²æ¯”è¾ƒçš„æ—¶é—´å¤æ‚åº¦O(1), ä¸€å…±æ¯”è¾ƒn-m+1ä¸ª, æ‰€ä»¥åŒ¹é…éƒ¨åˆ†æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(n), RKç®—æ³•çš„æ•´ä½“æ—¶é—´å¤æ‚åº¦ä¸ºO(n)<br>
å½“æ¨¡å¼ä¸²å¾ˆé•¿æ—¶, ä»¥ä¸Šå“ˆå¸Œç®—æ³•ç»“æœå¯èƒ½ä¼šè¶…è¿‡æ•´å‹æ•°æ®èŒƒå›´, åˆ™å¯ä»¥é€‚å½“å…è®¸æ•£åˆ—å†²çªçš„å‡ºç°, æç«¯æƒ…å†µæ—¶é—´å¤æ‚åº¦ä¼šé€€åŒ–æˆO(n*m), ä½†ä¸€èˆ¬åŸºæœ¬ä¸ä¼šå‡ºç°</p>
<h3 id="BMç®—æ³•-Boyer-Moore">BMç®—æ³•(Boyer-Moore)</h3>
<p>å®ƒæ˜¯ä¸€ç§éå¸¸é«˜æ•ˆçš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•, ä½†åŸç†å¤æ‚, æ¯”è¾ƒéš¾æ‡‚, åœ¨ä¸€äº›æ–‡æœ¬ç¼–è¾‘å™¨ä¸­åº”ç”¨è¾ƒå¤š<br>
æ ¸å¿ƒæ€æƒ³: BFå’ŒRKç®—æ³•éƒ½æ˜¯é‡åˆ°ä¸åŒ¹é…çš„å­—ç¬¦æ—¶å‘åæ»‘åŠ¨ä¸€ä½ç»§ç»­å¯¹æ¯”, BMæ˜¯æ ¹æ®è‡ªå·±çš„è§„åˆ™, ä¸€æ¬¡å‘åæ»‘åŠ¨å¥½å‡ ä½, æ‰€ä»¥æ•ˆç‡å°±æé«˜äº†<br>
å³å½“æ¨¡å¼ä¸²å’Œä¸»ä¸²æŸä¸ªå­—ç¬¦ä¸åŒ¹é…æ—¶, èƒ½å¤Ÿè·³è¿‡ä¸€äº›è‚¯å®šä¸ä¼šåŒ¹é…çš„æƒ…å†µ, å°†æ¨¡å¼ä¸²å¾€åæ»‘åŠ¨å‡ ä½<br>
å…·ä½“åŒ…å«ä¸¤éƒ¨åˆ†:</p>
<ol>
<li><strong>åå­—ç¬¦è§„åˆ™(bad character rule)</strong><br>
åœ¨åŒ¹é…è¿‡ç¨‹ä¸­ä»æ¨¡å¼ä¸²çš„æœ«å°¾å¾€å‰å€’ç€åŒ¹é…, å½“å‘ç°æŸä¸ªå­—ç¬¦æ²¡æ³•åŒ¹é…æ—¶, æŠŠè¿™ä¸ªä¸»ä¸²ä¸­çš„å­—ç¬¦å«åšåå­—ç¬¦<br>
ç„¶åæ‹¿åå­—ç¬¦åœ¨æ¨¡å¼ä¸²ä¸­æŸ¥æ‰¾, è‹¥æ¨¡å¼ä¸²ä¸­ä¸å­˜åœ¨è¿™ä¸ªå­—ç¬¦, åˆ™å¯ä»¥ç›´æ¥å°†æ¨¡å¼ä¸²æ»‘åŠ¨åˆ°è¿™ä¸ªå­—ç¬¦åä¸€ä½å¼€å§‹æ¯”è¾ƒ<br>
è‹¥åå­—ç¬¦åœ¨æ¨¡å¼ä¸²ä¸­å­˜åœ¨, åˆ™æŠŠæ¨¡å¼ä¸²æ»‘åŠ¨åˆ°åå­—ç¬¦å’Œæ¨¡å¼ä¸²çš„æœ€åå‡ºç°åå­—ç¬¦çš„ä½ç½®å¯¹é½, ç„¶åå¼€å§‹æ¯”è¾ƒ<br>
åˆ©ç”¨ä»¥ä¸Šæ“ä½œ, BMç®—æ³•åœ¨æœ€å¥½æƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦éå¸¸ä½, å¯ä»¥é™åˆ°O(n/m), ä½†åªé åå­—ç¬¦è§„åˆ™å¤„ç†ä¸äº†å…¨éƒ¨æƒ…å†µ, æ‰€ä»¥è¿˜éœ€è¦å¥½åç¼€è§„åˆ™(æ›´å¤æ‚)</li>
<li><strong>å¥½åç¼€è§„åˆ™(good suffix shift)</strong><br>
åœ¨åŒ¹é…è¿‡ç¨‹ä¸­å¯èƒ½åä¸‰ä¸ªå­—ç¬¦æ˜¯åŒ¹é…çš„, åˆ°ç¬¬å››ä¸ªå­—ç¬¦ä¸åŒ¹é…äº†, é‚£ä¹ˆåä¸‰ä¸ªå­—ç¬¦å°±æ˜¯å¥½åç¼€è®°åšu<br>
æ‹¿uåœ¨æ¨¡å¼ä¸²ä¸­æŸ¥æ‰¾, å¦‚æœæ‰¾åˆ°äº†ç›¸åŒ¹é…çš„u*, å°±æŠŠæ¨¡å¼ä¸²æ»‘åŠ¨åˆ°uä¸u<em>å¯¹é½<br>
å¦‚æœæ²¡æœ‰ç›¸åŒ¹é…çš„u</em>, ä½†æ¨¡å¼ä¸²çš„å‰ç¼€æœ‰å¯èƒ½å’Œuçš„éƒ¨åˆ†æœ‰é‡åˆ, åˆ™æ»‘åŠ¨åˆ°é‡åˆéƒ¨åˆ†å¯¹é½<br>
ä»¥ä¸Šå°±æ˜¯ä¸¤ä¸ªæœ€é‡è¦çš„è§„åˆ™, åœ¨åŒ¹é…ä¸­é‡åˆ°å­—ç¬¦ä¸åŒ¹é…æ—¶, åˆ†åˆ«è®¡ç®—ä»¥ä¸Šä¸¤ä¸ªè§„åˆ™å‘åæ»‘åŠ¨çš„ä½æ•°, å–ä¸¤ä¸ªæ•°ä¸­æœ€å¤§çš„<br>
ä»£ç å®ç°(todo)</li>
</ol>
<h3 id="KMPç®—æ³•-Knuth-Morris-Pratt">KMPç®—æ³•(Knuth Morris Pratt)</h3>
<p>æœ€çŸ¥åçš„å­—ç¬¦ä¸²åŒ¹é…ç®—æ³•, å‡ºäº†åçš„ä¸å¥½æ‡‚, æ ¹æ®ä¸‰ä½ä½œè€…çš„åå­—æ¥å‘½åçš„(D.E.Knuth, J.H.Morris V.R.Pratt)<br>
æ ¸å¿ƒæ€æƒ³å’ŒBMéå¸¸ç›¸è¿‘, åœ¨æ¨¡å¼ä¸²ä¸ä¸»ä¸²åŒ¹é…çš„è¿‡ç¨‹ä¸­, å½“é‡åˆ°ä¸å¯åŒ¹é…çš„å­—ç¬¦æ—¶, æ‰¾åˆ°ä¸€äº›è§„å¾‹å°†æ¨¡å¼ä¸²å¾€åå¤šæ»‘åŠ¨å‡ ä½, è·³è¿‡è‚¯å®šä¸ä¼šåŒ¹é…çš„æƒ…å†µ<br>
ä¸èƒ½åŒ¹é…çš„é‚£ä¸ªå­—ç¬¦ä¾æ—§å«åå­—ç¬¦, å·²ç»åŒ¹é…çš„å‰é¢é‚£æ®µå­—ç¬¦ä¸²å«ä½œå¥½å‰ç¼€, å½“é‡åˆ°åå­—ç¬¦, å‘åæ»‘åŠ¨æ—¶, å…¶å®å°±æ˜¯æ‹¿<strong>ä¸»ä¸²ä¸­çš„å¥½å‰ç¼€çš„åç¼€å­ä¸²</strong>å’Œ<strong>æ¨¡å¼ä¸²çš„å¥½å‰ç¼€çš„å‰ç¼€å­ä¸²</strong>æ¯”è¾ƒ,è€Œä¸»ä¸²çš„å¥½å‰ç¼€å’Œæ¨¡å¼ä¸²çš„å¥½å‰ç¼€æ˜¯ç­‰ä»·çš„, è¯´ç™½äº†å°±æ˜¯æ‹¿å¥½å‰ç¼€æœ¬èº«, ç”¨å®ƒè‡ªå·±çš„åç¼€å­ä¸²å’Œå‰ç¼€å­ä¸²æ¯”è¾ƒ, æŸ¥æ‰¾æœ€é•¿çš„é‚£ä¸ªç›¸ç­‰çš„å­ä¸², åˆ™è¿™ä¸ªå­ä¸², åœ¨å‰ç¼€é‡Œå«æœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸², åœ¨åç¼€é‡Œå«æœ€é•¿å¯åŒ¹é…åç¼€å­ä¸²<br>
è€Œå¥½å‰ç¼€å…¶å®å¯ä»¥ä¸æ¶‰åŠåˆ°ä¸»ä¸², å•ç”¨æ¨¡å¼ä¸²å°±èƒ½è§£å†³, æ‰€ä»¥å¯ä»¥è¿›è¡Œé¢„å¤„ç†, åœ¨åŒ¹é…è¿‡ç¨‹ä¸­ç›´æ¥è°ƒç”¨<br>
æ­¤å¤„æå‰æ„é€ ä¸€ä¸ªæ•°ç»„å«next, ä¹Ÿå«å¤±æ•ˆå‡½æ•°, ç”¨æ¥å­˜å‚¨æ¨¡å¼ä¸²ä¸­æ¯ä¸ªå¥½å‰ç¼€çš„ç¬¦åˆä¸Šé¢æ¡ä»¶çš„æœ€é•¿çš„å¯åŒ¹é…å‰ç¼€å­ä¸²çš„æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡<br>
æ‰€ä»¥nextæ•°ç»„ä¸‹æ ‡å°±ç­‰äºæ¯ä¸ªå‰ç¼€æœ€åä¸€ä¸ªå­—ç¬¦çš„ä¸‹æ ‡, ä¹Ÿå°±æ˜¯å¥½å‰ç¼€çš„é•¿åº¦å‡ä¸€, æ•°ç»„çš„å€¼å°±æ˜¯ä¸Šé¢è¿™ä¸ªæœ€é•¿å¯åŒ¹é…å‰ç¼€å­ä¸²ç»“å°¾å­—ç¬¦ä¸‹æ ‡<br>
è€ŒKMPæœ€å¤æ‚çš„éƒ¨åˆ†, å°±æ˜¯nextæ•°ç»„çš„é¢„å¤„ç†, ä¸è¿‡nextæ•°ç»„é‡Œå‰ä¸€ä¸ªå…ƒç´ å’Œåä¸€ä¸ªå…ƒç´ æ˜¯æœ‰è”ç³»çš„, å¯ä»¥å¿«é€Ÿæ¨å¯¼å‡ºæ¥, å…·ä½“çœ‹<a href="https://github.com/WangDanpeng/Vamos/blob/main/src/main/scala/wdp/string/kmp.scala#L42" target="_blank" rel="noopener">ä»£ç ç¤ºä¾‹åŠæ³¨é‡Š</a><br>
ç©ºé—´å¤æ‚åº¦O(m), mä¸ºæ¨¡å¼ä¸²é•¿åº¦, æ—¶é—´å¤æ‚åº¦O(n+m)</p>
<h3 id="Trieæ ‘">Trieæ ‘</h3>
<p>ä¸€ä¸ªä¸“é—¨å¤„ç†å­—ç¬¦ä¸²åŒ¹é…çš„æ ‘å½¢æ•°æ®ç»“æ„, ç”¨æ¥è§£å†³åœ¨ä¸€ç»„å­—ç¬¦ä¸²é›†åˆä¸­å¿«é€ŸæŸ¥æ‰¾æŸä¸ªå­—ç¬¦ä¸²çš„é—®é¢˜<br>
Trieæ ‘çš„æœ¬è´¨, å°±æ˜¯åˆ©ç”¨å­—ç¬¦ä¸²ä¹‹é—´çš„å…¬å…±å‰ç¼€, å°†é‡å¤çš„å‰ç¼€åˆå¹¶åœ¨ä¸€èµ·, æ„é€ æˆä¸€é¢—å¤šå‰æ ‘, æ ¹èŠ‚ç‚¹ä¸å­˜ä¿¡æ¯, çº¢è‰²èŠ‚ç‚¹è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„ç»“å°¾<br>
Trieæ•°ä¸»è¦æœ‰ä¸¤ä¸ªæ“ä½œ, æŠŠå­—ç¬¦ä¸²é›†æ„é€ æˆTrieæ ‘å’Œåœ¨Trieæ ‘ä¸­æŸ¥è¯¢ä¸€ä¸ªå­—ç¬¦ä¸²<br>
å­˜å‚¨çš„è¯, ç®€å•ç‚¹å¯ä»¥ç”¨æ¯ä¸ªèŠ‚ç‚¹ä¸€ä¸ªæ•°ç»„, å› ä¸ºæ˜¯å¤šå‰æ ‘, å¯èƒ½æœ‰å¾ˆå¤šå­èŠ‚ç‚¹, å¯¹åº”åˆ°æ•°ç»„é‡Œçš„ä¸åŒå…ƒç´ <br>
ä½†Trieæ ‘æ¯”è¾ƒè€—å†…å­˜, ç”¨çš„æ˜¯ç©ºé—´æ¢æ—¶é—´çš„æ€è·¯, ä½†ç¡®å®éå¸¸é«˜æ•ˆ, è€Œå¯¹äºæµªè´¹å†…å­˜çš„é—®é¢˜, å¯ä»¥ç”¨æœ‰åºæ•°ç»„, è·³è¡¨, æ•£åˆ—è¡¨, çº¢é»‘æ ‘ç­‰ä»£æ›¿æ•°ç»„, ç‰ºç‰²ä¸€ç‚¹æŸ¥è¯¢æ•ˆç‡<br>
Trieæ ‘ä¸é€‚åˆç²¾ç¡®åŒ¹é…æŸ¥æ‰¾, æ›´é€‚åˆæŸ¥æ‰¾å‰ç¼€åŒ¹é…çš„å­—ç¬¦ä¸², æ¯”å¦‚å„ç§è‡ªåŠ¨è¡¥å…¨, æ¯”å¦‚è¾“å…¥æ³•çš„è”æƒ³è¾“å…¥, IDEçš„è‡ªåŠ¨è¡¥å…¨, æµè§ˆå™¨æœç´¢çš„è‡ªåŠ¨è¡¥å…¨ç­‰</p>
<h3 id="ACè‡ªåŠ¨æœº-Aho-Corasick">ACè‡ªåŠ¨æœº(Aho-Corasick)</h3>
<p>ACè‡ªåŠ¨æœºå®é™…ä¸Šå°±æ˜¯åœ¨Trieæ ‘ä¸ŠåŠ äº†ç±»ä¼¼KMPç®—æ³•é‡Œçš„nextæ•°ç»„, æŠŠnextæ•°ç»„æ„å»ºåœ¨äº†æ ‘ä¸Š, å³å¤±è´¥æŒ‡é’ˆ<br>
ACè‡ªåŠ¨æœºå¯ç”¨äºå®ç°é«˜æ•ˆçš„æ•æ„Ÿè¯è¿‡æ»¤ç³»ç»Ÿ, æ—¶é—´å¤æ‚åº¦å¯è¿‘ä¼¼äºO(n), æ€§èƒ½éå¸¸é«˜<br>
ACè‡ªåŠ¨æœºçš„æ„å»ºåŒ…å«ä¸¤ä¸ªæ“ä½œ</p>
<ul>
<li>æŠŠå¤šä¸ªæ¨¡å¼ä¸²æ„å»ºæˆTrieæ ‘</li>
<li>åœ¨Trieæ ‘ä¸Šæ„å»ºå¤±è´¥æŒ‡é’ˆ(å…·ä½“åŸç†å’Œnextæ•°ç»„ååˆ†ç›¸ä¼¼)<br>
ç®€å•äº†è§£, å…·ä½“å®ç°çœ‹ä»£ç ç¤ºä¾‹(todo)</li>
</ul>
<h3 id="æ€»ç»“-v3">æ€»ç»“</h3>
<ul>
<li>BFç®—æ³•, ç®€å•æ˜“æ‡‚, åœºæ™¯ç®€å•çš„æƒ…å†µä¸‹æ¨èä½¿ç”¨</li>
<li>RKç®—æ³•, é€‚ç”¨äºå­—ç¬¦é›†èŒƒå›´ä¸å¤§, æ¨¡å¼ä¸²ä¸å¤ªé•¿çš„æƒ…å†µ</li>
<li>BMç®—æ³•, å®ç°è¾ƒå¤æ‚, æ€§èƒ½å¥½, ç¼–è¾‘å™¨ä¸­å­—ç¬¦ä¸²æŸ¥æ‰¾åº”ç”¨è¾ƒå¤š, æ®è¯´æœ€é«˜æ•ˆæœ€å¸¸ç”¨</li>
<li>KMPç®—æ³•, æœ€çŸ¥å, ä¹Ÿå¾ˆå¤æ‚, å’ŒBMç®—æ³•ç±»ä¼¼, æ›´ç¨³å®š</li>
<li>Trieæ ‘, å› ä¸ºæ ‘çŠ¶ç»“æ„, é€‚ç”¨äºå…¬å…±å‰ç¼€è¾ƒå¤šåœºæ™¯, æ¯”å¦‚è‡ªåŠ¨è¡¥å…¨, æµè§ˆå™¨é¢„æµ‹è¾“å…¥ç­‰</li>
<li>ACè‡ªåŠ¨æœº, èƒ½åšåˆ°å¤§é‡æ–‡æœ¬ä¸­å¤šæ¨¡å¼ç²¾ç¡®åŒ¹é…, é€‚ç”¨äºæ•æ„Ÿè¯è¿‡æ»¤ç­‰</li>
</ul>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>å­—ç¬¦ä¸²</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-å¸¸è§ç®—æ³•æ€æƒ³ </title>
    <url>/2021/07/30/20210730193440/</url>
    <content><![CDATA[<h3 id="ç®€ä»‹-v9">ç®€ä»‹</h3>
<p>å‡ ç§å¸¸è§çš„ç®—æ³•æ€æƒ³, ç”¨æ¥æŒ‡å¯¼æˆ‘ä»¬è®¾è®¡å…·ä½“çš„ç®—æ³•å’Œç¼–ç , æœ‰<br>
è´ªå¿ƒç®—æ³•, åˆ†æ²»ç®—æ³•, å›æº¯ç®—æ³•, åŠ¨æ€è§„åˆ’</p>
<h3 id="è´ªå¿ƒç®—æ³•-greedy-algorithm">è´ªå¿ƒç®—æ³•(greedy algorithm)</h3>
<p>ç»å…¸åº”ç”¨, éœå¤«æ›¼ç¼–ç , Primå’ŒKruskalæœ€å°ç”Ÿæˆæ ‘ç®—æ³•, Dijkstraå•æºæœ€çŸ­è·¯å¾„ç®—æ³•<br>
ç»å…¸é—®é¢˜, èƒŒåŒ…é—®é¢˜, å›ºå®šå®¹é‡ä¸‹, è®©èƒŒåŒ…é‡Œè£…çš„ç‰©å“æ€»ä»·å€¼æœ€å¤§, è´ªå¿ƒç®—æ³•ç”¨æ³•åˆ™æ˜¯è®¡ç®—ç‰©å“å•ä»·, å•ä»·ä»é«˜åˆ°ä½ä¾æ¬¡æ”¾å…¥åŒ…ä¸­<br>
ä½¿ç”¨è´ªå¿ƒç®—æ³•è§£å†³é—®é¢˜çš„æ­¥éª¤</p>
<ul>
<li>ç¬¬ä¸€æ­¥, çœ‹åˆ°è¿™ç±»é—®é¢˜, é¦–å…ˆè”æƒ³åˆ°è´ªå¿ƒç®—æ³•</li>
<li>å°è¯•çœ‹ä¸‹è¿™ä¸ªé—®é¢˜æ˜¯å¦èƒ½ç”¨è´ªå¿ƒç®—æ³•è§£å†³</li>
<li>ä¸¾ä¾‹çœ‹ä¸‹è´ªå¿ƒç®—æ³•äº§ç”Ÿçš„ç»“æœæ˜¯å¦æ˜¯æœ€ä¼˜è§£<br>
å¤§éƒ¨åˆ†èƒ½ç”¨è´ªå¿ƒç®—æ³•çš„é—®é¢˜, ç»“æœéƒ½æ˜¯æ­£ç¡®çš„, ä½†ä¹Ÿæœ‰è§£å†³ä¸æ‰çš„é—®é¢˜, æ¯”å¦‚å‰é¢çš„é€‰æ‹©ä¼šå½±å“åé¢çš„é€‰æ‹©, å±€éƒ¨æœ€ä¼˜æœªå¿…å…¨å±€æœ€ä¼˜<br>
ç±»ä¼¼èƒ½ç”¨è´ªå¿ƒç®—æ³•è§£å†³çš„é—®é¢˜, åˆ†ç³–æœ, é’±å¸æ‰¾é›¶, åŒºé—´è¦†ç›–ç­‰<br>
è´ªå¿ƒç®—æ³•æœ€éš¾çš„æ˜¯å¦‚ä½•å°†è¦è§£å†³çš„é—®é¢˜æŠ½è±¡æˆè´ªå¿ƒç®—æ³•æ¨¡å‹, åç»­çš„ç¼–ç ä¸€èˆ¬éƒ½å¾ˆç®€å•<br>
è´ªå¿ƒç®—æ³•è§£å†³é—®é¢˜çš„æ­£ç¡®æ€§è™½ç„¶å¾ˆå¤šæ—¶å€™éƒ½å¾ˆé«˜, ä½†è¦ä¸¥è°¨çš„è¯æ˜ç®—æ³•èƒ½å¾—åˆ°æœ€ä¼˜è§£, å¹¶ä¸å®¹æ˜“</li>
</ul>
<h3 id="åˆ†æ²»ç®—æ³•">åˆ†æ²»ç®—æ³•</h3>
<p>åˆ†æ²»ç®—æ³•æ ¸å¿ƒæ€æƒ³å°±æ˜¯å››ä¸ªå­—, åˆ†è€Œæ²»ä¹‹, å°†åŸé—®é¢˜åˆ’åˆ†ä¸ºnä¸ªè§„æ¨¡è¾ƒå°, å¹¶ä¸”ç»“æ„ä¸åŸé—®é¢˜ç›¸ä¼¼çš„å­é—®é¢˜, é€’å½’çš„è§£å†³è¿™äº›å­é—®é¢˜, ç„¶åå†åˆå¹¶å…¶ç»“æœ, å°±å¾—åˆ°åŸé—®é¢˜çš„è§£<br>
æœ‰ç‚¹ç±»ä¼¼é€’å½’, åˆ†æ²»ç®—æ³•æ˜¯ä¸€ç§å¤„ç†é—®é¢˜çš„æ€æƒ³, é€’å½’æ˜¯ä¸€ç§ç¼–ç¨‹æŠ€å·§, åˆ†æ²»ç®—æ³•ä¸€èˆ¬éƒ½æ¯”è¾ƒé€‚åˆç”¨é€’å½’æ¥å®ç°<br>
åˆ†æ²»ç®—æ³•èƒ½è§£å†³çš„é—®é¢˜, ä¸€èˆ¬éœ€è¦æ»¡è¶³ä¸‹é¢å‡ ä¸ªæ¡ä»¶</p>
<ul>
<li>åŸé—®é¢˜ä¸åˆ†è§£æˆçš„å°é—®é¢˜å…·æœ‰ç›¸åŒçš„æ¨¡å¼</li>
<li>åŸé—®é¢˜åˆ†è§£æˆçš„å­é—®é¢˜å¯ä»¥ç‹¬ç«‹æ±‚è§£, å­é—®é¢˜ä¹‹å‰æ²¡æœ‰ç›¸å…³æ€§(å’ŒåŠ¨æ€è§„åˆ’çš„æ˜æ˜¾åŒºåˆ«)</li>
<li>å…·æœ‰åˆ†è§£ç»ˆæ­¢æ¡ä»¶, å½“é—®é¢˜è¶³å¤Ÿå°æ—¶, å¯ä»¥ç›´æ¥æ±‚è§£</li>
<li>å¯ä»¥å°†å­é—®é¢˜åˆå¹¶æˆåŸé—®é¢˜, ä¸”åˆå¹¶æ“ä½œå¤æ‚åº¦ä¸å¤ªé«˜, å¦åˆ™èµ·ä¸åˆ°å‡å°ç®—æ³•æ€»ä½“å¤æ‚åº¦çš„æ•ˆæœ<br>
åˆ†æ²»ç®—æ³•ä¸¤ç§å…¸å‹çš„åº”ç”¨åœºæ™¯</li>
<li>ç”¨æ¥æŒ‡å¯¼ç¼–ç , é™ä½é—®é¢˜æ±‚è§£çš„æ—¶é—´å¤æ‚åº¦</li>
<li>è§£å†³æµ·é‡æ•°æ®å¤„ç†é—®é¢˜, æ¯”å¦‚MapReduce</li>
</ul>
<h3 id="å›æº¯ç®—æ³•">å›æº¯ç®—æ³•</h3>
<p>ä¹‹å‰çš„æ·±åº¦ä¼˜å…ˆæœç´¢ç®—æ³•åˆ©ç”¨çš„å°±æ˜¯å›æº¯æ€æƒ³, è¿™ä¸ªç®—æ³•æ€æƒ³ç®€å•å´åº”ç”¨å¹¿æ³›<br>
æ¯”å¦‚æ­£åˆ™è¡¨è¾¾å¼, ç¼–è¯‘åŸç†ä¸­çš„è¯­æ³•åˆ†æ, å¾ˆå¤šç»å…¸æ•°å­¦é—®é¢˜æ¯”å¦‚æ•°ç‹¬, å…«çš‡å, 0-1èƒŒåŒ…, å›¾çš„ç€è‰², æ—…è¡Œå•†é—®é¢˜, å…¨æ’åˆ—ç­‰ç­‰<br>
å›æº¯çš„å¤„ç†æ€æƒ³æœ‰ç‚¹ç±»ä¼¼æšä¸¾æœç´¢, æšä¸¾å‡ºæ‰€æœ‰çš„è§£, ç„¶åæ‰¾åˆ°æ»¡è¶³æœŸæœ›çš„è§£, ä¸ºäº†æšä¸¾æ‰€æœ‰å¯èƒ½çš„è§£, é¿å…é—æ¼å’Œé‡å¤, æˆ‘ä»¬æŠŠé—®é¢˜æ±‚è§£çš„è¿‡ç¨‹åˆ†ä¸ºå¤šä¸ªé˜¶æ®µ<br>
æ¯ä¸ªé˜¶æ®µé¢å¯¹ä¸€ä¸ªå²”è·¯å£, å…ˆéšæ„é€‰ä¸€æ¡è·¯èµ°, å½“å‘ç°è¿™æ¡è·¯èµ°ä¸é€š, å°±é€€å›ä¸Šä¸€ä¸ªå²”è·¯å£, é€‰å¦ä¸€ç§èµ°æ³•ç»§ç»­èµ°<br>
ç¤ºä¾‹: å…«çš‡åé—®é¢˜(todo), 0-1èƒŒåŒ…(todo)<br>
å¤§éƒ¨åˆ†æƒ…å†µä¸‹, å›æº¯ç®—æ³•éƒ½å¯ä»¥ç”¨æ¥è§£å†³å¹¿ä¹‰çš„æœç´¢é—®é¢˜, å³ä»ä¸€ç»„å¯èƒ½çš„è§£ä¸­, é€‰æ‹©ä¸€ä¸ªæ»¡è¶³è¦æ±‚çš„è§£<br>
å›æº¯ç®—æ³•éå¸¸é€‚åˆç”¨é€’å½’æ¥å®ç°, åœ¨å®ç°çš„è¿‡ç¨‹ä¸­, å‰ªææ“ä½œæ˜¯æé«˜å›æº¯æ•ˆç‡çš„ä¸€ç§æŠ€å·§</p>
<h3 id="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</h3>
<p><a href="http://www.wangdanpeng.com/2021/07/30/20210730193020/">å•å¼€ä¸€ç¯‡æ–‡ç« </a></p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-å †å’Œå †æ’åº</title>
    <url>/2021/03/02/20210302192117/</url>
    <content><![CDATA[<h2 id="å †å’Œå †æ’åº">å †å’Œå †æ’åº</h2>
<h3 id="ç®€ä»‹-v10">ç®€ä»‹</h3>
<p>å †, æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘<br>
ç»å…¸çš„åº”ç”¨åœºæ™¯, å †æ’åº, åŸåœ°çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn)çš„æ’åºç®—æ³•<br>
å †çš„ä¸¤ç‚¹å®šä¹‰:</p>
<ul>
<li>å †æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘</li>
<li>å †ä¸­æ¯ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¿…é¡»å¤§äºç­‰äº/å°äºç­‰äºå…¶å­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„å€¼</li>
</ul>
<p>æ¯ä¸ªèŠ‚ç‚¹çš„å€¼éƒ½å¤§äºç­‰äºå­æ ‘ä¸­æ¯ä¸ªèŠ‚ç‚¹å€¼çš„å †å«åšå¤§é¡¶å †, åä¹‹å«åšå°é¡¶å †</p>
<h3 id="å®ç°ä¸€ä¸ªå †">å®ç°ä¸€ä¸ªå †</h3>
<p>ä¹‹å‰è¯´è¿‡å®Œå…¨äºŒå‰æ ‘é€‚åˆç”¨æ•°ç»„å­˜å‚¨, æ‰€ä»¥å †ä¹Ÿç”¨æ•°ç»„å­˜å‚¨<br>
å †çš„æ ¸å¿ƒæ“ä½œæœ‰<strong>æ’å…¥å…ƒç´ </strong>å’Œ<strong>åˆ é™¤å †é¡¶å…ƒç´ </strong>, ä»¥å¤§é¡¶å †ä¸ºä¾‹</p>
<ol>
<li>æ’å…¥å…ƒç´ (todo)<br>
æŠŠæ–°æ’å…¥çš„å…ƒç´ æ”¾åˆ°å †çš„æœ€å, å¹¶è¿›è¡Œè°ƒæ•´ä½¿å…¶é‡æ–°æ»¡è¶³å †çš„ç‰¹æ€§çš„è¿‡ç¨‹, å«<strong>å †åŒ–(heapify)</strong><br>
å †åŒ–æœ‰ä¸¤ç§, ä»ä¸‹å¾€ä¸Šå’Œä»ä¸Šå¾€ä¸‹<br>
å †åŒ–éå¸¸ç®€å•, å°±æ˜¯é¡ºç€èŠ‚ç‚¹æ‰€åœ¨è·¯å¾„, å‘ä¸Šæˆ–è€…å‘ä¸‹, å¯¹æ¯”, ç„¶åäº¤æ¢</li>
<li>åˆ é™¤å †é¡¶å…ƒç´ (todo)<br>
ä¸ºä¿è¯åˆ é™¤å®Œè¿˜æ˜¯ä¸€ä¸ªå®Œå…¨äºŒå‰æ ‘, æŠŠæœ€åä¸€ä¸ªèŠ‚ç‚¹æ”¾åˆ°å †é¡¶,<br>
ç„¶ååˆ©ç”¨åŒæ ·çš„çˆ¶å­èŠ‚ç‚¹å¯¹æ¯”æ³•, å¯¹ä¸æ»¡è¶³çˆ¶å­èŠ‚ç‚¹å¤§å°å…³ç³»çš„äº’æ¢ä¸¤ä¸ªèŠ‚ç‚¹, ç›´åˆ°çˆ¶å­èŠ‚ç‚¹æ»¡è¶³å¤§å°å…³ç³»ä¸ºæ­¢, è¿™å°±æ˜¯ä»ä¸Šå¾€ä¸‹çš„å †åŒ–</li>
</ol>
<p>ä¸€ä¸ªåŒ…å«nä¸ªèŠ‚ç‚¹çš„å®Œå…¨äºŒå‰æ ‘, æ ‘çš„é«˜åº¦ä¸ä¼šè¶…è¿‡logn, å †åŒ–çš„è¿‡ç¨‹æ˜¯é¡ºç€èŠ‚ç‚¹æ‰€åœ¨è·¯å¾„æ¯”è¾ƒäº¤æ¢, æ‰€ä»¥å †åŒ–çš„æ—¶é—´å¤æ‚åº¦è·Ÿæ ‘çš„é«˜åº¦æˆæ­£æ¯”, ä¹Ÿå°±æ˜¯O(logn)<br>
æ’å…¥æ•°æ®å’Œåˆ é™¤å †é¡¶å…ƒç´ çš„ä¸»è¦é€»è¾‘å°±æ˜¯å †åŒ–, æ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(logn)</p>
<h3 id="å †æ’åº">å †æ’åº</h3>
<p>å€ŸåŠ©å †è¿™ç§æ•°æ®ç»“æ„å®ç°çš„æ’åºç®—æ³•, å«åšå †æ’åº<br>
æ—¶é—´å¤æ‚åº¦éå¸¸ç¨³å®š, æ˜¯O(nlogn), å¹¶ä¸”æ˜¯åŸåœ°æ’åº<br>
å †æ’åºçš„è¿‡ç¨‹å¤§è‡´åˆ†ä¸ºä¸¤ä¸ªå¤§æ­¥éª¤, <strong>å»ºå †</strong>å’Œ<strong>æ’åº</strong></p>
<ol>
<li>å»ºå †<br>
å»ºå †æœ‰ä¸¤ç§æ€è·¯:<br>
ç¬¬ä¸€ç§, å€ŸåŠ©æ’å…¥å…ƒç´ çš„æ€è·¯, ä»ä¸‹æ ‡2å¼€å§‹ä¾æ¬¡æ’å…¥åˆ°å †ä¸­, ä»å‰å¾€åå¤„ç†æ•°æ®, æ¯ä¸ªæ•°æ®ä»ä¸‹å¾€ä¸Šå †åŒ–, ä»£ç ç¤ºä¾‹(todo)<br>
ç¬¬äºŒç§, å’Œç¬¬ä¸€ç§ç›¸å, ä»åå¾€å‰å¤„ç†æ•°ç»„, æ¯ä¸ªæ•°æ®ä»ä¸Šå¾€ä¸‹å †åŒ–, ä»£ç ç¤ºä¾‹(todo)</li>
<li>æ’åº<br>
å»ºå †ç»“æŸå, æ•°ç»„ä¸­çš„æ•°æ®å·²ç»æ˜¯æŒ‰ç…§å¤§é¡¶å †çš„ç‰¹æ€§æ¥ç»„ç»‡çš„, ç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯å †é¡¶, ä¹Ÿæ˜¯æœ€å¤§çš„å…ƒç´ <br>
ç„¶åé‡‡ç”¨ç±»ä¼¼åˆ é™¤å †é¡¶å…ƒç´ çš„æ“ä½œ, æŠŠå †é¡¶å…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ äº¤æ¢, å†å †åŒ–å‰©ä¸‹n-1ä¸ªå…ƒç´ , ç„¶åé‡å¤äº¤æ¢, å †åŒ–, äº¤æ¢, å †åŒ–â€¦<br>
ç›´åˆ°æœ€åå †ä¸­åªå‰©ä¸‹ä¸€ä¸ªå…ƒç´ , æ’åºå·¥ä½œå°±å®Œæˆäº†, ä»£ç ç¤ºä¾‹(todo)</li>
</ol>
<p>æ•´ä¸ªæ’åºè¿‡ç¨‹ä¸­, åªéœ€è¦æä¸ªåˆ«ä¸´æ—¶å­˜å‚¨ç©ºé—´, æ‰€ä»¥å †æ’åºæ˜¯åŸåœ°æ’åºç®—æ³•<br>
å †æ’åºåŒ…æ‹¬å»ºå †å’Œæ’åºä¸¤ä¸ªæ“ä½œ, å»ºå †è¿‡ç¨‹æ—¶é—´å¤æ‚åº¦O(n), æ’åºè¿‡ç¨‹æ—¶é—´å¤æ‚åº¦O(nlogn), æ‰€ä»¥å †æ’åºæ•´ä½“æ—¶é—´å¤æ‚åº¦æ˜¯O(nlogn)<br>
å †æ’åºä¸æ˜¯ç¨³å®šçš„æ’åºç®—æ³•, å› ä¸ºæ’åºè¿‡ç¨‹ä¸­å­˜åœ¨æœ€åèŠ‚ç‚¹å’Œå †é¡¶èŠ‚ç‚¹äº¤æ¢æ“ä½œ, å¯èƒ½ä¼šæ”¹å˜ç›¸åŒå€¼çš„é¡ºåº</p>
<h3 id="å †æ’åºå’Œå¿«æ’">å †æ’åºå’Œå¿«æ’</h3>
<p>ä¸ºä»€ä¹ˆå¿«æ’æ¯”å †æ’åºæ€§èƒ½å¥½</p>
<ol>
<li>å †æ’åºæ•°æ®è®¿é—®æ–¹å¼æ˜¯è·³ç€è®¿é—®, å¯¹cpuç¼“å­˜ä¸å‹å¥½, å¿«æ’æ•°æ®æ˜¯é¡ºåºè®¿é—®</li>
<li>å¯¹äºåŒæ ·æ•°æ®, å †æ’åºçš„æ•°æ®äº¤æ¢æ¬¡æ•°æ¯”å¿«æ’å¤š, å»ºå †ä¼šæ‰“ä¹±æ•°æ®åŸæœ‰ç›¸å¯¹é¡ºåº</li>
</ol>
<h3 id="å †çš„åº”ç”¨">å †çš„åº”ç”¨</h3>
<ol>
<li><strong>ä¼˜å…ˆçº§é˜Ÿåˆ—</strong><br>
åœ¨ä¼˜å…ˆçº§é˜Ÿåˆ—ä¸­, ä¼˜å…ˆçº§æœ€é«˜çš„æœ€å…ˆå‡ºé˜Ÿ, ç”¨å †æ¥å®ç°æ˜¯æœ€ç›´æ¥, æœ€é«˜æ•ˆçš„<br>
å¾€ä¼˜å…ˆçº§é˜Ÿåˆ—æ’å…¥å…ƒç´ ç­‰äºå¾€å †ä¸­æ’å…¥ä¸€ä¸ªå…ƒç´ , ä»ä¼˜å…ˆçº§é˜Ÿåˆ—å–å‡ºä¼˜å…ˆçº§æœ€é«˜å…ƒç´ , ç­‰äºå–å‡ºå †é¡¶å…ƒç´ <br>
ä¼˜å…ˆçº§é˜Ÿåˆ—åº”ç”¨åœºæ™¯éå¸¸å¤š, æ¯”å¦‚èµ«å¤«æ›¼ç¼–ç , å›¾çš„æœ€çŸ­è·¯å¾„, æœ€å°ç”Ÿæˆæ ‘ç®—æ³•ç­‰</li>
<li><strong>æ±‚Top K</strong><br>
å¯ä»¥ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸ºkçš„å°é¡¶å †, éå†æ•°æ®, ä¾æ¬¡å’Œå †é¡¶å…ƒç´ æ¯”è¾ƒ, å¦‚æœæ¯”å †é¡¶å…ƒç´ å¤§, å°±æŠŠå †é¡¶å…ƒç´ åˆ é™¤, å°†æ–°å…ƒç´ æ’å…¥å †ä¸­<br>
å¦‚æœæ¯”å †é¡¶å…ƒç´ å°, å°±ä¸ä½œå¤„ç†ç»§ç»­éå†, ç­‰æ•°æ®éå†å®Œ, å †ä¸­å°±æ˜¯å‰kå¤§çš„æ•°æ®</li>
<li><strong>æ±‚ä¸­ä½æ•°</strong><br>
å¯¹äºé™æ€æ•°æ®, ä¸­ä½æ•°æ˜¯å›ºå®šçš„, å¯ä»¥å…ˆæ’åº, ç¬¬n/2ä¸ªæ•°æ®å°±æ˜¯ä¸­ä½æ•°, ä½†å¯¹äºåŠ¨æ€æ•°æ®é›†åˆ, æ¯æ¬¡æ’åºæ•ˆç‡å°±å¾ˆä½<br>
æ‰€ä»¥å€ŸåŠ©å †è¿™ç§æ•°æ®ç»“æ„, ä¸ç”¨æ’åºå°±å¯ä»¥éå¸¸é«˜æ•ˆçš„å®ç°æ±‚ä¸­ä½æ•°æ“ä½œ<br>
æˆ‘ä»¬ç»´æŠ¤ä¸¤ä¸ªå †, å‰åŠéƒ¨åˆ†æ•°æ®å­˜å‚¨ä¸€ä¸ªå¤§é¡¶å †, ååŠéƒ¨åˆ†æ•°æ®å­˜å‚¨ä¸€ä¸ªå°é¡¶å †, ä¸”å°é¡¶å †ä¸­çš„æ•°æ®éƒ½å¤§äºå¤§é¡¶å †ä¸­çš„æ•°æ®<br>
è¿™æ ·, å¤§é¡¶å †çš„å †é¡¶å…ƒç´ å°±æ˜¯æˆ‘ä»¬è¦çš„ä¸­ä½æ•°<br>
æ¯å½“æ–°æ·»åŠ æ•°æ®, å¦‚æœæ•°æ®å°äºç­‰äºå¤§é¡¶å †çš„å †é¡¶, å°±æ’å…¥åˆ°å¤§é¡¶å †, åä¹‹æ’å…¥åˆ°å°é¡¶å †, ä¸”ä»è¿™ä¸ªå †å‘å¦ä¸€ä¸ªå †ç§»åŠ¨æ•°æ®, ç»´æŠ¤ä¸¤ä¸ªå †çš„æ•°æ®ä¸ªæ•°çš„å¹³è¡¡<br>
åŒç†, æ­¤æ–¹æ³•å¯è®¡ç®—å„ä¸ªç™¾åˆ†ä½æ•°æ®, æ¯”å¦‚80ç™¾åˆ†ä½æ•°, 99ç™¾åˆ†ä½æ•°ç­‰</li>
</ol>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>äºŒå‰æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-æ•£åˆ—è¡¨(Hashè¡¨)</title>
    <url>/2020/12/07/20201207185658/</url>
    <content><![CDATA[<h2 id="æ•£åˆ—è¡¨-Hashè¡¨">æ•£åˆ—è¡¨(Hashè¡¨)</h2>
<h3 id="ç®€ä»‹-v11">ç®€ä»‹</h3>
<p>æ•£åˆ—è¡¨ä¾èµ–çš„æ˜¯æ•°ç»„æ”¯æŒæŒ‰ä¸‹æ ‡éšæœºè®¿é—®æ•°æ®çš„ç‰¹æ€§<br>
æ‰€ä»¥æ•£åˆ—è¡¨æ˜¯æ•°ç»„çš„ä¸€ç§æ‰©å±•, ç”±æ•°ç»„æ¼”åŒ–è€Œæ¥, å¦‚æœæ²¡æœ‰æ•°ç»„å°±æ²¡æœ‰æ•£åˆ—è¡¨<br>
æ—¶é—´å¤æ‚åº¦O(1), é€šè¿‡æ•£åˆ—å‡½æ•°æŠŠå…ƒç´ çš„keyæ˜ å°„ä¸ºä¸‹æ ‡, å°†æ•°æ®å­˜å‚¨åœ¨æ•°ç»„ä¸­å¯¹åº”ä¸‹æ ‡çš„ä½ç½®<br>
å½“æŒ‰keyæŸ¥è¯¢å…ƒç´ æ—¶, ç”¨åŒæ ·çš„æ•£åˆ—å‡½æ•°, å°†keyè½¬åŒ–ä¸ºä¸‹æ ‡, ä»å¯¹åº”çš„æ•°ç»„ä¸‹æ ‡ä½ç½®å–æ•°æ®</p>
<h3 id="è®¾è®¡æ•£åˆ—è¡¨">è®¾è®¡æ•£åˆ—è¡¨</h3>
<p>è¦å¯ä»¥åº”å¯¹å„ç§å¼‚å¸¸æƒ…å†µçš„å·¥ä¸šçº§</p>
<ol>
<li>æ•£åˆ—å‡½æ•°çš„è®¾è®¡ä¸èƒ½å¤ªå¤æ‚<br>
æ•£åˆ—å‡½æ•°è®¾è®¡çš„å¥½åç›´æ¥å†³å®šæ•£åˆ—è¡¨çš„æ€§èƒ½<br>
æ•£åˆ—å‡½æ•°ç”Ÿæˆçš„å€¼è¦å°½å¯èƒ½éšæœºä¸”å‡åŒ€åˆ†å¸ƒ<br>
æ•£åˆ—å‡½æ•°è®¡ç®—ç»“æœæ˜¯éè´Ÿæ•´æ•°, å› ä¸ºæ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹<br>
å¦‚æœkey1 = key2, é‚£ä¹ˆhash(key1)=hash(key2)</li>
<li>é€‰æ‹©è§£å†³å†²çªçš„åŠæ³•<br>
å†å¥½çš„æ•£åˆ—å‡½æ•°ä¹Ÿæ— æ³•é¿å…æ•£åˆ—å†²çª, æ‰€ä»¥å¸¸ç”¨çš„è§£å†³å†²çªæ–¹æ³•æœ‰ä¸¤ç±»<br>
(1)å¼€æ”¾å¯»å€æ³•<br>
æ ¸å¿ƒæ€æƒ³å°±æ˜¯, å¦‚æœå‡ºç°äº†æ•£åˆ—å†²çª, å°±é‡æ–°æ¢æµ‹ä¸€ä¸ªç©ºé—²ä½ç½®, é‚£ä¹ˆå¦‚ä½•æ¢æµ‹<br>
çº¿æ€§æ¢æµ‹, å½“å‰ä½ç½®è¢«å ç”¨, å°±ä¾æ¬¡å‘åæŸ¥æ‰¾, ç›´åˆ°æ‰¾åˆ°ä¸ºæ­¢<br>
äºŒæ¬¡æ¢æµ‹, ç±»ä¼¼çº¿æ€§æ¢æµ‹, ä¸è¿‡æ­¥é•¿æ¯æ¬¡ç§»åŸæ¥çš„äºŒæ¬¡æ–¹<br>
åŒé‡æ•£åˆ—, ä½¿ç”¨ä¸€ç»„æ•£åˆ—å‡½æ•°, ä¸€ä¸ªä½ç½®è¢«å ç”¨, å†ä½¿ç”¨ç¬¬äºŒä¸ªæ•£åˆ—å‡½æ•°, ç›´åˆ°æ‰¾åˆ°ç©ºé—²ä½ç½®<br>
ä½†é—®é¢˜æ˜¯, å½“æ•£åˆ—è¡¨ä¸­ç©ºé—²ä½ç½®è¶Šå°‘, å†²çªæ¦‚ç‡å°±è¶Šå¤§, ä¸ºä¿è¯æ•ˆç‡, ä¸€èˆ¬ä¼šä¿è¯æ•£åˆ—è¡¨ä¸­æœ‰ä¸€å®šæ¯”ä¾‹çš„ç©ºé—²ä½ç½®, ç”¨è£…è½½å› å­(å¡«å…¥å…ƒç´ ä¸ªæ•°/æ•£åˆ—è¡¨é•¿åº¦)æ¥è¡¨ç¤º<br>
å½“æ•°æ®é‡å°, è£…è½½å› å­å°çš„æ—¶å€™é€‚åˆ<br>
(2)é“¾è¡¨æ³•<br>
æ›´å¸¸ç”¨çš„è§£å†³å†²çªåŠæ³•, è€Œä¸”ç®€å•<br>
æ•°ç»„æ¯ä¸ªä¸‹æ ‡é‡Œå¯¹åº”ä¸€æ¡é“¾è¡¨, æ’å…¥å…ƒç´ æ—¶, é€šè¿‡æ•£åˆ—å‡½æ•°, ç¡®å®šé“¾è¡¨, å°†æ•°æ®æ’å…¥å¯¹åº”çš„é“¾è¡¨ä¸­<br>
æ—¶é—´å¤æ‚åº¦å’Œé“¾è¡¨çš„é•¿åº¦æˆæ­£æ¯”, O(k)<br>
é€‚åˆå­˜å‚¨å¤§å¯¹è±¡, å¤§æ•°æ®é‡çš„æ•£åˆ—è¡¨, æ”¯æŒæ›´å¤šçš„ä¼˜åŒ–ç­–ç•¥, æ¯”å¦‚é“¾è¡¨è¿‡é•¿æ—¶ç”¨çº¢é»‘æ ‘ä»£æ›¿é“¾è¡¨</li>
<li>å®šä¹‰è½¬è½½å› å­é˜ˆå€¼, è®¾è®¡åŠ¨æ€æ‰©å®¹ç­–ç•¥<br>
é¿å…ä½æ•ˆæ‰©å®¹<br>
å½“è£…è½½å› å­è¾¾åˆ°é˜ˆå€¼, ç”³è¯·æ–°çš„ç©ºé—´, æ¯å½“æœ‰æ–°æ•°æ®æ’å…¥, å°†æ–°æ•°æ®æ’å…¥åˆ°æ–°æ•£åˆ—è¡¨, å¹¶ä»è€æ•£åˆ—è¡¨æ‹¿ä¸€ä¸ªæ•°æ®æ’å…¥æ–°æ•£åˆ—è¡¨, å°±å¯ä»¥é€æ¸å…¨éƒ¨è½¬ç§»ä¸”æ„Ÿå—ä¸åˆ°ç‰¹åˆ«æ…¢çš„æ‰©å®¹è¿‡ç¨‹<br>
å½“æŸ¥è¯¢æ—¶, å…ˆæŸ¥æ–°æ•£åˆ—è¡¨, æ²¡æ‰¾åˆ°å†æŸ¥æ—§æ•£åˆ—è¡¨</li>
</ol>
<h3 id="Javaä¸­çš„HashMap">Javaä¸­çš„HashMap</h3>
<p>åˆå§‹å¤§å°16<br>
è£…è½½å› å­0.75, æ¯æ¬¡æ‰©å®¹è‡³ä¸¤å€<br>
å†²çªè§£å†³æ–¹æ³•ä¸ºé“¾è¡¨æ³•, å½“é“¾è¡¨é•¿åº¦è¶…è¿‡8è½¬æ¢ä¸ºçº¢é»‘æ ‘<br>
æ•£åˆ—å‡½æ•°</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">hash</span><span class="params">(Object key)</span> </span>&#123; </span><br><span class="line">    <span class="keyword">int</span> h = key.hashCode()ï¼› </span><br><span class="line">    <span class="keyword">return</span> (h ^ (h &gt;&gt;&gt; <span class="number">16</span>)) &amp; (capicity -<span class="number">1</span>); <span class="comment">//capicityè¡¨ç¤ºæ•£åˆ—è¡¨çš„å¤§å°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ•£åˆ—è¡¨ç¢°æ’æ”»å‡»">æ•£åˆ—è¡¨ç¢°æ’æ”»å‡»</h3>
<p>é€šè¿‡ç²¾å¿ƒæ„é€ çš„æ•°æ®ä½¿å¾—æ‰€æœ‰æ•°æ®ç»è¿‡hashå‡½æ•°ä»¥åéƒ½æ•£åˆ—åˆ°ä¸€ä¸ªæ§½é‡Œ, å¦‚æœä½¿ç”¨çš„åŸºäºé“¾è¡¨çš„å†²çªè§£å†³æ–¹æ¡ˆ, æ•£åˆ—è¡¨å°±ä¼šé€€åŒ–ä¸ºé“¾è¡¨,<br>
æ•°æ®é‡Œæå¤§æ—¶ä¼šå¯¼è‡´æŸ¥è¯¢æ¶ˆè€—å¤§é‡cpuå’Œçº¿ç¨‹èµ„æº, é€ æˆç³»ç»Ÿæ— æ³•å“åº”å…¶ä»–è¯·æ±‚</p>
<h3 id="æ•£åˆ—è¡¨å’Œé“¾è¡¨å¸¸ç”¨ç»„åˆåœºæ™¯">æ•£åˆ—è¡¨å’Œé“¾è¡¨å¸¸ç”¨ç»„åˆåœºæ™¯</h3>
<ul>
<li>LRUç¼“å­˜æ·˜æ±°ç®—æ³•<br>
ä½¿ç”¨åŒå‘é“¾è¡¨å­˜å‚¨æ•°æ®, é“¾è¡¨ä¸­æ¯ä¸ªç»“ç‚¹åŒ…å«æ•°æ®(data), å‰é©±æŒ‡é’ˆ(prev), åç»§æŒ‡é’ˆ(next), å’Œhnext<br>
ä½¿ç”¨é“¾è¡¨æ³•è§£å†³çš„æ•£åˆ—è¡¨, åŒ…å«ä¸¤æ¡é“¾, ä¸€æ¡åŒå‘é“¾è¡¨, ä¸€æ¡æ•£åˆ—è¡¨çš„æ‹‰é“¾<br>
å¯å®ç°O(1)æ—¶é—´å¤æ‚åº¦å†…å®Œæˆæ’å…¥åˆ é™¤æŸ¥æ‰¾æ“ä½œ</li>
<li>java LinkeHashMap<br>
æ”¯æŒæŒ‰ç…§æ’å…¥é¡ºåºéå†æ•°æ®, å’ŒæŒ‰ç…§è®¿é—®é¡ºåºéå†æ•°æ®<br>
é“¾è¡¨ç»“åˆæ•£åˆ—è¡¨, åŸç†å’ŒLRUä¸€æ ·, LinkedæŒ‡çš„æ˜¯åŒå‘é“¾è¡¨</li>
</ul>
<p>ä¸¤è€…ç»“åˆ, æ•£åˆ—è¡¨æä¾›å¿«é€Ÿçš„æ’å…¥åˆ é™¤æŸ¥æ‰¾, é“¾è¡¨æä¾›æœ‰åº</p>
<h3 id="å°ç»“">å°ç»“</h3>
<p>å·¥ä¸šçº§æ•£åˆ—è¡¨åº”è¯¥å…·æœ‰å“ªäº›ç‰¹æ€§<br>
æ”¯æŒå¿«é€ŸæŸ¥è¯¢, æ’å…¥, åˆ é™¤æ“ä½œ<br>
å†…å­˜å ç”¨åˆç†, ä¸æµªè´¹è¿‡å¤šçš„å†…å­˜ç©ºé—´<br>
æ€§èƒ½ç¨³å®š, æç«¯æƒ…å†µä¸‹æ•£åˆ—è¡¨çš„æ€§èƒ½ä¹Ÿä¸ä¼šé€€åŒ–åˆ°æ— æ³•æ¥å—çš„æƒ…å†µ</p>
<h3 id="è¯¾åæ€è€ƒ">è¯¾åæ€è€ƒ</h3>
<p>10wæ¡urlè®¿é—®æ—¥å¿—, æŒ‰ç…§è®¿é—®æ¬¡æ•°æ’åº (todo)<br>
ä¸¤ä¸ª10wæ¡å­—ç¬¦ä¸²çš„æ•°ç»„, å¿«é€Ÿæ‰¾å‡ºä¸¤ä¸ªæ•°ç»„ä¸­ç›¸åŒçš„å­—ç¬¦ä¸² (todo)</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ•£åˆ—è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-æ•°ç»„</title>
    <url>/2020/09/01/20200901160919/</url>
    <content><![CDATA[<h2 id="æ•°ç»„">æ•°ç»„</h2>
<p>åŸºç¡€æ•°æ®ç»“æ„</p>
<h3 id="å®šä¹‰">å®šä¹‰</h3>
<p>æ•°ç»„æ˜¯ä¸€ç§<strong>çº¿æ€§è¡¨</strong>æ•°æ®ç»“æ„, ä½¿ç”¨ä¸€ç»„<strong>è¿ç»­å†…å­˜ç©ºé—´</strong>, å­˜è´®ä¸€ç»„å…·æœ‰<strong>ç›¸åŒç±»å‹çš„æ•°æ®</strong>.<br>
æç‚¼ä¸¤ç»„å…³é”®è¯:<br>
<em><strong>1. çº¿æ€§è¡¨</strong></em><br>
çº¿æ€§è¡¨åªæœ‰å‰åä¸¤ä¸ªæ–¹å‘, åŒæ ·çº¿æ€§è¡¨è¿˜æœ‰é“¾è¡¨, é˜Ÿåˆ—, æ ˆ.<br>
éçº¿æ€§è¡¨æœ‰äºŒå‰æ ‘, å †, å›¾ç­‰, æ•°æ®å¹¶ä¸æ˜¯å‰åå…³ç³».<br>
<em><strong>2. è¿ç»­å†…å­˜ç©ºé—´å’Œç›¸åŒç±»å‹çš„æ•°æ®</strong></em><br>
å› ä¸ºè¿™ä¸¤ä¸ªé™åˆ¶, æ•°ç»„æ‹¥æœ‰äº†éšæœºè®¿é—®çš„ç‰¹æ€§, ä½†ä¹Ÿæœ‰åˆ©æœ‰å¼Š, æ’å…¥å’Œåˆ é™¤æ“ä½œå˜å¾—ä½æ•ˆ.</p>
<p>æ•°ç»„æ’å…¥æ“ä½œå¹³å‡æ—¶é—´å¤æ‚åº¦O(n), å½“æ•°æ®æ— åºæ—¶, å¯å°†æ’å…¥ä½ç½®å…ƒç´ ç›´æ¥æ¬åˆ°æœ«å°¾æ¥ä¼˜åŒ–æ‰§è¡Œé€Ÿåº¦.<br>
æ•°ç»„åˆ é™¤æ“ä½œå¹³å‡æ—¶é—´å¤æ‚åº¦O(n), å½“ä¸è¿½æ±‚æ•°æ®è¿ç»­æ€§æ—¶, å¯å…ˆè®°å½•å·²åˆ é™¤æ•°æ®, å½“æ•°æ®æ²¡æœ‰ç©ºé—´æ—¶, å†å‡ºå‘çœŸæ­£çš„åˆ é™¤, ç±»ä¼¼jvmçš„æ ‡è®°æ¸…é™¤åƒåœ¾å›æ”¶ç®—æ³•.</p>
<h3 id="é“¾è¡¨å’Œæ•°ç»„çš„åŒºåˆ«">é“¾è¡¨å’Œæ•°ç»„çš„åŒºåˆ«</h3>
<p>é“¾è¡¨æ’å…¥åˆ é™¤æ—¶é—´å¤æ‚åº¦O(1), æ•°ç»„æ ¹æ®ä¸‹æ ‡éšæœºè®¿é—®æ—¶é—´å¤æ‚åº¦O(1).</p>
<h3 id="é€‰å®¹å™¨è¿˜æ˜¯æ•°ç»„">é€‰å®¹å™¨è¿˜æ˜¯æ•°ç»„</h3>
<p>å…³äºç¼–ç¨‹è¯­è¨€ä¸­åŒ…è£…å¥½çš„å®¹å™¨, æ¯”å¦‚javaä¸­çš„ArrayList, è¯¥å¦‚ä½•é€‰æ‹©<br>
æ•°ç»„å¯å­˜å‚¨åŸºç¡€æ•°æ®ç±»å‹, ä¸”æ€§èƒ½æ›´å¥½, ä½†å®¹å™¨æ›´æ–¹ä¾¿æ˜“ç”¨, æ‰€ä»¥<br>
ä¸šåŠ¡å¼€å‘ä¸­å¯ä½¿ç”¨å®¹å™¨, çœæ—¶çœåŠ›; åº•å±‚å¼€å‘æ—¶, å¦‚éœ€è¦æ€§èƒ½ä¼˜åŒ–åˆ°æè‡´, å¯ä½¿ç”¨æ•°ç»„.</p>
<h3 id="ä¸ºä»€ä¹ˆæ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹">ä¸ºä»€ä¹ˆæ•°ç»„ä¸‹æ ‡ä»0å¼€å§‹</h3>
<p>ä¸‹æ ‡ä¹Ÿæ˜¯åœ¨å†…å­˜ä¸Šçš„åç§»é‡, å¯»å€çš„æ—¶å€™å¯ä»¥ç›´æ¥é¦–åœ°å€+åç§»é‡*type_size, å¦‚æœä¸‹æ ‡ä»1å¼€å§‹, åˆ™éœ€è¦å¤šåšä¸€æ¬¡å‡æ³•è¿ç®—, å¯¹äºæ•°ç»„è¿™ç§æœ€åŸºç¡€çš„æ•°æ®ç»“æ„, ä¸ºäº†æ€§èƒ½, é€‰æ‹©ä»0å¼€å§‹ç¼–å·. (ä¹Ÿå¯èƒ½ä¸æ˜¯, æ— ä»æ±‚è¯)</p>
<h2 id="ç‰¹åˆ«åº”ç”¨">ç‰¹åˆ«åº”ç”¨</h2>
<h3 id="å·®åˆ†æ•°ç»„">å·®åˆ†æ•°ç»„</h3>
<p>ç»™å®šä¸€ä¸ªæ•°ç»„a</p>
<table>
<thead>
<tr>
<th>ä¸‹æ ‡</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
</tr>
</thead>
<tbody>
<tr>
<td>a(i)</td>
<td>1</td>
<td>2</td>
<td>5</td>
<td>4</td>
<td>9</td>
<td>7</td>
<td>9</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>è¦æ±‚ä»ä¸‹æ ‡1åˆ°ä¸‹æ ‡6, æ¯ä¸ªæ•°åŠ 1, æœ€å‚»ç“œçš„åŠæ³•å°±æ˜¯éå†, ä½†å¦‚æœæ•°ç»„æœ‰ä¸Šåƒä¸‡ä¸ªæ•°, ä¸”ç»å¸¸éœ€è¦ç±»ä¼¼çš„åŒºé—´ä¿®æ”¹, éå†å°±æœ‰ç‚¹è´¹æ—¶è´¹åŠ›äº†</p>
<p>æ‰€ä»¥å°±éœ€è¦ç”¨åˆ°<strong>å·®åˆ†æ•°ç»„</strong>, é€šè¿‡é¢„å¤„ç†åŸæ•°ç»„a, å¾—åˆ°ä¸€ä¸ªæ–°æ•°ç»„d, å¤§å°å’ŒåŸæ•°ç»„ç›¸ç­‰, æ¯ä¸€ä¸ªå…ƒç´ <br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>(</mo><mi>i</mi><mo>)</mo><mo>=</mo><mi>a</mi><mo>(</mo><mi>i</mi><mo>)</mo><mo>âˆ’</mo><mi>a</mi><mo>(</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo>)</mo><mo separator="true">,</mo><mo>(</mo><mi>i</mi><mo>!</mo><mo>=</mo><mn>0</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">d(i)=a(i)-a(i-1),(i!=0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">d</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit">a</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mclose">)</span><span class="mbin">âˆ’</span><span class="mord mathit">a</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mbin">âˆ’</span><span class="mord mathrm">1</span><span class="mclose">)</span><span class="mpunct">,</span><span class="mopen">(</span><span class="mord mathit">i</span><span class="mclose">!</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span><br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>d</mi><mo>(</mo><mn>0</mn><mo>)</mo><mo>=</mo><mi>a</mi><mo>(</mo><mn>0</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">d(0)=a(0)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">d</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit">a</span><span class="mopen">(</span><span class="mord mathrm">0</span><span class="mclose">)</span></span></span></span><br>
å³æ¯ä¸ªä½ç½®ä¸Šè®°å½•çš„æ˜¯å½“å‰ä½ç½®å’Œå‰ä¸€ä½æ•°æ®çš„å·®å€¼</p>
<table>
<thead>
<tr>
<th>ä¸‹æ ‡</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
</tr>
</thead>
<tbody>
<tr>
<td>a(i)</td>
<td>1</td>
<td>2</td>
<td>5</td>
<td>4</td>
<td>9</td>
<td>7</td>
<td>9</td>
<td>0</td>
</tr>
<tr>
<td>d(i)</td>
<td>1</td>
<td>1</td>
<td>3</td>
<td>-1</td>
<td>5</td>
<td>-2</td>
<td>3</td>
<td>-9</td>
</tr>
</tbody>
</table>
<p>æ„é€ å¥½ä»¥å, å†çœ‹ä»ä¸‹æ ‡1åˆ°ä¸‹æ ‡6åŠ ä¸€, ä¸éœ€è¦éå†, åªéœ€è¦ç»™d(1)+1, å†ç»™d(7)-1, ä¸­é—´çš„æ‰€æœ‰å…ƒç´ éƒ½è‡ªåŠ¨åŠ äº†1<br>
<strong>ä¼˜ç‚¹æ˜¯</strong>: é€‚ç”¨äºåŒºé—´èŒƒå›´è¾ƒå¤§, åŒºé—´é¢‘ç¹ä¿®æ”¹<br>
<strong>ç¼ºç‚¹æ˜¯</strong>: æŸ¥è¯¢æ•°ç»„aæŸä¸ªä½ç½®æ•°æ®æ—¶, éœ€è¦æ ¹æ®å·®åˆ†æ•°ç»„ä»å‰å‘åæ±‚å’Œ</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-æ ˆ</title>
    <url>/2020/11/25/20201125150101/</url>
    <content><![CDATA[<h2 id="æ ˆ">æ ˆ</h2>
<h3 id="åŸºæœ¬ç‰¹æ€§">åŸºæœ¬ç‰¹æ€§</h3>
<p>åè¿›è€…å…ˆå‡º, å…ˆè¿›è€…åå‡º, è¿™å°±æ˜¯å…¸å‹çš„æ ˆç»“æ„<br>
æ ˆæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨, åªå…è®¸åœ¨ä¸€ç«¯æ’å…¥å’Œåˆ é™¤æ•°æ®<br>
æ ˆæ˜¯ä¸€ç§ç‰¹å®šçš„æ•°æ®ç»“æ„,æ˜¯å¯¹ç‰¹å®šåœºæ™¯çš„æŠ½è±¡<br>
å½“æŸä¸ªæ•°æ®é›†åˆåªæ¶‰åŠåœ¨ä¸€ç«¯æ’å…¥å’Œåˆ é™¤æ•°æ®, å¹¶ä¸”æ»¡è¶³åè¿›å…ˆå‡º, å…ˆè¿›åå‡ºçš„ç‰¹æ€§, æˆ‘ä»¬å°±åº”è¯¥é¦–é€‰æ ˆè¿™ç§æ•°æ®ç»“æ„</p>
<h3 id="å®ç°ä¸€ä¸ªæ ˆ">å®ç°ä¸€ä¸ªæ ˆ</h3>
<p>æ ˆä¸»è¦åŒ…å«ä¸¤ä¸ªæ“ä½œ, å…¥æ ˆå’Œå‡ºæ ˆ<br>
<a href="https://github.com/WangDanpeng/Vamos/blob/main/src/main/scala/wdp/struct/stack/ArrayStack.scala" target="_blank" rel="noopener">ç”¨æ•°ç»„å®ç°çš„æ ˆå«é¡ºåºæ ˆ</a><br>
ç”¨é“¾è¡¨å®ç°çš„æ ˆå«é“¾å¼æ ˆ (todo)<br>
ä¸¤ç§å®ç°çš„ç©ºé—´å¤æ‚åº¦å’Œæ—¶é—´å¤æ‚åº¦éƒ½ä¸ºO(1)</p>
<h3 id="æ ˆçš„åº”ç”¨">æ ˆçš„åº”ç”¨</h3>
<ol>
<li>å‡½æ•°è°ƒç”¨æ ˆ<br>
æ“ä½œç³»ç»Ÿç»™æ¯ä¸ªçº¿ç¨‹åˆ†é…äº†ä¸€å—ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿™å—å†…å­˜è¢«ç»„ç»‡æˆâ€œæ ˆâ€è¿™ç§ç»“æ„, ç”¨æ¥å­˜å‚¨å‡½æ•°è°ƒç”¨æ—¶çš„ä¸´æ—¶å˜é‡ã€‚æ¯è¿›å…¥ä¸€ä¸ªå‡½æ•°ï¼Œå°±ä¼šå°†ä¸´æ—¶å˜é‡ä½œä¸ºä¸€ä¸ªæ ˆå¸§å…¥æ ˆï¼Œå½“è¢«è°ƒç”¨å‡½æ•°æ‰§è¡Œå®Œæˆï¼Œè¿”å›ä¹‹åï¼Œå°†è¿™ä¸ªå‡½æ•°å¯¹åº”çš„æ ˆå¸§å‡ºæ ˆ</li>
<li>è¡¨è¾¾å¼æ±‚å€¼<br>
ä¸€ä¸ªä¿å­˜æ“ä½œæ•°çš„æ ˆï¼Œä¸€ä¸ªä¿å­˜è¿ç®—ç¬¦çš„æ ˆã€‚ä»å·¦å‘å³éå†è¡¨è¾¾å¼ï¼Œå½“é‡åˆ°æ•°å­—ï¼Œå°±ç›´æ¥å‹å…¥æ“ä½œæ•°æ ˆï¼›å½“é‡åˆ°è¿ç®—ç¬¦ï¼Œå°±ä¸è¿ç®—ç¬¦æ ˆçš„æ ˆé¡¶å…ƒç´ è¿›è¡Œæ¯”è¾ƒ<br>
å¦‚æœæ¯”è¿ç®—ç¬¦æ ˆé¡¶å…ƒç´ çš„ä¼˜å…ˆçº§é«˜ï¼Œå°±å°†å½“å‰è¿ç®—ç¬¦å‹å…¥æ ˆï¼›å¦‚æœæ¯”è¿ç®—ç¬¦æ ˆé¡¶å…ƒç´ çš„ä¼˜å…ˆçº§ä½æˆ–è€…ç›¸åŒï¼Œä»è¿ç®—ç¬¦æ ˆä¸­å–æ ˆé¡¶è¿ç®—ç¬¦ï¼Œä»æ“ä½œæ•°æ ˆçš„æ ˆé¡¶å–ä¸¤ä¸ªæ“ä½œæ•°ï¼Œç„¶åè¿›è¡Œè®¡ç®—ï¼Œå†æŠŠè®¡ç®—å®Œçš„ç»“æœå‹å…¥æ“ä½œæ•°æ ˆ</li>
<li>æ£€æµ‹æ‹¬å·åŒ¹é…<br>
æ‰«æåˆ°å·¦æ‹¬å·å…¥æ ˆ, æ‰«æåˆ°å³æ‹¬å·ä»æ ˆé¡¶å–ä¸€ä¸ªå…ƒç´ åŒ¹é…</li>
<li>æµè§ˆå™¨å‰è¿›åé€€åŠŸèƒ½<br>
ä¸¤ä¸ªæ ˆå®ç°, é¦–æ¬¡æµè§ˆé¡µé¢å‹å…¥åé€€æ ˆ, ç‚¹å‡»åé€€æŒ‰é’®å°†åé€€æ ˆå…ƒç´ å‡ºæ ˆå‹å…¥å‰è¿›æ ˆ</li>
</ol>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-æ’åº</title>
    <url>/2020/12/01/20201201164903/</url>
    <content><![CDATA[<h2 id="æ’åº">æ’åº</h2>
<h3 id="ç®€ä»‹-v12">ç®€ä»‹</h3>
<p>æ’åºç®—æ³•æœ‰å¾ˆå¤š, æœ€ç»å…¸æœ€å¸¸ç”¨çš„æœ‰<br>
å†’æ³¡æ’åº, æ’å…¥æ’åº, é€‰æ‹©æ’åº, æ—¶é—´å¤æ‚åº¦ O(nå¹³æ–¹)<br>
å¿«é€Ÿæ’åº, å½’å¹¶æ’åº, æ—¶é—´å¤æ‚åº¦O(nlogn)<br>
æ¡¶æ’åº, è®¡æ•°æ’åº, åŸºæ•°æ’åº, æ—¶é—´å¤æ‚åº¦O(n)</p>
<h3 id="åˆ†ææ’åºç®—æ³•">åˆ†ææ’åºç®—æ³•</h3>
<ul>
<li>æ‰§è¡Œæ•ˆç‡</li>
</ul>
<ol>
<li>æœ€å¥½æƒ…å†µ, æœ€åæƒ…å†µ, å¹³æ—¶æƒ…å†µæ—¶é—´å¤æ‚åº¦</li>
<li>æ—¶é—´å¤æ‚åº¦çš„ç³»æ•°, å¸¸æ•°, ä½é˜¶</li>
<li>å…ƒç´ æ¯”è¾ƒæ¬¡æ•°å’Œç§»åŠ¨æ¬¡æ•°</li>
</ol>
<ul>
<li>å†…å­˜æ¶ˆè€—<br>
å¯ä»¥é€šè¿‡ç©ºé—´å¤æ‚åº¦æ¥è¡¡é‡</li>
<li>ç¨³å®šæ€§<br>
ç¨³å®šæ’åºç®—æ³•å¯ä»¥ä¿æŒæ•°å€¼ç›¸åŒçš„ä¸¤ä¸ªå¯¹è±¡, åœ¨æ’åºä¹‹åçš„å‰åé¡ºåºä¸å˜<br>
çœŸå®å¼€å‘ä¸­æ’åºåœºæ™¯å¾€å¾€æ¯”è¾ƒå¤æ‚, æœ‰äº›é—®é¢˜å€ŸåŠ©ç¨³å®šæ’åºç®—æ³•å¯ä»¥éå¸¸ç®€æ´çš„è§£å†³</li>
</ul>
<h3 id="å†’æ³¡æ’åº"><a href="https://github.com/WangDanpeng/Vamos/blob/main/src/main/scala/wdp/sort/bubble.scala" target="_blank" rel="noopener">å†’æ³¡æ’åº</a></h3>
<p>å†’æ³¡è¿‡ç¨‹åªæ¶‰åŠç›¸é‚»æ•°æ®çš„äº¤æ¢æ“ä½œ, æ‰€ä»¥ç©ºé—´å¤æ‚åº¦ä¸ºO(1), æ˜¯ä¸€ä¸ªåŸåœ°æ’åºç®—æ³•<br>
ä¸”å½“ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ å¤§å°ç›¸ç­‰æ—¶ä¸äº¤æ¢, ç›¸åŒå¤§å°çš„æ•°æ®åœ¨æ’åºå‰åä¸ä¼šæ”¹å˜é¡ºåº, æ‰€ä»¥å†’æ³¡æ’åºæ˜¯ç¨³å®šçš„æ’åºç®—æ³•<br>
æœ€å¥½çš„æƒ…å†µæ•°æ®æœ‰åº, æ—¶é—´å¤æ‚åº¦O(n), æœ€åçš„æƒ…å†µæ•°æ®å€’åº, æ—¶é—´å¤æ‚åº¦O(nå¹³æ–¹), å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(nå¹³æ–¹)</p>
<h3 id="æ’å…¥æ’åº"><a href="https://github.com/WangDanpeng/Vamos/blob/main/src/main/scala/wdp/sort/insertion.scala" target="_blank" rel="noopener">æ’å…¥æ’åº</a></h3>
<p>å°†æ•°ç»„ä¸­çš„å…ƒç´ åˆ†ä¸ºå·²æ’åºåŒºå’Œæœªæ’åºåŒº, å–æœªæ’åºåŒºå…ƒç´ åœ¨å·²æ’åºåŒºæ‰¾åˆ°åˆé€‚çš„ä½ç½®æ’å…¥, å¹¶ä¿è¯å·²æ’åºåŒºæ•°æ®ä¸€ç›´æœ‰åº, ç›´è‡³æœªæ’åºåŒºä¸ºç©º<br>
æ’å…¥æ’åºè¿è¡Œä¹Ÿä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´, æ‰€ä»¥ç©ºé—´å¤æ‚åº¦æ˜¯O(1), æ˜¯ä¸€ä¸ªåŸåœ°æ’åºç®—æ³•<br>
æ’åºæ—¶, å¯¹äºå€¼ç›¸åŒçš„å…ƒç´ å¯ä»¥é€‰æ‹©å°†åé¢å‡ºç°çš„å…ƒç´ æ’å…¥åˆ°å‰é¢å‡ºç°çš„å…ƒç´ çš„åé¢, æ‰€ä»¥æ˜¯ç¨³å®šçš„æ’åºç®—æ³•<br>
æœ€å¥½çš„æƒ…å†µæ•°æ®æœ‰åº, æ—¶é—´å¤æ‚åº¦O(n), æœ€åçš„æƒ…å†µæ•°æ®å€’åº, æ—¶é—´å¤æ‚åº¦O(nå¹³æ–¹), å¹³å‡æ—¶é—´å¤æ‚åº¦ä¸ºO(nå¹³æ–¹)</p>
<h3 id="é€‰æ‹©æ’åº-todo">é€‰æ‹©æ’åº (todo)</h3>
<p>é€‰æ‹©æ’åºç±»ä¼¼æ’å…¥æ’åº, åˆ†å·²æ’åºåŒºå’Œæœªæ’åºåŒº, ä½†æ¯æ¬¡ä¼šä»æœªæ’åºåŒºæ‰¾åˆ°æœ€å°å…ƒç´ , äº¤æ¢ä½ç½®æ”¾åˆ°å·²æ’åºåŒºæœ«å°¾<br>
é€‰æ‹©æ’åºä¸€æ ·ç©ºé—´å¤æ‚åº¦ä¸ºO(1), æ˜¯ä¸€ç§åŸåœ°æ’åºç®—æ³•<br>
æœ€å¥½æœ€åå’Œå¹³å‡æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(nå¹³æ–¹)<br>
å› ä¸ºå­˜åœ¨äº¤æ¢ä½ç½®, æ‰€ä»¥é€‰æ‹©æ’åºä¸æ˜¯ä¸€ç§ç¨³å®šçš„æ’åºç®—æ³•,</p>
<blockquote>
<p>ä»¥ä¸Šä¸‰ç§æ—¶é—´å¤æ‚åº¦è¾ƒé«˜, é€‚åˆå°è§„æ¨¡æ•°æ®æ’åº<br>
é€‰æ‹©æ’åºä¸æ˜¯ç¨³å®šæ’åºç®—æ³•, æ‰€ä»¥ç¨é€Šè‰²äºå†’æ³¡æ’åºå’Œæ’å…¥æ’åº, è€Œå†’æ³¡æ’åºçš„æ•°æ®äº¤æ¢è¦æ¯”æ’å…¥æ’åºçš„æ•°æ®ç§»åŠ¨å¤æ‚, æ‰€ä»¥è¿™ä¸‰ç§æ’åº, æ’å…¥æ’åºæ›´ä¸ºå¸¸ç”¨</p>
</blockquote>
<h3 id="å½’å¹¶æ’åº-todo">å½’å¹¶æ’åº (todo)</h3>
<p>æ ¸å¿ƒæ€æƒ³, å…ˆæŠŠæ•°ç»„ä»ä¸­é—´åˆ†æˆä¸¤éƒ¨åˆ†, ç„¶åå¯¹å‰åä¸¤éƒ¨åˆ†æ’åº, å†å°†æ’å¥½åºçš„ä¸¤éƒ¨åˆ†åˆå¹¶, å°±å¾—åˆ°æœ‰åºçš„å®Œæ•´æ•°ç»„<br>
å½’å¹¶æ’åºä½¿ç”¨çš„åˆ†æ²»æ€æƒ³, åˆ†æ²»æ˜¯ä¸€ç§è§£å†³é—®é¢˜çš„å¤„ç†æ€æƒ³, é€’å½’æ˜¯ä¸€ç§ç¼–ç¨‹æŠ€å·§<br>
ç”¨é€’å½’ä»£ç æ¥å®ç°å½’å¹¶æ’åº<br>
å½’å¹¶æ’åºåˆå¹¶è¿‡ç¨‹ä¸­, å€¼ç›¸åŒçš„å…ƒç´ å¯ä»¥è‡ªå·±æŒæ¡é¡ºåº, æ‰€ä»¥æ˜¯ä¸€ä¸ªç¨³å®šçš„æ’åºç®—æ³•<br>
æ—¶é—´å¤æ‚åº¦ä¸ºO(nlogn), ä¸”æ‰§è¡Œæ•ˆç‡ä¸åŸå§‹æ•°ç»„æœ‰åºåº¦æ— å…³, æœ€å¥½æœ€åå¹³å‡æƒ…å†µéƒ½æ˜¯O(nlogn)<br>
ä½†ä¸æ˜¯åŸåœ°æ’åºç®—æ³•, ç©ºé—´å¤æ‚åº¦ä¸ºO(n)</p>
<h3 id="å¿«é€Ÿæ’åº-todo">å¿«é€Ÿæ’åº (todo)</h3>
<p>ä¹Ÿé‡‡ç”¨åˆ†æ²»æ€æƒ³<br>
å‡å¦‚è¦æ’åºçš„æ•°ç»„, æœ€å·¦ä¸‹æ ‡ä¸ºâ€™å·¦â€™, æœ€å³ä¸‹æ ‡ä¸ºâ€™å³â€™, é€‰ä¸­é—´ä»»æ„ä¸€ä¸ªç‚¹ä¸ºåˆ†åŒºç‚¹, ä¸‹æ ‡â€™ä¸­â€™<br>
éå†ä»å·¦åˆ°å³, å°†å°äºâ€™ä¸­â€™çš„æ”¾åˆ°å·¦è¾¹, å¤§äºâ€™ä¸­â€™çš„æ”¾åˆ°å³è¾¹, æ•°ç»„å°±è¢«åˆ†æˆäº†ä¸‰éƒ¨åˆ†, 'å·¦â€™åˆ°â€™ä¸­-1â€™çš„éƒ½æ˜¯å°äºâ€™ä¸­â€™ä¸‹æ ‡çš„å…ƒç´ çš„, â€˜ä¸­+1â€™åˆ°â€™å³â€™éƒ½æ˜¯å¤§äºâ€™ä¸­â€™ä¸‹æ ‡å…ƒç´ çš„<br>
æ ¹æ®åˆ†æ²»æ€æƒ³, ç”¨é€’å½’ç»§ç»­æ’åºâ€™å·¦â€™åˆ°â€™ä¸­-1â€™å’Œâ€™ä¸­+1â€™åˆ°â€™å³â€™, ç›´åˆ°åŒºé—´ç¼©å°ä¸º1, åˆ™æ‰€æœ‰æ•°æ®æœ‰åº, å…·ä½“å®ç°æ–¹æ³•çœ‹æºç <br>
åŸåœ°, ä¸ç¨³å®šæ’åºç®—æ³•, åˆ†åŒºè¿‡ç¨‹ä¸­æœ‰äº¤æ¢æ“ä½œ, æ‰€ä»¥ç›¸åŒå…ƒç´ é¡ºåºä¼šå˜<br>
æ—¶é—´å¤æ‚åº¦O(nlogn), ä½†åˆ†åŒºæå…¶ä¸å‡åŒ€çš„æƒ…å†µä¼šé€€åŒ–ä¸ºO(nå¹³æ–¹), å¹³å‡O(nlogn)<br>
å¸¸ç”¨é€‰å–åˆ†åŒºç‚¹çš„ç®—æ³•</p>
<ol>
<li>ä¸‰æ•°å–ä¸­æ³•, ä»å¤´å°¾ä¸­å–ä¸‰ä¸ªæ•°, å¯¹æ¯”å¤§å°å–ä¸­é—´å€¼ä½œä¸ºåˆ†åŒºç‚¹</li>
<li>éšæœºæ³•, éšæœºé€‰æ‹©ä¸€ä¸ªå…ƒç´ åšä¸ºåˆ†åŒºç‚¹</li>
</ol>
<blockquote>
<p>ä»¥ä¸Š, å¿«æ’å’Œå½’å¹¶å¾ˆç›¸ä¼¼, åŒºåˆ«æ˜¯å½’å¹¶æ’åºæ˜¯ä»ä¸‹å‘ä¸Šå¤„ç†, å…ˆå¤„ç†å­é—®é¢˜å†åˆå¹¶, å¿«æ’æ˜¯ç”±ä¸Šåˆ°ä¸‹, å…ˆåˆ†åŒº, å†å¤„ç†å­é—®é¢˜<br>
å½’å¹¶æ—¶é—´å¤æ‚åº¦ç¨³å®šä½†ç©ºé—´å¤æ‚åº¦é«˜, å¿«æ’ç©ºé—´å¤æ‚åº¦ä½, ä¸”é€šè¿‡åˆç†é€‰æ‹©åˆ†åŒºç‚¹å¯ä»¥é¿å…æ—¶é—´å¤æ‚åº¦é€€åŒ–ä¸ºO(nå¹³æ–¹), æ‰€ä»¥å¿«æ’åº”ç”¨æ›´å¹¿æ³›</p>
</blockquote>
<h3 id="æ¡¶æ’åº-todo">æ¡¶æ’åº (todo)</h3>
<p>æ ¸å¿ƒæ€æƒ³æŠŠè¦æ’åºçš„æ•°æ®åˆ†åˆ°å‡ ä¸ªæœ‰åºçš„æ¡¶é‡Œ, æ¯ä¸ªæ¡¶é‡Œçš„æ•°æ®å†å•ç‹¬æ’åº, ä¹‹åæŒ‰é¡ºåºä¾æ¬¡å–å‡º<br>
æ¡¶æ’åºå¯¹æ’åºæ•°æ®è¦æ±‚è‹›åˆ», è¦èƒ½å¾ˆå®¹æ˜“åˆ’åˆ†æˆmä¸ªæ¡¶, ä¸”æ¡¶ä¹‹é—´æœ‰å¤§å°é¡ºåº, å…¶æ¬¡å„ä¸ªæ¡¶ä¹‹é—´çš„æ•°æ®åˆ†å¸ƒå‡åŒ€<br>
æ¡¶æ’åºæ¯”è¾ƒé€‚åˆç”¨åœ¨å¤–éƒ¨æ’åºä¸­, å³æ•°æ®å­˜å‚¨åœ¨å¤–éƒ¨ç£ç›˜, æ•°æ®é‡å¤§, å†…å­˜æœ‰é™<br>
æ¯”å¦‚10Gè®¢å•æ•°æ®, å†…å­˜100MBæ’åºé—®é¢˜, å¯ç”¨æ¡¶æ’åºåˆ’åˆ†è®¢å•æ•°æ®, æ¯ä¸ªæ¡¶ç”Ÿæˆä¸€ä¸ªæ–‡ä»¶, å¦‚æœæ¡¶é—´æ•°æ®ä¸å‡åŒ€, æ‰¾åˆ°è¾ƒå¤§çš„æ–‡ä»¶, ç»§ç»­åˆ†æ¡¶, ç›´åˆ°æ‰€æœ‰æ–‡ä»¶éƒ½èƒ½è¯»å…¥å†…å­˜</p>
<h3 id="è®¡æ•°æ’åº-todo">è®¡æ•°æ’åº (todo)</h3>
<p>è®¡æ•°æ’åºæ˜¯æ¡¶æ’åºçš„ä¸€ç§ç‰¹æ®Šæƒ…å†µ<br>
å½“æ•°æ®èŒƒå›´ä¸å¤§æ—¶, æœ€å¤§å€¼ä¸ºk, å°±åˆ†kä¸ªæ¡¶, çœå»æ¡¶å†…æ’åºæ—¶é—´, å¦‚æœkè¦æ¯”æ’åºçš„å…ƒç´ ä¸ªæ•°å¤§å¾—å¤š, åˆ™ä¸é€‚åˆç”¨è®¡æ•°æ’åº<br>
å’Œæ¡¶æ’åºéå¸¸ç›¸ä¼¼, åªæ˜¯æ¡¶çš„å¤§å°ç²’åº¦ä¸ä¸€æ ·<br>
å®ç°ç»†èŠ‚ç¨å¾®å¤æ‚, è§ä»£ç <br>
è®¡æ•°æ’åºåªèƒ½ç»™éè´Ÿæ•´æ•°æ’åº, å¦‚æœ‰å…¶å®ƒç±»å‹, åˆ™æƒ³åŠæ³•åœ¨ä¸æ”¹å˜ç›¸å¯¹å¤§å°å‰æä¸‹è½¬åŒ–ä¸ºéè´Ÿæ•´æ•°</p>
<h3 id="åŸºæ•°æ’åº-todo">åŸºæ•°æ’åº (todo)</h3>
<p>åŸºæ•°æ’åºå¯¹æ•°æ®æœ‰è¦æ±‚, éœ€è¦å¯ä»¥åˆ†å‰²å‡ºç‹¬ç«‹çš„ä½æ¥æ¯”è¾ƒ, ä¸”ä½ä¹‹é—´æœ‰é€’è¿›çš„å…³ç³», ä»åå‘å‰ä¸€ä½ä¸€ä½è¿›è¡Œçº¿æ€§æ’åº<br>
å¦å¤–, æ¯ä¸€ä½çš„æ•°æ®èŒƒå›´ä¸èƒ½å¤ªå¤§, è¦å¯ä»¥ç”¨çº¿æ€§æ’åºç®—æ³•æ¥æ’åº, å¦åˆ™æ—¶é—´å¤æ‚åº¦å°±å¤§äºO(n)äº†<br>
é’ˆå¯¹é•¿åº¦ä¸ä¸€æ ·çš„, å¯ä»¥åœ¨å‰é¢æˆ–åé¢è¡¥0<br>
æ¯”è¾ƒä¸¤ä¸ªæ•°åªéœ€è¦æ¯”è¾ƒé«˜ä½, é«˜ä½ç›¸åŒå†æ¯”è¾ƒä½ä½</p>
<blockquote>
<p>ä»¥ä¸Šä¸‰ç§éƒ½æ˜¯çº¿æ€§æ—¶é—´å¤æ‚åº¦çš„æ’åºç®—æ³•, å®ƒä»¬å¯¹è¦æ’åºçš„æ•°æ®æœ‰è¦æ±‚, æ‰€ä»¥åº”ç”¨ä¸æ˜¯å¾ˆå¹¿æ³›, ä½†å¦‚æœæ•°æ®ç‰¹å¾åŒ¹é…, ä¼šéå¸¸é«˜æ•ˆ, æ—¶é—´å¤æ‚åº¦å¯è¾¾O(n), éƒ½æ˜¯ç¨³å®šéåŸåœ°æ’åº</p>
</blockquote>
<h3 id="æ€»ç»“-v4">æ€»ç»“</h3>
<p>ä»¥ä¸Šéƒ½æ˜¯ç†è®ºçŸ¥è¯†, ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨çš„æ’åºå‡½æ•°é€šå¸¸éƒ½ä¸æ˜¯åŸºäºä¸€ç§æ’åºç®—æ³•, æ¯”å¦‚æ•°æ®é‡å°ç”¨å½’å¹¶æ’åº, æ•°æ®é‡å¤§ç”¨å¿«æ’, å¿«æ’åˆ°åŒºé—´å†…å…ƒç´ è¾ƒå°‘æ—¶æ”¹ç”¨æ’å…¥æ’åº<br>
ä¸ºäº†å°½å¯èƒ½æé«˜æ€§èƒ½, é€šå¸¸ä¼šåšå¾ˆå¤šä¼˜åŒ–</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-é€’å½’</title>
    <url>/2020/11/26/20201126191531/</url>
    <content><![CDATA[<h2 id="é€’å½’">é€’å½’</h2>
<h3 id="åŸºæœ¬ä»‹ç»">åŸºæœ¬ä»‹ç»</h3>
<p>é€’å½’æ˜¯ä¸€ç§åº”ç”¨éå¸¸å¹¿æ³›çš„, é«˜æ•ˆç®€æ´çš„ç¼–ç¨‹æŠ€å·§, å¾ˆå¤šæ•°æ®ç»“æ„å’Œç®—æ³•çš„ç¼–ç å®ç°éƒ½è¦ç”¨åˆ°é€’å½’</p>
<h3 id="é€’å½’éœ€è¦æ»¡è¶³çš„ä¸‰ä¸ªæ¡ä»¶">é€’å½’éœ€è¦æ»¡è¶³çš„ä¸‰ä¸ªæ¡ä»¶</h3>
<ol>
<li>ä¸€ä¸ªé—®é¢˜çš„è§£å¯ä»¥åˆ†è§£ä¸ºå‡ ä¸ªå­é—®é¢˜çš„è§£</li>
<li>åŸé—®é¢˜å’Œåˆ†è§£åçš„å­é—®é¢˜æ±‚è§£æ€è·¯å®Œå…¨ä¸€è‡´</li>
<li>å­˜åœ¨é€’å½’ç»ˆæ­¢æ¡ä»¶</li>
</ol>
<h3 id="å†™é€’å½’ä»£ç çš„å…³é”®">å†™é€’å½’ä»£ç çš„å…³é”®</h3>
<p>å†™é€’å½’ä»£ç çš„å…³é”®å°±æ˜¯æ‰¾å¦‚ä½•å°†å¤§é—®é¢˜åˆ†è§£æˆå°é—®é¢˜çš„è§„å¾‹, å¹¶ä¸”åŸºäºæ­¤å†™å‡º<strong>é€’æ¨å…¬å¼</strong>, ç„¶åæ¨æ•²<strong>ç»ˆæ­¢æ¡ä»¶</strong>, æœ€åå°†é€’æ¨å…¬å¼å’Œç»ˆæ­¢æ¡ä»¶ç¿»è¯‘æˆä»£ç <br>
åªè¦é‡åˆ°é€’å½’, å°±æŠŠä»–æŠ½è±¡æˆä¸€ä¸ªé€’æ¨å…¬å¼, ä¸ç”¨æƒ³ä¸€å±‚å±‚çš„è°ƒç”¨å…³ç³», ä¸è¦è¯•å›¾ç”¨äººè„‘å»åˆ†æé€’å½’çš„æ¯ä¸€ä¸ªæ­¥éª¤</p>
<h3 id="é€’å½’å¸¸è§é—®é¢˜">é€’å½’å¸¸è§é—®é¢˜</h3>
<ol>
<li>
<p>å †æ ˆæº¢å‡º<br>
å¦‚æœé€’å½’æ±‚è§£çš„æ•°æ®è§„æ¨¡å¾ˆå¤§, è°ƒç”¨å±‚æ¬¡å¾ˆæ·±, ä¸€ç›´å°†ä¸´æ—¶å˜é‡å‹å…¥å†…å­˜æ ˆ, å°±ä¼šæœ‰å †æ ˆæº¢å‡ºçš„é£é™©<br>
è§£å†³åŠæ³•å°±æ˜¯é™åˆ¶æœ€å¤§çš„è°ƒç”¨æ·±åº¦</p>
</li>
<li>
<p>é‡å¤è®¡ç®—<br>
ä¸ºäº†é¿å…é‡å¤è®¡ç®—, å¯ä»¥é€šè¿‡ä¸€ä¸ªæ¯”å¦‚æ•£åˆ—è¡¨æ¥ä¿å­˜å·²ç»æ±‚è§£è¿‡çš„f(n), å½“è°ƒç”¨åˆ°f(n)æ—¶, æŸ¥æ‰¾æ˜¯å¦å·²ç»æ±‚è§£è¿‡, å¦‚æœæ˜¯åˆ™ç›´æ¥å–å€¼, å¯é¿å…é‡å¤è®¡ç®—</p>
</li>
<li>
<p>å…¶ä»–è¿˜æœ‰å‡½æ•°è°ƒç”¨è€—æ—¶é«˜, ç©ºé—´å¤æ‚åº¦é«˜ç­‰é—®é¢˜, åœ¨ç¼–å†™ä»£ç æ—¶, è¦æ§åˆ¶å¥½è¿™äº›å‰¯ä½œç”¨</p>
</li>
</ol>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é€’å½’</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-çº¢é»‘æ ‘</title>
    <url>/2021/02/24/20210224155253/</url>
    <content><![CDATA[<h2 id="çº¢é»‘æ ‘">çº¢é»‘æ ‘</h2>
<p>ä¸€èˆ¬è®²åˆ°å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘, éƒ½ä¼šæ‹¿çº¢é»‘æ ‘ä½œä¸ºä¾‹å­, å·¥ç¨‹ä¸­, å¾ˆå¤šç”¨åˆ°å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘çš„åœ°æ–¹éƒ½ä¼šç”¨åˆ°çº¢é»‘æ ‘<br>
ä½†å‡¡ç”¨åˆ°åŠ¨æ€æ’å…¥, åˆ é™¤, æŸ¥æ‰¾æ•°æ®çš„åœºæ™¯, éƒ½å¯ä»¥ç”¨åˆ°å®ƒ, ä¸è¿‡è‡ªå·±å®ç°èµ·æ¥éš¾åº¦æœ‰ç‚¹é«˜</p>
<h3 id="ä»€ä¹ˆæ˜¯å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘">ä»€ä¹ˆæ˜¯å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘</h3>
<p>å¹³è¡¡äºŒå‰æ ‘å®šä¹‰: äºŒå‰æ ‘ä¸­ä»»æ„ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„é«˜åº¦ç›¸å·®ä¸èƒ½å¤§äº1.<br>
å®Œå…¨äºŒå‰æ ‘, æ»¡äºŒå‰æ ‘, éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘</p>
<p>å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘ä¸ä»…æ»¡è¶³ä¸Šé¢å®šä¹‰, è¿˜æ»¡è¶³äºŒå‰æŸ¥æ‰¾æ ‘çš„ç‰¹ç‚¹<br>
æœ€å…ˆè¢«å‘æ˜çš„å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯AVLæ ‘</p>
<p>ä½†å¾ˆå¤šå¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘å¹¶æ²¡æœ‰ä¸¥æ ¼ç¬¦åˆä¸Šé¢çš„å®šä¹‰, æ¯”å¦‚çº¢é»‘æ ‘<br>
è®¾è®¡åˆè¡·æ˜¯è§£å†³, æ™®é€šäºŒå‰æŸ¥æ‰¾æ ‘åœ¨é¢‘ç¹çš„æ’å…¥, åˆ é™¤ç­‰åŠ¨æ€æ›´æ–°çš„æƒ…å†µä¸‹, å‡ºç°æ—¶é—´å¤æ‚åº¦é€€åŒ–çš„é—®é¢˜<br>
å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘å°±æ˜¯è®©æ•´æ£µæ ‘å·¦å³çœ‹èµ·æ¥æ¯”è¾ƒå¹³è¡¡, ä¸è¦å‡ºç°å·¦å­æ ‘é«˜å³å­æ ‘çŸ®çš„æƒ…å†µ, è¿™æ ·èƒ½è®©æ•´æ£µæ ‘çš„é«˜åº¦ç›¸å¯¹ä½ä¸€äº›, ç›¸åº”çš„æ’å…¥åˆ é™¤æŸ¥æ‰¾æ“ä½œæ•ˆç‡é«˜ä¸€äº›.</p>
<h3 id="å®šä¹‰ä¸€æ£µçº¢é»‘æ ‘">å®šä¹‰ä¸€æ£µçº¢é»‘æ ‘</h3>
<p>çº¢é»‘æ ‘(Red-Black Tree), ç®€ç§°R-B Tree, æ˜¯ä¸€ç§ä¸ä¸¥æ ¼çš„å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘<br>
çº¢é»‘æ ‘çš„èŠ‚ç‚¹, ä¸€ç±»è¢«æ ‡è®°ä¸ºé»‘è‰², ä¸€ç±»è¢«æ ‡è®°ä¸ºçº¢è‰², ä¸”è¦æ»¡è¶³</p>
<ul>
<li>æ ¹èŠ‚ç‚¹æ˜¯é»‘è‰²çš„</li>
<li>æ¯ä¸ªå¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ç©ºèŠ‚ç‚¹, å³å¶å­èŠ‚ç‚¹ä¸å­˜å‚¨æ•°æ®</li>
<li>ä»»ä½•ç›¸é‚»èŠ‚ç‚¹éƒ½ä¸èƒ½åŒæ—¶ä¸ºçº¢è‰², å³çº¢è‰²èŠ‚ç‚¹æ˜¯è¢«é»‘è‰²èŠ‚ç‚¹éš”å¼€çš„</li>
<li>æ¯ä¸ªèŠ‚ç‚¹, ä»è¯¥èŠ‚ç‚¹åˆ°è¾¾å…¶å¯åˆ°è¾¾å¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„, éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘">ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘</h3>
<p>ä¸ºä»€ä¹ˆç”¨çº¢é»‘æ ‘ä¸ç”¨å…¶ä»–å¹³è¡¡äºŒå‰æŸ¥æ‰¾æ ‘<br>
Treap, Splay Treeæ— æ³•é¿å…æç«¯æƒ…å†µä¸‹æ—¶é—´å¤æ‚åº¦çš„é€€åŒ–<br>
AVLæ ‘æŸ¥æ‰¾æ•ˆç‡éå¸¸é«˜, ä½†ä¸ºäº†ç»´æŠ¤è¿™ç§é«˜åº¦å¹³è¡¡, æ¯æ¬¡æ’å…¥åˆ é™¤éƒ½è¦è°ƒæ•´, æ¯”è¾ƒå¤æ‚è€—æ—¶, å¯¹äºæœ‰é¢‘ç¹æ’å…¥åˆ é™¤æ“ä½œçš„æ•°æ®é›†åˆ, ä½¿ç”¨AVLæ ‘ä»£ä»·æœ‰ç‚¹é«˜<br>
çº¢é»‘æ ‘åªåšåˆ°äº†è¿‘ä¼¼å¹³è¡¡, åœ¨ç»´æŠ¤å¹³è¡¡æˆæœ¬ä¸Šæ¯”AVLæ ‘è¦ä½, ä¸”æ’å…¥åˆ é™¤æŸ¥æ‰¾æ“ä½œæ€§èƒ½éƒ½æ¯”è¾ƒç¨³å®š, å¯¹äºå·¥ç¨‹åº”ç”¨è¦é¢å¯¹å„ç§å¼‚å¸¸æƒ…å†µ, æ‰€ä»¥æ›´å€¾å‘äºè¿™ç§æ€§èƒ½ç¨³å®šçš„</p>
<h3 id="å®ç°ä¸€æ£µçº¢é»‘æ ‘-ä¸æ˜¯">å®ç°ä¸€æ£µçº¢é»‘æ ‘ (ä¸æ˜¯</h3>
<p>å¤§å¯ä¸å¿…, å·¦å³æ—‹èƒŒä¸ªæ»šç“œçƒ‚ç†Ÿè¿‡å‡ å¤©å°±å¿˜<br>
çº¢é»‘æ ‘çš„å¶å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„ç©ºèŠ‚ç‚¹, æ˜¯ä¸ºäº†æ–¹ä¾¿ä»£ç å®ç°, æ–¹ä¾¿å¥—ç”¨å¹³è¡¡å…¬å¼<br>
çº¢é»‘æ ‘å¹³è¡¡è¿‡ç¨‹ç±»ä¼¼é­”æ–¹å¤åŸ, æœ‰å‡ ä¸ªå…¬å¼, åœ¨æ’å…¥åˆ é™¤èŠ‚ç‚¹è¿‡ç¨‹ä¸­, ä¼šç ´åçº¢é»‘æ ‘å®šä¹‰çš„ç¬¬ä¸‰å››æ¡, æ‰€ä»¥ä½¿ç”¨å¹³è¡¡å…¬å¼æ¥æ¢å¤<br>
æ’å…¥æ“ä½œå¹³è¡¡å…¬å¼æœ‰ä¸‰ä¸ª, åˆ é™¤æ“ä½œå¹³è¡¡å…¬å¼æœ‰ä¸ƒä¸ª, æ’å…¥æ“ä½œçš„å¹³è¡¡è°ƒæ•´æ¯”è¾ƒç®€å•, ä½†åˆ é™¤æ“ä½œå°±æ¯”è¾ƒå¤æ‚<br>
è¯¦ç»†å®ç°æ­¥éª¤, ç”¨åˆ°ä»¥åå†å»æœ, å¯¹ç…§ç€å®ç°å³å¯</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>çº¢é»‘æ ‘</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-è·³è¡¨</title>
    <url>/2020/12/02/20201202170715/</url>
    <content><![CDATA[<h2 id="è·³è¡¨-Skip-List">è·³è¡¨(Skip List)</h2>
<h3 id="ç®€ä»‹-v13">ç®€ä»‹</h3>
<p>åŸºäºé“¾è¡¨ç¨åŠ æ”¹é€ çš„ä¸€ç§å„æ–¹é¢æ€§èƒ½éƒ½æ¯”è¾ƒä¼˜ç§€çš„åŠ¨æ€æ•°æ®ç»“æ„, å¯æ”¯æŒå¿«é€Ÿæ’å…¥, åˆ é™¤, æŸ¥æ‰¾æ“ä½œ, ç”šè‡³å¯ä»¥ä»£æ›¿çº¢é»‘æ ‘<br>
åŸºäºåŸé“¾è¡¨æ¯ä¸¤ä¸ªç»“ç‚¹å‘ä¸Šä¸€çº§æŠ½ç´¢å¼•, æ„å»ºå‡ºä¸€çº§ç´¢å¼•å±‚, å¯æ„å»ºå¤šçº§ç´¢å¼•, è¿™ç§é“¾è¡¨åŠ å¤šçº§ç´¢å¼•çš„ç»“æ„, å°±æ˜¯è·³è¡¨<br>
redisä¸­çš„æœ‰åºé›†åˆ(sorted set)å°±æ˜¯é‡‡ç”¨è·³è¡¨å®ç°</p>
<p>è·³è¡¨ä¸­æŸ¥è¯¢ä»»æ„æ•°æ®çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(logn), ä½†ç©ºé—´å¤æ‚åº¦O(n), æ¯ä¸‰åˆ°äº”ä¸ªå…ƒç´ æŠ½ä¸€ä¸ªç´¢å¼•å¯ä»¥å‡å°‘ç´¢å¼•å­˜å‚¨ç©ºé—´å ç”¨<br>
ä½†å®é™…å¼€å‘ä¸­ä¸å¿…å¤ªåœ¨æ„ç´¢å¼•å ç”¨çš„é¢å¤–ç©ºé—´, å› ä¸ºå½“åŸå§‹é“¾è¡¨ä¸­å­˜å‚¨çš„ä¸ºå¯¹è±¡æ—¶, ç´¢å¼•ä¸­å­˜å‚¨çš„æŒ‡é’ˆå’Œå¯¹è±¡ç›¸æ¯”, å ç”¨ç©ºé—´å¯ä»¥å¿½ç•¥</p>
<h3 id="æ’å…¥åˆ é™¤">æ’å…¥åˆ é™¤</h3>
<p>è·³è¡¨è¿˜æ”¯æŒåŠ¨æ€çš„æ’å…¥å’Œåˆ é™¤æ“ä½œ, æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(logn)<br>
ä½†æ’å…¥å…ƒç´ åŒæ—¶, éœ€è¦ç»´æŠ¤ç´¢å¼•çš„å¹³è¡¡, é‡‡ç”¨éšæœºå‡½æ•°çš„æ–¹å¼, å°†æ­¤ç»“ç‚¹åŒæ—¶æ’å…¥åˆ°ç¬¬ä¸€å±‚åˆ°ç¬¬kå±‚ç´¢å¼•ä¸­<br>
åˆ é™¤æ“ä½œ, åŒæ ·éœ€è¦åˆ é™¤æ‰ç´¢å¼•ä¸­çš„ç»“ç‚¹</p>
<h3 id="ä»£ç å®ç°-todo">ä»£ç å®ç° (todo)</h3>
<h3 id="å°ç»“-v2">å°ç»“</h3>
<p>è·³è¡¨é‡‡ç”¨ç©ºé—´æ¢æ—¶é—´çš„è®¾è®¡æ€è·¯, é€šè¿‡å¤šçº§ç´¢å¼•æé«˜æŸ¥è¯¢æ•ˆç‡, å®ç°äº†åŸºäºé“¾è¡¨çš„äºŒåˆ†æŸ¥æ‰¾<br>
è·³è¡¨è™½ç„¶æœ¬èº«ä¸ç®€å•, ä½†ç›¸å¯¹çº¢é»‘æ ‘çš„å®ç°è¿˜æ˜¯ç®€å•ä¸å°‘, æœ‰æ—¶ä¸ºäº†ä»£ç ç®€å•æ˜“è¯», ç›¸æ¯”çº¢é»‘æ ‘ä¼šä½¿ç”¨è·³è¡¨<br>
è·³è¡¨æ›´åŠ çµæ´», é€šè¿‡æ”¹å˜ç´¢å¼•æ„å»ºç­–ç•¥, å¯ä»¥æœ‰æ•ˆå¹³è¡¡æ‰§è¡Œæ•ˆç‡å’Œå†…å­˜æ¶ˆè€—</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>è·³è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-é˜Ÿåˆ—</title>
    <url>/2020/11/25/20201125170035/</url>
    <content><![CDATA[<h2 id="é˜Ÿåˆ—">é˜Ÿåˆ—</h2>
<h3 id="åŸºæœ¬ç‰¹æ€§-v2">åŸºæœ¬ç‰¹æ€§</h3>
<p>å…ˆè¿›è€…å…ˆå‡º, è¿™å°±æ˜¯å…¸å‹çš„é˜Ÿåˆ—<br>
å’Œæ ˆå¾ˆç›¸ä¼¼, é˜Ÿåˆ—çš„åŸºæœ¬æ“ä½œä¹Ÿæ˜¯ä¸¤ä¸ª, å…¥é˜Ÿå’Œå‡ºé˜Ÿ<br>
å’Œæ ˆä¸€æ ·ä¹Ÿæ˜¯ä¸€ç§æ“ä½œå—é™çš„çº¿æ€§è¡¨æ•°æ®ç»“æ„</p>
<h3 id="å®ç°ä¸€ä¸ªé˜Ÿåˆ—">å®ç°ä¸€ä¸ªé˜Ÿåˆ—</h3>
<p>ç”¨æ•°ç»„å®ç°çš„é˜Ÿåˆ—å«é¡ºåºé˜Ÿåˆ— (todo)<br>
ç”¨é“¾è¡¨å®ç°çš„é˜Ÿåˆ—å«é“¾å¼é˜Ÿåˆ— (todo)</p>
<h3 id="é˜Ÿåˆ—çš„åº”ç”¨">é˜Ÿåˆ—çš„åº”ç”¨</h3>
<ol>
<li>é˜»å¡é˜Ÿåˆ—<br>
é˜Ÿåˆ—ä¸ºç©ºæ—¶å–æ•°æ®è¢«é˜»å¡, é˜Ÿåˆ—æ»¡æ—¶, æ’å…¥æ•°æ®è¢«é˜»å¡, å³ç”Ÿäº§è€…æ¶ˆè´¹è€…æ¨¡å‹</li>
<li>å¹¶å‘é˜Ÿåˆ—<br>
å¤šçº¿ç¨‹çš„æƒ…å†µä¸‹, çº¿ç¨‹å®‰å…¨çš„é˜Ÿåˆ—å«å¹¶å‘é˜Ÿåˆ—, åŸºäºæ•°ç»„çš„å¾ªç¯é˜Ÿåˆ—, åˆ©ç”¨CASåŸå­æ“ä½œ, å¯å®ç°éå¸¸é«˜æ•ˆçš„å¹¶å‘é˜Ÿåˆ—, å› æ­¤å¾ªç¯é˜Ÿåˆ—æ¯”é“¾å¼é˜Ÿåˆ—åº”ç”¨æ›´åŠ å¹¿æ³›</li>
</ol>
<h3 id="å°ç»“-v3">å°ç»“</h3>
<p>é˜Ÿåˆ—å¯ä»¥åº”ç”¨åœ¨ä»»ä½•æœ‰é™èµ„æºæ± ä¸­, ç”¨äºæ’é˜Ÿè¯·æ±‚</p>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é˜Ÿåˆ—</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®ç»“æ„å­¦ä¹ ç¬”è®°-é“¾è¡¨</title>
    <url>/2020/09/03/20200903153417/</url>
    <content><![CDATA[<h2 id="é“¾è¡¨">é“¾è¡¨</h2>
<p>æ¯”æ•°ç»„ç¨å¾®å¤æ‚ä¸€ç‚¹çš„æ•°æ®ç»“æ„</p>
<h3 id="ç®€ä»‹">ç®€ä»‹</h3>
<p>ä¸éœ€è¦è¿ç»­çš„å†…å­˜ç©ºé—´, é€šè¿‡æŒ‡é’ˆå°†ä¸€ç»„é›¶æ•£çš„å†…å­˜å—ä¸²è”èµ·æ¥ä½¿ç”¨.<br>
é“¾è¡¨ç»“æ„äº”èŠ±å…«é—¨, ä¸‰ç§æœ€å¸¸è§çš„é“¾è¡¨ç»“æ„, <strong>å•é“¾è¡¨</strong>, <strong>åŒå‘é“¾è¡¨</strong>, <strong>å¾ªç¯é“¾è¡¨</strong>.</p>
<h3 id="å•é“¾è¡¨">å•é“¾è¡¨</h3>
<p>è¢«ä¸²è”çš„å†…å­˜å—ç§°ä¸ºç»“ç‚¹, æ¯ä¸ªç»“ç‚¹å­˜æœ‰<strong>æ•°æ®</strong>å’Œè®°å½•<strong>ä¸‹ä¸€ä¸ªç»“ç‚¹çš„åœ°å€</strong>, å«åšåç»§æŒ‡é’ˆnext<br>
ç¬¬ä¸€ä¸ªç»“ç‚¹å«å¤´ç»“ç‚¹, æœ€åä¸€ä¸ªç»“ç‚¹å«å°¾ç»“ç‚¹, å°¾ç»“ç‚¹æŒ‡å‘ä¸€ä¸ªç©ºåœ°å€null.</p>
<p>é“¾è¡¨ä¹Ÿæ”¯æŒæ•°æ®çš„æŸ¥æ‰¾, æ’å…¥å’Œåˆ é™¤æ“ä½œ<br>
é“¾è¡¨çš„æ’å…¥å’Œåˆ é™¤æ“ä½œåªéœ€è¦è€ƒè™‘ç›¸é‚»æ¥ç‚¹çš„æŒ‡é’ˆæ”¹å˜, æ‰€ä»¥æ—¶é—´å¤æ‚åº¦ä¸ºO(1).<br>
ä½†æƒ³è¦éšæœºè®¿é—®ç¬¬kä¸ªå…ƒç´ , å°±éœ€è¦ä¸€ä¸ªä¸€ä¸ªç»“ç‚¹éå†, éœ€è¦O(n)çš„æ—¶é—´å¤æ‚åº¦.</p>
<h3 id="å¾ªç¯é“¾è¡¨å’ŒåŒå‘é“¾è¡¨">å¾ªç¯é“¾è¡¨å’ŒåŒå‘é“¾è¡¨</h3>
<p>å¾ªç¯é“¾è¡¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„å•é“¾è¡¨, <strong>å°¾ç»“ç‚¹æŒ‡å‘é“¾è¡¨çš„å¤´ç»“ç‚¹</strong>.<br>
ä¼˜ç‚¹æ˜¯ä»é“¾å°¾åˆ°é“¾å¤´æ¯”è¾ƒæ–¹ä¾¿, å½“è¦å¤„ç†çš„æ•°æ®æœ‰ç¯å½¢ç»“æ„æ—¶, å°±é€‚åˆé‡‡ç”¨å¾ªç¯é“¾è¡¨, æ¯”å¦‚çº¦ç‘Ÿå¤«é—®é¢˜(todo)</p>
<p>åŒå‘é“¾è¡¨æ”¯æŒä¸¤ä¸ªæ–¹å‘, æ¯ä¸ªç»“ç‚¹ä¸åªæœ‰ä¸€ä¸ª<strong>åç»§æŒ‡é’ˆnext</strong>, è¿˜æœ‰ä¸€ä¸ª<strong>å‰é©±æŒ‡é’ˆprev</strong>.<br>
åŒå‘é“¾è¡¨éœ€è¦é¢å¤–çš„ç©ºé—´å­˜å‚¨åç»§ç»“ç‚¹å’Œå‰é©±ç»“ç‚¹åœ°å€, å¦‚æœå­˜å‚¨åŒæ ·å¤šçš„æ•°æ®, åŒå‘é“¾è¡¨æ¯”å•é“¾è¡¨å ç”¨æ›´å¤šçš„å†…å­˜ç©ºé—´.<br>
åŒå‘é“¾è¡¨å¯ä»¥O(1)çš„æ—¶é—´å¤æ‚åº¦æ‰¾åˆ°å‰é©±ç»“ç‚¹, å› æ­¤æŸäº›æƒ…å†µä¸‹, åŒå‘é“¾è¡¨çš„æ’å…¥åˆ é™¤ç­‰æ“ä½œæ¯”å•é“¾è¡¨æ›´ç®€å•é«˜æ•ˆ.</p>
<p>å¸¸è§çš„åˆ é™¤æ“ä½œæœ‰ä¸¤ç§:</p>
<ol>
<li>åˆ é™¤ç»“ç‚¹ä¸­å€¼ç­‰äºç»™å®šå€¼çš„ç»“ç‚¹</li>
<li>åˆ é™¤ç»™é¡¶æŒ‡é’ˆæŒ‡å‘çš„ç»“ç‚¹</li>
</ol>
<p>å¯¹äºç¬¬ä¸€ç§, å•é“¾è¡¨å’ŒåŒå‘é“¾è¡¨çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯O(n), ä½†å¯¹äºç¬¬äºŒç§, åŒå‘é“¾è¡¨çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(1),<br>
åŒç†, åœ¨é“¾è¡¨çš„æŸä¸ªæŒ‡å®šç»“ç‚¹å‰æ’å…¥ä¸€ä¸ªç»“ç‚¹æ—¶, åŒå‘é“¾è¡¨çš„æ—¶é—´å¤æ‚åº¦ä¹Ÿæ˜¯O(1).<br>
å¦å¤–, å¯¹äºæœ‰åºé“¾è¡¨, åŒå‘é“¾è¡¨çš„æŒ‰å€¼æŸ¥è¯¢æ•ˆç‡ä¹Ÿé«˜ä¸€äº›.</p>
<p><strong>åŒå‘é“¾è¡¨å°½ç®¡æ¯”è¾ƒè´¹å†…å­˜, ä½†æ¯”å•é“¾è¡¨åº”ç”¨æ›´å¹¿æ³›, æ¯”å¦‚javaä¸­çš„LinkedHashMapå®¹å™¨, å°±ç”¨åˆ°äº†åŒå‘é“¾è¡¨, å³ç©ºé—´æ¢æ—¶é—´ç­–ç•¥.</strong></p>
<h3 id="å’Œæ•°ç»„çš„æ¯”è¾ƒ">å’Œæ•°ç»„çš„æ¯”è¾ƒ</h3>
<p>æ’å…¥, åˆ é™¤, éšæœºè®¿é—®çš„æ—¶é—´å¤æ‚åº¦æ­£å¥½ç›¸å.<br>
æ•°ç»„ç®€å•æ˜“ç”¨, å¯å€ŸåŠ©cpuç¼“å­˜æœºåˆ¶é¢„è¯»æ•°ç»„ä¸­çš„æ•°æ®, è®¿é—®æ•ˆç‡æ›´é«˜, ç¼ºç‚¹æ˜¯å¤§å°å›ºå®š, ä¸èƒ½åŠ¨æ€æ‰©å®¹.</p>
<h3 id="å†™é“¾è¡¨ä»£ç æŠ€å·§">å†™é“¾è¡¨ä»£ç æŠ€å·§</h3>
<ol>
<li>ç†è§£æŒ‡é’ˆæˆ–å¼•ç”¨å«ä¹‰<br>
å°†æŸä¸ªå˜é‡èµ‹å€¼ç»™æŒ‡é’ˆ, å®é™…ä¸Šæ˜¯å°†è¿™ä¸ªå˜é‡çš„åœ°å€èµ‹å€¼ç»™æŒ‡é’ˆ.</li>
<li>è­¦æƒ•æŒ‡é’ˆä¸¢å¤±å’Œå†…å­˜æ³„æ¼<br>
æ’å…¥èŠ‚ç‚¹æ—¶, ä¸€å®šè¦æ³¨æ„æ“ä½œé¡ºåº.</li>
<li>åˆ©ç”¨å“¨å…µç®€åŒ–å®ç°éš¾åº¦<br>
é’ˆå¯¹é“¾è¡¨çš„æ’å…¥åˆ é™¤æ“ä½œ, éœ€è¦å¯¹æ’å…¥å¤´ç»“ç‚¹å’Œåˆ é™¤å°¾ç»“ç‚¹ç‰¹æ®Šå¤„ç†, æ‰€ä»¥å¯æ’å…¥ä¸€ä¸ªä¸å¸¦æ•°æ®çš„å“¨å…µç»“ç‚¹, è¿™ç§é“¾è¡¨è¢«ç§°ä¸ºå¸¦å¤´é“¾è¡¨.</li>
<li>é‡ç‚¹ç•™æ„è¾¹ç•Œæ¡ä»¶å¤„ç†<br>
æ¯”å¦‚é“¾è¡¨ä¸ºç©º, åªæœ‰ä¸€ä¸ªç»“ç‚¹, æœ‰ä¸¤ä¸ªç»“ç‚¹, å¤„ç†å¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹æ—¶.</li>
<li>ä¸¾ä¾‹ç”»å›¾, è¾…åŠ©æ€è€ƒ<br>
ç”»å›¾æ³•å’Œä¸¾ä¾‹æ³•, å¸®åŠ©ç†æ¸…æ€è·¯</li>
<li>å¤šå†™å¤šç»ƒ<br>
<a href="https://github.com/WangDanpeng/Vamos/blob/main/src/main/scala/wdp/struct/link/ReverseSingleLink.scala" target="_blank" rel="noopener">å•é“¾è¡¨åè½¬</a><br>
é“¾è¡¨ä¸­ç¯çš„æ£€æµ‹ (todo)<br>
ä¸¤ä¸ªæœ‰åºçš„é“¾è¡¨åˆå¹¶ (todo)<br>
åˆ é™¤é“¾è¡¨å€’æ•°ç¬¬nä¸ªç»“ç‚¹ (todo)<br>
æ±‚é“¾è¡¨çš„ä¸­é—´ç»“ç‚¹ (todo)<br>
<a href="https://github.com/WangDanpeng/Vamos/blob/main/src/main/scala/wdp/struct/link/LRU.scala" target="_blank" rel="noopener">åŸºäºé“¾è¡¨å®ç°LRUç¼“å­˜æ·˜æ±°ç®—æ³•</a><br>
å•é“¾è¡¨å­—ç¬¦ä¸², åˆ¤æ–­æ˜¯ä¸€ä¸ªå›æ–‡ä¸² (todo)</li>
</ol>
]]></content>
      <categories>
        <category>æ•°æ®ç»“æ„</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>ç®—æ³•é¢˜-æµ·ç›—åˆ†èµƒ</title>
    <url>/2018/11/27/20181127102854/</url>
    <content><![CDATA[<blockquote>
<p><strong>6ä¸ªæµ·ç›—è¦åˆ†èµƒ300é‡‘å¸ã€‚è§„åˆ™æ˜¯ç”±èµ„æ ¼æœ€è€çš„æµ·ç›—æå‡ºå„äººåˆ†åˆ°çš„æ•°é‡ï¼Œç„¶åå…¨ä½“æŠ•ç¥¨ã€‚å¦‚æ–¹æ¡ˆå¾—åˆ°è‡³å°‘åŠæ•°åŒæ„ç¥¨ï¼Œåˆ™æŒ‰è¯¥æ–¹æ¡ˆæ‰§è¡Œï¼Œå¦åˆ™æå‡ºæ–¹æ¡ˆçš„æµ·ç›—è¢«æ€æ­»ï¼Œå†ç”±å‰©ä¸‹äººä¸­èµ„æ ¼æœ€è€çš„ç»§ç»­æå‡ºæ–¹æ¡ˆã€‚æµ·ç›—éƒ½å¾ˆèªæ˜ï¼Œåœ¨èƒ½ç”Ÿå­˜çš„å‰æä¸‹ä¼šè¿½æ±‚è·åˆ©æœ€å¤§åŒ–ã€‚é—®æœ€ååˆ†èµƒç»“æœæ˜¯æ€æ ·çš„?</strong></p>
</blockquote>
<p>è¿™é“é¢˜è¯¦ç»†çš„è§£é¢˜æ­¥éª¤ä¸€æœå°±æœ‰, æˆ‘åªè¯´ä¸€ä¸‹æˆ‘è‡ªå·±çš„ç†è§£.</p>
<h2 id="ä¸¤ä¸ªäºº">ä¸¤ä¸ªäºº?</h2>
<p>é¦–å…ˆè¿˜æ˜¯éœ€è¦ç®€åŒ–è¿™é“é¢˜, å‡å¦‚åªæœ‰ä¸¤ä¸ªäºº, åº”è¯¥æ€ä¹ˆåˆ†<br>
<img src="http://www.wangdanpeng.com/img/20181127102854-1.png" alt="two"><br>
å› ä¸ºåªè¦æŠ•ç¥¨å¾—åˆ°åŠæ•°å°±å¯é€šè¿‡, åªæœ‰ä¸¤ä¸ªäººæ—¶, è€å¤§ä¸ç®¡æ€ä¹ˆåˆ†, åªè¦è‡ªå·±åŒæ„, å°±å¯ä»¥é€šè¿‡, æ‰€ä»¥ä»–ä¸€å®šä¼šåˆ†ç»™è‡ªå·±300é‡‘, ä¸€æ¯›éƒ½ä¸ç»™è€äºŒ.</p>
<h2 id="ä¸‰ä¸ªäºº">ä¸‰ä¸ªäºº?</h2>
<p>é‚£ä¹ˆå‡å¦‚æœ‰ä¸‰ä¸ªäººå‘¢?, æƒ³è¦æŠ•ç¥¨é€šè¿‡, å°±å¿…é¡»æœ‰ä¸¤ä¸ªäººåŒæ„æ‰è¡Œ, é‚£ä¹ˆç°åœ¨æ¥åˆ†æä¸€ä¸‹è¿™ä¸‰ä¸ªäººé‡Œæœ‰è°æ˜¯åˆ©ç›Šç›¸å…³çš„<br>
è€å¤§å’Œè€äºŒ -&gt; åªè¦è€å¤§æ­»äº†, è€äºŒèƒ½å¾—åˆ°å…¨éƒ¨çš„300é‡‘<br>
è€äºŒå’Œè€ä¸‰ -&gt; è€äºŒå¯ä»¥æ‰¿è¯ºç»™è€ä¸‰å¤šå°‘é’±ä¸€èµ·ææ­»è€å¤§, ä½†æ˜¯è€å¤§å¦‚æœæ­»äº†, è€äºŒåšä¸», è‡ªå·±å¯èƒ½ä¸€æ¯›ä¹Ÿæ‹¿ä¸åˆ°<br>
è€å¤§å’Œè€ä¸‰ -&gt; è€å¤§å’Œè€ä¸‰è”æ‰‹, è€ä¸‰ä¸€å®šèƒ½æ‹¿åˆ°é’±<br>
<img src="http://www.wangdanpeng.com/img/20181127102854-2.png" alt="three"><br>
è¿™ç§æƒ…å†µä¸‹, è€å¤§å³ä½¿ç»™è€ä¸‰1é‡‘, è€ä¸‰ä¹Ÿæ˜¯æ„¿æ„æ”¯æŒè€å¤§çš„, æœ€åç»“æœå°±æ˜¯è€å¤§299é‡‘, è€äºŒ0, è€ä¸‰1é‡‘</p>
<h2 id="å…­ä¸ªäºº">å…­ä¸ªäºº?</h2>
<p>ä»ä¸Šé¢ä¸‰ä¸ªäººå¯ä»¥å¾—å‡ºç»“è®º, ç›¸é‚»çš„ä¸¤ä¸ªäººæ˜¯æ­»æ•Œå…³ç³», æƒ³è¦åŠæ•°ç¥¨é€šè¿‡, ä¸€å®šä¸èƒ½æ”¶ä¹°ç›¸é‚»çš„äºº, é‚£ä¹ˆè€å¤§åªéœ€è¦æ”¶ä¹°è€ä¸‰å’Œè€äº”, ä»–ä»¬å°±ä¸€å®šä¼šåŒæ„, æœ€åè€å¤§298, è€äºŒ0, è€ä¸‰1é‡‘, è€å››0, è€äº”1é‡‘, è€å…­0</p>
]]></content>
      <categories>
        <category>ç®—æ³•é¢˜</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œç³»åˆ—ç¬”è®°(äº”) - æ•°æ®é“¾è·¯å±‚</title>
    <url>/2022/02/11/20220211102604/</url>
    <content><![CDATA[<h1 id="æ•°æ®é“¾è·¯å±‚æœåŠ¡">æ•°æ®é“¾è·¯å±‚æœåŠ¡</h1>
<p>ä¸»æœºå’Œè·¯ç”±å™¨ç§°ä¸ºç»“ç‚¹, è¿æ¥ç›¸é‚»ç»“ç‚¹çš„é€šä¿¡ä¿¡é“ç§°ä¸ºé“¾è·¯, æœ‰æœ‰çº¿é“¾è·¯, æ— çº¿é“¾è·¯å’Œå±€åŸŸç½‘<br>
<strong>æ•°æ®é“¾è·¯å±‚è´Ÿè´£é€šè¿‡ä¸€æ¡é“¾è·¯ä»ä¸€ä¸ªèŠ‚ç‚¹å‘å¦ä¸€ä¸ªç‰©ç†é“¾è·¯ç›´æ¥ç›¸è¿çš„ç›¸é‚»ç»“ç‚¹ä¼ é€æ•°æ®æŠ¥</strong><br>
é“¾è·¯å±‚æœåŠ¡åŒ…æ‹¬</p>
<ul>
<li><strong>ç»„å¸§</strong>, å°è£…æ•°æ®æŠ¥æ„æˆæ•°æ®å¸§, åŠ é¦–éƒ¨å’Œå°¾éƒ¨; å¸§åŒæ­¥</li>
<li><strong>é“¾è·¯æ¥å…¥</strong>, å…±äº«ä»‹è´¨éœ€è¦è§£å†³ä¿¡é“æ¥å…¥; å¸§é¦–éƒ¨ä¸­çš„MACåœ°å€, ç”¨äºæ ‡è¯†å¸§çš„æºå’Œç›®çš„</li>
<li><strong>ç›¸é‚»æ¥ç‚¹é—´å¯é äº¤ä»˜</strong>, åœ¨ä½è¯¯ç ç‡çš„æœ‰çº¿é“¾è·¯ä¸Šå¾ˆå°‘é‡‡ç”¨; æ— çº¿é“¾è·¯è¯¯ç ç‡é«˜,éœ€è¦å¯é äº¤ä»˜</li>
<li><strong>æµé‡æ§åˆ¶</strong>, åè°ƒç›¸é‚»çš„å‘é€ç»“ç‚¹å’Œæ¥æ”¶</li>
<li><strong>å·®é”™æ£€æµ‹</strong>, ä¿¡å·è¡°å‡å’Œå™ªå£°ä¼šå¼•èµ·å·®é”™; æ¥æ”¶ç«¯æ£€æµ‹åˆ°å·®é”™é€šçŸ¥å‘é€ç«¯é‡ä¼ æˆ–ç›´æ¥ä¸¢å¼ƒå¸§</li>
<li><strong>å·®é”™çº æ­£</strong>, æ¥æ”¶ç«¯ç›´æ¥çº æ­£æ¯”ç‰¹å·®é”™</li>
<li><strong>å…¨åŒå·¥å’ŒåŠåŒå·¥é€šä¿¡æ§åˆ¶</strong>, å…¨åŒå·¥, é“¾è·¯ä¸¤ç«¯ç»“ç‚¹<strong>åŒæ—¶</strong>åŒå‘ä¼ è¾“; åŠåŒå·¥, ä¸¤ç«¯ç»“ç‚¹<strong>äº¤æ›¿</strong>åŒå‘ä¼ è¾“</li>
</ul>
<p>å…·ä½“å®ç°<br>
æ¯ä¸ªä¸»æœºæˆ–è·¯ç”±å™¨æ¥å£<br>
é“¾è·¯å±‚åœ¨é€‚é…å™¨(ç½‘ç»œæ¥å£å¡)ä¸­å®ç°æˆ–è€…åœ¨ä¸€ä¸ªèŠ¯ç‰‡ä¸Šå®ç°(ä»¥å¤ªç½‘ç½‘å¡, 802.11ç½‘å¡, ä»¥å¤ªç½‘èŠ¯ç‰‡ç»„)<br>
é“¾æ¥ä¸»æœºçš„ç³»ç»Ÿæ€»çº¿<br>
ç”±ç¡¬ä»¶, è½¯ä»¶ä¸å›ºä»¶ç»„æˆ<br>
<strong>ç½‘å¡é—´é€šä¿¡</strong><br>
å‘é€ç«¯å°†æ•°æ®æŠ¥å°è£…æˆå¸§, å¢åŠ å·®é”™æ£€æµ‹æ¯”ç‰¹, å®ç°å¯é æ•°æ®ä¼ è¾“å’Œæµé‡æ§åˆ¶<br>
æ¥æ”¶ç«¯æ£€æµ‹å·®é”™, å®ç°å¯é æ•°æ®ä¼ è¾“å’Œæµé‡æ§åˆ¶, æå–æ•°æ®æŠ¥, äº¤ä»˜ä¸Šå±‚åè®®å®ä½“</p>
<h1 id="å·®é”™ç¼–ç ">å·®é”™ç¼–ç </h1>
<p>å·®é”™ç¼–ç ä¸èƒ½ä¿è¯100%å¯é <br>
åŸºæœ¬åŸç†: åœ¨æ•°æ®Dä¸Šæ·»åŠ å·®é”™æ£€æµ‹ä¸çº æ­£æ¯”ç‰¹(å†—ä½™æ¯”ç‰¹)R, ä»D-&gt;DR<br>
å·®é”™ç¼–ç å¯åˆ†ä¸ºæ£€é”™ç å’Œçº é”™ç , çº é”™ç éœ€è¦æ¯”æ£€é”™ç ä½æ•°æ›´å¤š<br>
æ£€æµ‹rä½å·®é”™éœ€è¦æ£€é”™ç çš„ç¼–ç é›†çš„æ±‰æ˜è·ç¦»ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>s</mi></msub><mo>=</mo><mi>r</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d_s=r+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">s</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span><br>
çº æ­£rä½å·®é”™éœ€è¦çº é”™ç çš„ç¼–ç é›†çš„æ±‰æ˜è·ç¦»ä¸º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>d</mi><mi>s</mi></msub><mo>=</mo><mn>2</mn><mi>r</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">d_s=2r+1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.84444em;vertical-align:-0.15em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathit">d</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:0em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathit">s</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mrel">=</span><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mbin">+</span><span class="mord mathrm">1</span></span></span></span></p>
<blockquote>
<p>æ±‰æ˜è·ç¦»: ä¸¤ä¸ªç­‰é•¿å­—ç¬¦ä¸²ä¹‹é—´çš„æ±‰æ˜è·ç¦»æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹åº”ä½ç½®çš„ä¸åŒå­—ç¬¦çš„ä¸ªæ•°</p>
</blockquote>
<p><strong>å¥‡å¶æ ¡éªŒç </strong></p>
<ul>
<li>1æ¯”ç‰¹æ ¡éªŒä½, æ£€æµ‹å¥‡æ•°ä½å·®é”™</li>
<li>äºŒç»´å¥‡å¶æ ¡éªŒ, æ£€æµ‹å¥‡æ•°ä½å·®é”™, éƒ¨åˆ†å¶æ•°ä½å·®é”™, çº æ­£åŒä¸€è¡Œ/åˆ—çš„å¥‡æ•°ä½å·®é”™</li>
</ul>
<p><strong>internetæ ¡éªŒå’Œ</strong><br>
å‘é€ç«¯å°†æ•°æ®åˆ’åˆ†ä¸º16ä½çš„äºŒè¿›åˆ¶æ•´æ•°åºåˆ—, è¡¥ç æ±‚å’Œ, æ±‚å’Œçš„åç åŠ å…¥åˆ†ç»„çš„æ ¡éªŒå’Œå­—æ®µ, æ¥æ”¶ç«¯ä¸å‘é€ç«¯ç›¸åŒç®—æ³•è®¡ç®—<br>
<strong>å¾ªç¯å†—ä½™æ ¡éªŒç (CRC)</strong><br>
æ£€é”™èƒ½åŠ›æ›´å¼ºå¤§çš„å·®é”™ç¼–ç , å¹¿æ³›åº”ç”¨äºå®é™…ç½‘ç»œ</p>
<h1 id="å¤šè·¯è®¿é—®æ§åˆ¶åè®®-MAC">å¤šè·¯è®¿é—®æ§åˆ¶åè®®(MAC)</h1>
<p>é“¾è·¯æœ‰ä¸¤ç±»</p>
<ul>
<li>ç‚¹å¯¹ç‚¹é“¾è·¯, æ‹¨å·æ¥å…¥çš„PPP, ä»¥å¤ªç½‘äº¤æ¢æœºä¸ä¸»æœºé—´çš„ç‚¹å¯¹ç‚¹é“¾è·¯</li>
<li>å¹¿æ’­é“¾è·¯(å…±äº«ä»‹è´¨), æ—©æœŸçš„æ€»çº¿ä»¥å¤ªç½‘, HFCçš„ä¸Šè¡Œé“¾è·¯, 802.11æ— çº¿å±€åŸŸç½‘</li>
</ul>
<p>å•ä¸€å…±äº«å¹¿æ’­ä¿¡é“å†…, ä¸¤ä¸ªæˆ–ä»¥ä¸Šç»“ç‚¹åŒæ—¶ä¼ è¾“, ä¼šäº§ç”Ÿå†²çª, ç»“ç‚¹åŒæ—¶æ¥æ”¶åˆ°å¤šä¸ªä¿¡å·åˆ™æ¥æ”¶å¤±è´¥<br>
å¤šè·¯è®¿é—®æ§åˆ¶åè®®(multiple access control protocol) é‡‡ç”¨åˆ†å¸ƒå¼ç®—æ³•å†³å®šç»“ç‚¹å¦‚ä½•å…±äº«ä¿¡é“, å†³ç­–ç»“ç‚¹ä½•æ—¶å¯ä»¥ä¼ è¾“æ•°æ®, åŸºäºä¿¡é“æœ¬èº«, é€šä¿¡ä¿¡é“å…±äº«åè°ƒä¿¡æ¯<br>
MACåè®®ä¸‰å¤§ç±»</p>
<ul>
<li><strong>ä¿¡é“åŒ–åˆ†MACåè®®</strong>, å¤šè·¯å¤ç”¨æŠ€æœ¯,æ—¶é—´, é¢‘å¸¦, ç ç‰‡åˆ’åˆ†, TDMA, FDMA, CDMA, WDMAç­‰, ç½‘ç»œè´Ÿè½½é‡æ—¶æ•ˆç‡é«˜,ä¸”å…¬å¹³, ç½‘ç»œè´Ÿè½½è½»æ—¶æ•ˆç‡ä½</li>
<li><strong>éšæœºè®¿é—®MACåè®®</strong>, ä¿¡é“ä¸åˆ’åˆ†, å…è®¸å†²çª, é‡‡ç”¨å†²çªæ¢å¤æœºåˆ¶, æ—¶éš™ALOHA(ä¿¡é“æˆåŠŸåˆ©ç”¨æ—¶é—´å 37%), ALOHA(ä¿¡é“æˆåŠŸåˆ©ç”¨æ—¶é—´å 18%), CSMA, CSMA/CD(åº”ç”¨äºä»¥å¤ªç½‘), CSMA/CA(åº”ç”¨äº802.11æ— çº¿å±€åŸŸç½‘)ç­‰, ç½‘ç»œè´Ÿè½½è½»æ—¶æ•ˆç‡é«˜, è´Ÿè½½é‡æ—¶, äº§ç”Ÿå†²çªå¼€é”€</li>
<li><strong>è½®è½¬MACåè®®</strong>, ç»“ç‚¹è½®æµä½¿ç”¨ä¿¡é“, ç»¼åˆå‰ä¸¤è€…ä¼˜ç‚¹, ä¸»ç»“ç‚¹è½®è¯¢, ä»¤ç‰Œä¼ é€’, ç”¨äºè“ç‰™, FDDI, ä»¤ç‰Œç¯ç½‘</li>
</ul>
]]></content>
      <categories>
        <category>ç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>é¢è¯•é¢˜-urlç»“å°¾å¸¦ä¸å¸¦æ–œæ çš„è®¿é—®é€Ÿåº¦</title>
    <url>/2017/02/26/20170226142341/</url>
    <content><![CDATA[<p>ä¹‹å‰æœ‰ä¸€æ¬¡é¢è¯•é‡åˆ°ä¸€ä¸ªé—®é¢˜(æ‹¿æˆ‘çš„åšå®¢ä¸¾ä¾‹):</p>
<blockquote>
<p><a href="http://www.wangdanpeng.com/about%E5%92%8Cwww.wangdanpeng.com/about/%E5%93%AA%E7%A7%8D%E8%AE%BF%E9%97%AE%E6%96%B9%E5%BC%8F%E9%80%9F%E5%BA%A6%E6%9B%B4%E5%BF%AB">www.wangdanpeng.com/aboutå’Œwww.wangdanpeng.com/about/å“ªç§è®¿é—®æ–¹å¼é€Ÿåº¦æ›´å¿«</a>?</p>
</blockquote>
<p>ä¹‹å‰ä¹Ÿæ²¡è€ƒè™‘è¿‡è¿™ä¸ª, é‡åˆ°è¿™ä¸ªé¢˜è¿˜çœŸæ˜¯ä¸€è„¸æ‡µé€¼,äº‹åå°±åœ¨CSDNå‘äº†ç¯‡å¸–å­, æ²¡æƒ³åˆ°è¿˜è¢«ä¸Šäº†æ¨è,çœŸæ˜¯å—å® è‹¥æƒŠ.<a href="http://bbs.csdn.net/topics/391942437" target="_blank" rel="noopener">ä¸€ä¸ªé«˜æ·±è«æµ‹çš„é¢è¯•é¢˜</a></p>
<p>åœ¨ä¸Šé¢è®¿é—®çš„urlä¸­:<br>
å½“è¯·æ±‚ç¬¬ä¸€ä¸ªä¸å¸¦æ–œæ çš„urlæ—¶, æœåŠ¡å™¨ä¼šä¼˜å…ˆæŸ¥æ‰¾æ ¹ç›®å½•ä¸‹æœ‰æ²¡æœ‰å«aboutçš„æ–‡ä»¶, æ²¡æœ‰æ–‡ä»¶å†æŠŠaboutå½“åšç›®å½•å¤„ç†, å†å»åŠ è½½aboutç›®å½•ä¸‹çš„é»˜è®¤é¦–é¡µ;<br>
ä½†æ˜¯å½“è¯·æ±‚ç¬¬äºŒä¸ªå¸¦æœ‰æ–œæ çš„urlåˆ™ç›´æ¥æŠŠaboutå½“åšç›®å½•å¤„ç†, ç†è®ºä¸Šä¼šæ¯”ç¬¬ä¸€ç§å¿«é‚£ä¹ˆä¸€ç‚¹ç‚¹.</p>
<p>æ‹¿ç™¾åº¦æ¥è¯´, <a href="http://xn--www-628dz49ktjtoe0a.baidu.xn--comwww-k02mh66y.baidu.com/%E4%BB%8E%E6%8E%A7%E5%88%B6%E5%8F%B0%E7%9C%8B%E5%88%B0%E7%9A%84request" target="_blank" rel="noopener">ä¸ç®¡è¯·æ±‚www.baidu.comè¿˜æ˜¯www.baidu.com/ä»æ§åˆ¶å°çœ‹åˆ°çš„request</a> urléƒ½æ˜¯https://www.baidu.com/, æ‰€ä»¥åœ¨è‡ªå·±åšå¼€å‘çš„æ—¶å€™å°½é‡éƒ½åœ¨urlç»“å°¾å¸¦ä¸Šæ–œæ ,è¿™ä¹Ÿç®—æ˜¯ä¸€ç§SEOä¼˜åŒ–.</p>
]]></content>
      <categories>
        <category>é¢è¯•é¢˜</category>
      </categories>
      <tags>
        <tag>é¢è¯•é¢˜</tag>
        <tag>Web</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œç³»åˆ—ç¬”è®°(äºŒ) - ç½‘ç»œåº”ç”¨å±‚</title>
    <url>/2022/02/09/20220209110515/</url>
    <content><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1>
<p><strong>ç½‘ç»œåº”ç”¨ä½“ç³»ç»“æ„</strong>: å®¢æˆ·æœº/æœåŠ¡å™¨, P2P, æ··åˆç»“æ„<br>
<strong>ç½‘ç»œåº”ç”¨çš„æœåŠ¡éœ€æ±‚</strong>: å¯é æ€§, å¸¦å®½, æ—¶å»¶<br>
<strong>internetä¼ è¾“å±‚æœåŠ¡æ¨¡å‹</strong>: TCP, UDP<br>
<strong>ç‰¹å®šç½‘ç»œåº”ç”¨åŠåè®®</strong>: HTTP, SMTP, DNS, P2P<br>
<strong>Socketç¼–ç¨‹</strong>: TCP, UDP</p>
<h1 id="ç½‘ç»œåº”ç”¨çš„åŸºæœ¬åŸç†">ç½‘ç»œåº”ç”¨çš„åŸºæœ¬åŸç†</h1>
<p>ç½‘ç»œåº”ç”¨çš„ä½“ç³»ç»“æ„æœ‰ä¸‰ç§<br>
<strong>å®¢æˆ·æœº/æœåŠ¡å™¨ç»“æ„(Client-Server, C/S)</strong><br>
æœåŠ¡å™¨ç‰¹ç‚¹: 7 Ã— 24å°æ—¶æä¾›æœåŠ¡, æ°¸ä¹…æ€§è®¿é—®åœ°å€, åˆ©ç”¨å¤§é‡æœåŠ¡å™¨å®ç°å¯æ‰©å±•æ€§<br>
å®¢æˆ·æœºç‰¹ç‚¹: ä¸æœåŠ¡å™¨é€šä¿¡ä½¿ç”¨æœåŠ¡å™¨æä¾›çš„æœåŠ¡, é—´æ­‡æ€§æ¥å…¥ç½‘ç»œ, å¯èƒ½ä½¿ç”¨åŠ¨æ€IPåœ°å€, ä¸ä¼šä¸å…¶ä»–å®¢æˆ·æœºç›´æ¥é€šä¿¡<br>
<strong>ç‚¹å¯¹ç‚¹ç»“æ„(Peer-to-Peer, P2P)</strong>: æ²¡æœ‰æ°¸è¿œåœ¨çº¿çš„æœåŠ¡å™¨, ä»»æ„èŠ‚ç‚¹ä¹‹é—´å¯ç›´æ¥é€šè®¯, èŠ‚ç‚¹é—´æ­‡æ€§æ¥å…¥ç½‘ç»œ, èŠ‚ç‚¹å¯èƒ½æ”¹å˜IPåœ°å€, ä¼˜ç‚¹æ˜¯é«˜åº¦å¯ä¼¸ç¼©, ç¼ºç‚¹æ˜¯éš¾äºç®¡ç†<br>
<strong>æ··åˆç»“æ„(Hybrid)</strong>: ä¾‹å¦‚Napster, æ–‡ä»¶ä¼ è¾“ä½¿ç”¨P2Pç»“æ„, æ–‡ä»¶æœç´¢é‡‡ç”¨C/Sç»“æ„</p>
<h2 id="è¿›ç¨‹é—´é€šä¿¡">è¿›ç¨‹é—´é€šä¿¡</h2>
<p>ä¸åŒä¸»æœºä¸Šçš„è¿›ç¨‹é—´é€šä¿¡éœ€è¦æ¶ˆæ¯äº¤æ¢, å‘èµ·é€šä¿¡çš„è¿›ç¨‹å«å®¢æˆ·æœºè¿›ç¨‹, ç­‰å¾…é€šä¿¡è¯·æ±‚çš„è¿›ç¨‹å«æœåŠ¡å™¨è¿›ç¨‹<br>
<strong>å¥—æ¥å­—(Socket)</strong>: è¿›ç¨‹é—´é€šä¿¡åˆ©ç”¨socketå‘é€/æ¥æ”¶æ¶ˆæ¯å®ç°, ä¼ è¾“åŸºç¡€è®¾æ–½å‘è¿›ç¨‹æä¾›API<br>
è¿›ç¨‹çš„æ ‡è¯†ç¬¦: IPåœ°å€+ç«¯å£å·<br>
<strong>åº”ç”¨å±‚åè®®</strong>: ç½‘ç»œåº”ç”¨éœ€éµå®ˆåº”ç”¨å±‚åè®®, åˆ†ä¸ºå…¬å¼€åè®®, ç”±RFC(Request For Comments)å®šä¹‰å’Œç§æœ‰åè®®<br>
åº”ç”¨å±‚åè®®å†…å®¹</p>
<ul>
<li>æ¶ˆæ¯çš„ç±»å‹ (è¯·æ±‚æ¶ˆæ¯, ç›¸åº”æ¶ˆæ¯)</li>
<li>æ¶ˆæ¯çš„è¯­æ³•æ ¼å¼ (åŒ…å«å“ªäº›å­—æ®µ)</li>
<li>å­—æ®µçš„è¯­ä¹‰ (å­—æ®µä¸­ä¿¡æ¯çš„å«ä¹‰)</li>
<li>è§„åˆ™ (è¿›ç¨‹ä½•æ—¶å‘é€/ç›¸åº”æ¶ˆæ¯, è¿›ç¨‹å¦‚ä½•å‘é€/ç›¸åº”æ¶ˆæ¯)</li>
</ul>
<h2 id="ç½‘ç»œåº”ç”¨çš„éœ€æ±‚">ç½‘ç»œåº”ç”¨çš„éœ€æ±‚</h2>
<p>ç½‘ç»œåº”ç”¨å¯¹ä¼ è¾“æœåŠ¡çš„éœ€æ±‚</p>
<ul>
<li>å¯é æ€§ (ç½‘ç»œç”µè¯èƒ½å®¹å¿ä¸€å®šæ•°æ®ä¸¢å¤±, æ–‡ä»¶ä¼ è¾“ä¸è¡Œ)</li>
<li>å»¶è¿Ÿ (ç½‘ç»œæ¸¸æˆè¦æ±‚ä½å»¶è¿Ÿ)</li>
<li>å¸¦å®½ (ç½‘ç»œè§†é¢‘å¯¹å¸¦å®½æœ‰æœ€ä½è¦æ±‚, emailåˆ™æ²¡æœ‰)</li>
</ul>
<p>Internetæä¾›çš„ä¼ è¾“æœåŠ¡å¯¹æ¯”<br>
<strong>TCPæœåŠ¡</strong></p>
<ul>
<li>é¢å‘è¿æ¥, å®¢æˆ·æœº/æœåŠ¡å™¨è¿›ç¨‹é—´éœ€è¦å»ºç«‹è¿æ¥</li>
<li>å¯é çš„ä¼ è¾“</li>
<li>æµé‡æ§åˆ¶, å‘é€æ–¹ä¸ä¼šå‘é€é€Ÿåº¦è¿‡å¿«è€Œè¶…è¿‡æ¥æ”¶æ–¹å¤„ç†èƒ½åŠ›</li>
<li>æ‹¥å¡æ§åˆ¶, å½“ç½‘ç»œè´Ÿè½½è¿‡é‡æ—¶èƒ½å¤Ÿé™åˆ¶å‘é€æ–¹çš„å‘é€é€Ÿåº¦</li>
<li>ä¸æä¾›å»¶è¿Ÿä¿éšœ</li>
<li>ä¸æä¾›æœ€å°å¸¦å®½ä¿éšœ</li>
</ul>
<p><strong>UDPæœåŠ¡</strong></p>
<ul>
<li>æ— è¿æ¥</li>
<li>ä¸å¯é æ•°æ®ä¼ è¾“</li>
<li>ä¸æä¾›å¯é æ€§ä¿éšœ, æµé‡æ§åˆ¶, æ‹¥å¡æ§åˆ¶, å»¶è¿Ÿä¿éšœ, å¸¦å®½ä¿éšœ</li>
</ul>
<h1 id="WEBåº”ç”¨">WEBåº”ç”¨</h1>
<blockquote>
<p>ç½‘é¡µå¯¹è±¡çš„å¯»å€: URL(Uniform Resoure Locator)ç»Ÿä¸€èµ„æºå®šä½å™¨</p>
</blockquote>
<p><strong>httpåè®®æ¦‚è¿°</strong><br>
ä¸‡ç»´ç½‘éµå¾ªçš„åè®®, è¶…æ–‡æœ¬ä¼ è¾“åè®®(HyperTexi Transfer Protocol), ä½¿ç”¨TCPä¼ è¾“æœåŠ¡, æ— çŠ¶æ€, æœåŠ¡å™¨ä¸ç»´æŠ¤ä»»ä½•æœ‰å…³å®¢æˆ·ç«¯è¿‡å»æ‰€å‘è¯·æ±‚çš„ä¿¡æ¯<br>
httpæœ‰ä¸¤ç§è¿æ¥æ–¹å¼, éæŒä¹…æ€§è¿æ¥, æ¯ä¸ªTCPè¿æ¥æœ€å¤šå…è®¸ä¼ è¾“ä¸€ä¸ªå¯¹è±¡; æŒä¹…æ€§è¿æ¥, æ¯ä¸ªTCPè¿æ¥å…è®¸ä¼ è¾“å¤šä¸ªå¯¹è±¡<br>
<strong>å“åº”æ—¶é—´</strong><br>
RTT(Round Trip Time), ä»å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªå¾ˆå°çš„æ•°æ®åŒ…åˆ°æœåŠ¡å™¨å¹¶è¿”å›æ‰€ç»å†çš„æ—¶é—´<br>
å‘èµ·, å»ºç«‹TCPè¿æ¥, éœ€è¦1ä¸ªRTT, å‘é€httpè¯·æ±‚æ¶ˆæ¯åˆ°httpå“åº”æ¶ˆæ¯çš„å‰å‡ ä¸ªå­—èŠ‚åˆ°è¾¾, éœ€è¦1ä¸ªRTT, å†åŠ å“åº”ä¸­æ‰€å«æ–‡ä»¶çš„ä¼ è¾“æ—¶é—´<br>
å“åº”æ—¶é—´æ€»å…± = 2RTT + æ–‡ä»¶å‘é€æ—¶é—´<br>
<strong>cookieæŠ€æœ¯</strong><br>
httpåè®®æ— çŠ¶æ€, ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½, è¿›è¡Œsessionè·Ÿè¸ªè€Œå‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®, é€šå¸¸ç»è¿‡åŠ å¯†<br>
cookieçš„ç»„ä»¶</p>
<ul>
<li>httpå“åº”æ¶ˆæ¯çš„cookieå¤´éƒ¨è¡Œ</li>
<li>httpè¯·æ±‚æ¶ˆæ¯çš„å¤´éƒ¨è¡Œ</li>
<li>ä¿å­˜åœ¨å®¢æˆ·ç«¯ä¸»æœºä¸Šçš„cookieæ–‡ä»¶, ç”±æµè§ˆå™¨ç®¡ç†</li>
<li>webæœåŠ¡å™¨ç«¯çš„åå°æ•°æ®åº“</li>
</ul>
<p>å¯ç”¨äº, èº«ä»½è®¤è¯, è´­ç‰©è½¦, æ¨èç­‰<br>
<strong>webç¼“å­˜/ä»£ç†æœåŠ¡å™¨æŠ€æœ¯</strong><br>
åœ¨ä¸è®¿é—®æœåŠ¡å™¨çš„å‰æä¸‹æ»¡è¶³å®¢æˆ·ç«¯çš„httpè¯·æ±‚<br>
ç›®çš„æ˜¯: ç¼©çŸ­å®¢æˆ·è¯·æ±‚çš„ç›¸åº”æ—¶é—´, å‡å°‘æœºæ„/ç»„ç»‡çš„æµé‡, åœ¨å¤§èŒƒå›´å†…å®ç°æœ‰æ•ˆçš„å†…å®¹åˆ†å‘<br>
ç¼“å­˜æ—¢å……å½“å®¢æˆ·ç«¯ä¹Ÿå……å½“æœåŠ¡å™¨</p>
<h1 id="Emailåº”ç”¨">Emailåº”ç”¨</h1>
<p>æ„æˆç»„ä»¶: é‚®ä»¶å®¢æˆ·ç«¯, é‚®ä»¶æœåŠ¡å™¨, SMTPåè®®<br>
ä½¿ç”¨TCPè¿›è¡Œemailæ¶ˆæ¯çš„å¯é ä¼ è¾“, å‘½ä»¤/å“åº”äº¤äº’æ¨¡å¼, ä½¿ç”¨æŒä¹…æ€§è¿æ¥<br>
é‚®ä»¶è®¿é—®åè®®, POP(Post Office Protocol), IMAP(Internet Mail Access Protocol), HTTP<br>
POP3æ˜¯æ— çŠ¶æ€çš„, IMAPæ”¯æŒè·¨ä¼šè¯çš„ç”¨æˆ·çŠ¶æ€</p>
<h1 id="DNS-Domain-Name-System">DNS(Domain Name System)</h1>
<p>åŸŸåè§£æç³»ç»ŸDNS: å¤šå±‚å‘½åæœåŠ¡å™¨æ„æˆçš„åˆ†å¸ƒå¼æ•°æ®åº“, åº”ç”¨å±‚åè®®, å®Œæˆåå­—çš„è§£æ<br>
<strong>DNSæœåŠ¡ä½œç”¨</strong>: åŸŸåå‘IPåœ°å€çš„ç¿»è¯‘, ä¸»æœºåˆ«å, é‚®ä»¶æœåŠ¡å™¨åˆ«å, è´Ÿè½½å‡è¡¡<br>
è§£ææµç¨‹: <code>æœ¬åœ°åŸŸåè§£ææœåŠ¡å™¨ -&gt; æ ¹åŸŸåæœåŠ¡å™¨ -&gt;æƒå¨åŸŸåæœåŠ¡å™¨ -&gt; æœ¬åœ°åŸŸåæœåŠ¡å™¨</code></p>
<blockquote>
<ul>
<li>é¡¶çº§åŸŸåæœåŠ¡å™¨(TLD, top-level domain): è´Ÿè´£com,org,net,eduç­‰é¡¶çº§åŸŸåå’Œå›½å®¶é¡¶çº§åŸŸå,å¦‚cn</li>
<li>æƒå¨åŸŸåæœåŠ¡å™¨: ç»„ç»‡çš„åŸŸåè§£ææœåŠ¡å™¨, æä¾›ç»„ç»‡å†…éƒ¨æœåŠ¡å™¨çš„è§£ææœåŠ¡</li>
<li>æœ¬åœ°åŸŸåè§£ææœåŠ¡å™¨: ä¸ä¸¥æ ¼å±äºå±‚çº§ä½“ç³», æ¯ä¸ªISPæœ‰ä¸€ä¸ªæœ¬åœ°åŸŸåæœåŠ¡å™¨, é»˜è®¤çš„, å½“ä¸»æœºè¿›è¡ŒDNSæŸ¥è¯¢æ—¶, æŸ¥è¯¢è¢«å‘é€åˆ°æœ¬åœ°åŸŸåæœåŠ¡å™¨, ä½œä¸ºä»£ç†å°†æŸ¥è¯¢å±‚çº§å¼è½¬å‘ç»™åŸŸåè§£ææœåŠ¡å™¨ç³»ç»Ÿ</li>
</ul>
</blockquote>
<p><strong>å…¨çƒæœ‰13ä¸ªæ ¹åŸŸåæœåŠ¡å™¨</strong></p>
<p>ä¸¤ç§æŸ¥è¯¢æ–¹å¼, è¿­ä»£æŸ¥è¯¢, é€’å½’æŸ¥è¯¢<br>
<strong>DNSè®°å½•å’Œæ¶ˆæ¯æ ¼å¼</strong><br>
DNSè®°å½•æ˜¯ä¸€ä¸ªå››å…ƒç»„, èµ„æºè®°å½•(RR, resource records), <code>RR format: (name, value, type, ttl)</code></p>
<blockquote>
<p>type=A nameæ˜¯ä¸»æœºåŸŸå, valueæ˜¯ipåœ°å€<br>
type=NS nameæ˜¯åŸŸ, valueæ˜¯è¯¥åŸŸæƒå¨åŸŸåè§£ææœåŠ¡å™¨çš„ä¸»æœºåŸŸå<br>
type=CNAME nameæ˜¯æŸä¸€çœŸå®åŸŸåçš„åˆ«å, valueæ˜¯çœŸå®åŸŸå<br>
type=MX valueæ˜¯nameå¯¹åº”çš„é‚®ä»¶æœåŠ¡å™¨</p>
</blockquote>
<p>ä¾èµ–DNSåè®®</p>
<h1 id="P2P">P2P</h1>
<p><strong>P2Pæ¶æ„</strong>: æ²¡æœ‰æœåŠ¡å™¨, ä»»æ„ç«¯ç³»ç»Ÿä¹‹é—´ç›´æ¥é€šä¿¡, èŠ‚ç‚¹é˜¶æ®µæ€§æ¥å…¥äº’è”ç½‘, èŠ‚ç‚¹å¯èƒ½æ›´æ¢ipåœ°å€<br>
æ–‡ä»¶åˆ†å‘æ¯”C/Sæ¨¡å¼æ•ˆç‡é«˜<br>
<strong>æ–‡ä»¶åˆ†å‘</strong><br>
é‡‡ç”¨BitTorrentåè®®, torrentè´Ÿè´£äº¤æ¢åŒä¸€ä¸ªæ–‡ä»¶çš„æ–‡ä»¶å—çš„èŠ‚ç‚¹ç»„, trackerè·Ÿè¸ªå‚ä¸torrentçš„èŠ‚ç‚¹<br>
æ–‡ä»¶è¢«åˆ’åˆ†ä¸º256KBçš„chunk, èŠ‚ç‚¹åŠ å…¥torrent, å‘trackeræ³¨å†Œä»¥è·å¾—èŠ‚ç‚¹æ¸…å•, ä¸æŸäº›èŠ‚ç‚¹å»ºç«‹è¿æ¥, ä¸‹è½½çš„åŒæ—¶, èŠ‚ç‚¹éœ€è¦å‘å…¶ä»–èŠ‚ç‚¹ä¸Šä¼ chunk<br>
è·å–chunkæµç¨‹, ç»™å®šä»»ä¸€æ—¶åˆ», ä¸åŒèŠ‚ç‚¹æŒæœ‰æ–‡ä»¶çš„ä¸åŒchunké›†åˆ, å½“å‰èŠ‚ç‚¹å®šæœŸæŸ¥è¯¢æ¯ä¸ªé‚»å±…æ‰€æ‹¥æœ‰çš„chunkåˆ—è¡¨, èŠ‚ç‚¹å‘é€è¯·æ±‚, è¯·æ±‚è·å–ç¼ºå¤±çš„chunk, ç¨€ç¼ºä¼˜å…ˆ<br>
å‘é€chunkæµç¨‹, tit-for-tat, è°ç»™æˆ‘æˆ‘ç»™è°, å‘æ­£åœ¨ç»™è‡ªå·±å‘é€chunkä¸”é€Ÿç‡æœ€å¿«çš„å››ä¸ªé‚»å±…å‘é€chunk, æ¯10sé‡æ–°è¯„ä¼°top4, æ¯30séšæœºé€‰æ‹©ä¸€ä¸ªå…¶ä»–èŠ‚ç‚¹<br>
<strong>P2Pç´¢å¼•æ–¹å¼</strong></p>
<ul>
<li>é›†ä¸­å¼ç´¢å¼•, å­˜åœ¨å•ç‚¹å¤±æ•ˆé—®é¢˜, æ€§èƒ½ç“¶é¢ˆ, ç‰ˆæƒé—®é¢˜</li>
<li>æ´ªæ³›å¼æŸ¥è¯¢, å®Œå…¨åˆ†å¸ƒå¼æ¶æ„, æ¯ä¸ªèŠ‚ç‚¹åªå¯¹å®ƒå…±äº«çš„æ–‡ä»¶è¿›è¡Œç´¢å¼•, æŸ¥è¯¢æ¶ˆæ¯é€šè¿‡å·²æœ‰TCPè¿æ¥å‘é€, èŠ‚ç‚¹ç»§ç»­è½¬å‘æŸ¥è¯¢, æŸ¥è¯¢åƒæ´ªæ°´æ³›æ»¥</li>
<li>å±‚æ¬¡å¼è¦†ç›–ç½‘ç»œ, é›†ä¸­å¼å’Œæ´ªæ³›å¼çš„ç»“åˆ, èŠ‚ç‚¹å’Œè¶…çº§èŠ‚ç‚¹ç»´æŒTCPè¿æ¥, è¶…çº§èŠ‚ç‚¹ä¹‹é—´ç»´æŒTCPè¿æ¥, è¶…çº§èŠ‚ç‚¹è´Ÿè´£è·Ÿè¸ªå­èŠ‚ç‚¹å†…å®¹, æŸ¥è¯¢åˆ°åèŠ‚ç‚¹ç›´æ¥ç›´æ¥é€šä¿¡, ä¸ç»è¿‡è¶…çº§èŠ‚ç‚¹</li>
</ul>
<p>å¾ˆå¸¸ç”¨çš„è®¾è®¡æ€è·¯</p>
]]></content>
      <categories>
        <category>ç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œç³»åˆ—ç¬”è®°(ä¸€)-æ¦‚è¿°</title>
    <url>/2022/02/08/20220208185951/</url>
    <content><![CDATA[<h1 id="åŸºæœ¬æ¦‚å¿µ">åŸºæœ¬æ¦‚å¿µ</h1>
<h2 id="è®¡ç®—æœºç½‘ç»œ">è®¡ç®—æœºç½‘ç»œ</h2>
<p>è®¡ç®—æœºç½‘ç»œ = é€šä¿¡æŠ€æœ¯ + è®¡ç®—æœºæŠ€æœ¯, è®¡ç®—æœºç½‘ç»œæ˜¯é€šä¿¡æŠ€æœ¯ä¸è®¡ç®—æœºæŠ€æœ¯ç´§å¯†ç»“åˆçš„äº§ç‰©, æ˜¯äº’è¿(äº’è”äº’é€š)çš„, è‡ªæ²»(æ— ä¸»ä»å…³ç³»)çš„è®¡ç®—æœºé›†åˆ</p>
<blockquote>
<p>é€šä¿¡ç³»ç»Ÿæ¨¡å‹: ä¿¡æº -&gt; å‘é€è®¾å¤‡ -&gt; ä¿¡é“(ä¼´æœ‰å™ªå£°æº) -&gt; æ¥æ”¶è®¾å¤‡ -&gt; ä¿¡å®¿</p>
</blockquote>
<p>è®¡ç®—æœºç½‘ç»œä¸ºç½‘ç»œåº”ç”¨æä¾›é€šä¿¡æœåŠ¡çš„é€šä¿¡åŸºç¡€è®¾æ–½(ç½‘æ¸¸, ç¤¾äº¤), ä¸ºç½‘ç»œåº”ç”¨æä¾›åº”ç”¨ç¼–ç¨‹æ¥å£(api)(æä¾›ç±»ä¼¼é‚®æ”¿ç³»ç»Ÿçš„æ•°æ®ä¼ è¾“æœåŠ¡)<br>
è®¡ç®—æœºç½‘ç»œå°±æ˜¯ä¸€ç§é€šä¿¡ç½‘ç»œ, é€šè¿‡äº¤æ¢ç½‘ç»œäº’è¿ä¸»æœº, äº¤æ¢èŠ‚ç‚¹ä¸ºè·¯ç”±å™¨æˆ–äº¤æ¢æœº, internetæ˜¯å…¨çƒæœ€å¤§çš„äº’è”ç½‘ç»œ, æ•°ä»¥ç™¾ä¸‡è®¡çš„äº’è¿çš„è®¡ç®—è®¾å¤‡é›†åˆ<br>
åªæœ‰ç¡¬ä»¶è¿æ¥, internetå¹¶ä¸èƒ½é¡ºç•…è¿è¡Œ, è¿˜éœ€è¦åè®®</p>
<h2 id="ç½‘ç»œåè®®">ç½‘ç»œåè®®</h2>
<p>åè®®æ˜¯è®¡ç®—æœºç½‘ç»œæœ‰åºè¿è¡Œçš„é‡è¦ä¿è¯<br>
ç¡¬ä»¶(ä¸»æœº, è·¯ç”±å™¨, é€šä¿¡é“¾è·¯ç­‰)æ˜¯è®¡ç®—æœºç½‘ç»œçš„åŸºç¡€, è®¡ç®—æœºç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢å¿…é¡»éµå®ˆäº‹å…ˆçº¦å®šå¥½çš„è§„åˆ™, å¦‚åŒäº¤é€šç³»ç»Ÿ<br>
ä»»ä½•é€šä¿¡æˆ–ä¿¡æ¯äº¤æ¢è¿‡ç¨‹éƒ½éœ€è¦è§„åˆ™, å‘é€ç‰¹å®šæ¶ˆæ¯, é‡‡å–ç‰¹å®šåŠ¨ä½œ<br>
ç½‘ç»œé€šä¿¡, ä¸»ä½“æ˜¯æœºå™¨ä¸æ˜¯äºº, äº¤æ¢ç”µå­åŒ–æˆ–æ•°æ®åŒ–æ¶ˆæ¯, è®¡ç®—æœºç½‘ç»œçš„æ‰€æœ‰é€šä¿¡è¿‡ç¨‹éƒ½å¿…é¡»éµå®ˆæŸäº›è§„åˆ™, è¿™å°±æ˜¯åè®®<br>
<strong>ç½‘ç»œåè®®(network protocol)</strong>: ç®€ç§°ä¸ºåè®®, æ˜¯ä¸ºè¿›è¡Œç½‘ç»œä¸­çš„æ•°æ®äº¤æ¢è€Œå»ºç«‹çš„è§„åˆ™, æ ‡å‡†æˆ–çº¦å®š<br>
åè®®è§„å®šäº†é€šä¿¡å®ä½“ä¹‹é—´æ‰€äº¤æ¢çš„æ¶ˆæ¯çš„æ ¼å¼, æ„ä¹‰, é¡ºåºä»¥åŠé’ˆå¯¹æ”¶åˆ°ä¿¡æ¯æˆ–å‘ç”Ÿçš„äº‹ä»¶æ‰€é‡‡å–çš„åŠ¨ä½œ(actions)<br>
<strong>åè®®çš„ä¸‰è¦ç´ </strong><br>
<strong>è¯­æ³•(Syntax)</strong>: æ•°æ®ä¸æ§åˆ¶ä¿¡æ¯çš„ç»“æ„æˆ–æ ¼å¼, ä¿¡å·ç”µå¹³<br>
<strong>è¯­ä¹‰(Semantics)</strong>: éœ€è¦å‘å‡ºä½•ç§æ§åˆ¶ä¿¡æ¯, å®Œæˆä½•ç§åŠ¨ä½œä»¥åŠåšå‡ºä½•ç§å“åº”, å·®é”™æ§åˆ¶<br>
<strong>æ—¶åº(Timing)</strong>: äº‹ä»¶é¡ºåº, é€Ÿåº¦åŒ¹é…<br>
åè®®è§„èŒƒäº†ç½‘ç»œä¸­æ‰€æœ‰ä¿¡æ¯å‘é€å’Œæ¥æ”¶è¿‡ç¨‹, ä¾‹å¦‚TCP, IP, HTTP, Skypeâ€¦<br>
åè®®æ˜¯å­¦ä¹ ç½‘ç»œçš„é‡è¦å†…å®¹ä¹‹ä¸€, æ˜¯ç½‘ç»œåˆ›æ–°çš„è¡¨ç°å½¢å¼ä¹‹ä¸€<br>
Internetåè®®æ ‡å‡†å¤§éƒ¨åˆ†éƒ½æ˜¯RFC(Request for Comments)æ–‡æ¡£å½¢å¼å­˜åœ¨, ç”±IETF(Internet Engineering Task Force)äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„è¿›è¡Œç®¡ç†</p>
<h1 id="è®¡ç®—æœºç½‘ç»œç»“æ„">è®¡ç®—æœºç½‘ç»œç»“æ„</h1>
<p>è®¡ç®—æœºç½‘ç»œç»“æ„åˆ†ä¸ºç½‘ç»œè¾¹ç¼˜, æ¥å…¥ç½‘ç»œ, ç½‘ç»œæ ¸å¿ƒ</p>
<h2 id="ç½‘ç»œè¾¹ç¼˜">ç½‘ç»œè¾¹ç¼˜</h2>
<p>åŒ…æ‹¬ä¸»æœº, ç½‘ç»œåº”ç”¨<br>
é€šä¿¡æ–¹å¼ä¸»è¦æœ‰ä¸¤ç±»<br>
å®¢æˆ·/æœåŠ¡å™¨(client/server)åº”ç”¨æ¨¡å‹: å®¢æˆ·å‘é€è¯·æ±‚, æ¥æ”¶æœåŠ¡å™¨å“åº”, å¦‚webåº”ç”¨<br>
å¯¹ç­‰(peer-peer, P2P)åº”ç”¨æ¨¡å‹: æ— /ä¸ä¾èµ–ä¸“ç”¨æœåŠ¡å™¨, é€šä¿¡åœ¨å¯¹ç­‰å®ä½“ä¹‹é—´ç›´æ¥è¿›è¡Œ, å¦‚BTä¸‹è½½</p>
<h2 id="æ¥å…¥ç½‘ç»œ">æ¥å…¥ç½‘ç»œ</h2>
<p>å±äºç‰©ç†ä»‹è´¨, æœ‰çº¿æˆ–æ— çº¿é€šä¿¡é“¾è·¯<br>
æ ¹æ®ä½¿ç”¨åœºæ™¯å¯åˆ’åˆ†ä¸º, å®¶åº­æ¥å…¥ç½‘ç»œ, æœºæ„æ¥å…¥ç½‘ç»œ(å­¦æ ¡, ä¼ä¸š), ç§»åŠ¨æ¥å…¥ç½‘ç»œ, åˆ’åˆ†ä¸ä¸¥æ ¼<br>
ç”¨æˆ·å…³å¿ƒçš„å†…å®¹: å¸¦å®½(bandwidth/bps), å…±äº«/ç‹¬å <br>
<strong>å…·æœ‰ä»£è¡¨æ€§çš„æ¥å…¥ç½‘ç»œ</strong></p>
<ul>
<li>æ•°å­—ç”¨æˆ·çº¿è·¯(DSL): åˆ©ç”¨ç°æœ‰çš„ç”µè¯çº¿, é‡‡ç”¨å¤šè·¯å¤ç”¨æŠ€æœ¯(å¤šè·¯ä¿¡å·å…±åŒä½¿ç”¨ä¸€ä¸ªç‰©ç†ä»‹è´¨)</li>
<li>ADSL: éå¯¹ç§°æ•°å­—ç”¨æˆ·çº¿è·¯, ä¸Šè¡Œçº¿è·¯å’Œä¸‹è¡Œçº¿è·¯é€Ÿç‡ä¸ä¸€æ ·, ä¸Šä¼ æ…¢ä¸‹è½½å¿«</li>
</ul>
<p>ä¸¤ç§éƒ½æ˜¯é‡‡ç”¨é¢‘åˆ†å¤šè·¯å¤ç”¨æŠ€æœ¯, æŠŠä¿¡å·è°ƒæ•´åˆ°ä¸åŒé¢‘å¸¦ä¸Š, ä¾‹å¦‚, 50kHz-1MHzç”¨äºä¸‹è¡Œ, 4kHz-50kHzç”¨äºä¸Šè¡Œ, 0kHz-4kHzç”¨äºä¼ ç»Ÿç”µè¯</p>
<ul>
<li>ç”µç¼†ç½‘ç»œ: ç”¨çš„æœ‰çº¿ç”µè§†ç½‘ç»œ, ä¹Ÿæ˜¯å…¸å‹çš„é¢‘åˆ†å¤šè·¯å¤ç”¨æŠ€æœ¯, åœ¨ä¸åŒé¢‘å¸¦ä¸Šä¼ è¾“ä¸åŒé¢‘é“</li>
</ul>
<p><strong>å…¸å‹å®¶åº­ç½‘ç»œçš„æ¥å…¥</strong>: ç”µè¯çº¿æˆ–ç”µç¼†é€šè¿‡è°ƒåˆ¶è§£è°ƒå™¨, è¿æ¥è·¯ç”±å™¨, é€šè¿‡æœ‰çº¿ä»¥å¤ªç½‘(å±€åŸŸç½‘)/æ— çº¿ç½‘wifiè¿æ¥å®¶é‡Œçš„è®¾å¤‡<br>
<strong>æœºæ„æ¥å…¥ç½‘ç»œ</strong>: åˆ©ç”¨å±€åŸŸç½‘, æœ‰çº¿å±€åŸŸç½‘æœ€æœ‰ååˆ©ç”¨æœ€å¹¿æ³›çš„ä»¥å¤ªç½‘(Ethernet), ä»¥å¤ªç½‘äº¤æ¢æœºé€šè¿‡è¿æ¥ISPçš„æœºæ„è·¯ç”±å™¨æ¥å…¥é“¾è·¯<br>
<strong>æ— çº¿æ¥å…¥ç½‘ç»œ</strong>: é€šè¿‡å…±äº«çš„æ— çº¿æ¥å…¥ç½‘ç»œè¿æ¥ç«¯ç³»ç»Ÿä¸è·¯ç”±å™¨, é€šè¿‡åŸºç«™(base station)æˆ–ç§°ä¸ºæ¥å…¥ç‚¹(access point), ä¸¤ç±»æ— çº¿å±€åŸŸç½‘(LANs)(wifi)å’Œå¹¿åŸŸæ— é™æ¥å…¥(èœ‚çªç½‘)</p>
<h2 id="ç½‘ç»œæ ¸å¿ƒ">ç½‘ç»œæ ¸å¿ƒ</h2>
<p>ç”±äº’è”çš„è·¯ç”±å™¨æˆ–åˆ†ç»„è½¬å‘è®¾å¤‡ç»„æˆ, äº’è”çš„è·¯ç”±å™¨ç½‘ç»œ<br>
ç½‘ç»œæ ¸å¿ƒå…³é”®åŠŸèƒ½: è·¯ç”±+è½¬å‘</p>
<blockquote>
<p>è·¯ç”±(routing): ç¡®å®šåˆ†ç»„ä»æºåˆ°ç›®çš„ä¼ è¾“è·¯å¾„<br>
è½¬å‘(forwarding): å°†åˆ†ç»„ä»è·¯ç”±å™¨çš„è¾“å…¥ç«¯å£äº¤æ¢è‡³æ­£ç¡®çš„è¾“å‡ºç«¯å£</p>
</blockquote>
<p>ç½‘ç»œæ ¸å¿ƒæ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…, éœ€è¦æ ¹æ®åœ°å€ä¿¡æ¯æ­£ç¡®çš„é€åˆ°ç›®çš„åœ°, å°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªæœ¬åœ°è½¬å‘è¡¨/è·¯ç”±è¡¨, åŒ…å«ç›®çš„åœ°å€å’Œè¾“å‡ºé“¾è·¯, è¿è¡Œè·¯ç”±åè®®è®¡ç®—å¾—å‡º</p>
<p>ç½‘ç»œæ ¸å¿ƒè§£å†³çš„åŸºæœ¬é—®é¢˜æ˜¯: <strong>æ•°æ®äº¤æ¢</strong><br>
ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®äº¤æ¢? è®¾å¤‡ç›´è¿éœ€è¦n<sup>2</sup>æ¡é“¾è·¯.<br>
ä¸ºäº†ä¿è¯è¿é€šæ€§å’Œé€‚åº”ä¸åŒç½‘ç»œè§„æ¨¡, äº¤æ¢è®¾å¤‡äº’è¿åœ¨ä¸€èµ·æ„æˆä¸€ä¸ªäº¤æ¢ç½‘ç»œ<br>
<strong>äº¤æ¢</strong>: åŠ¨æ€è½¬æ¥å’ŒåŠ¨æ€åˆ†é…ä¼ è¾“èµ„æº<br>
æ•°æ®äº¤æ¢çš„ç±»å‹æœ‰: ç”µè·¯äº¤æ¢, æŠ¥æ–‡äº¤æ¢, åˆ†ç»„äº¤æ¢</p>
<p>å…¸å‹çš„<strong>ç”µè·¯äº¤æ¢</strong>ç½‘ç»œæœ‰ç”µè¯ç½‘ç»œ<br>
ç”µè·¯äº¤æ¢çš„ä¸‰ä¸ªé˜¶æ®µ: å»ºç«‹è¿æ¥(å‘¼å«/ç”µè·¯å»ºç«‹), é€šä¿¡, é‡Šæ”¾è¿æ¥(æ‹†é™¤ç”µè·¯), å ç”¨çš„ç”µè·¯èµ„æºç‹¬å , ä½†ç‰©ç†ä¸­ç»§çº¿å…±äº«, æ¶‰åŠå¤šè·¯å¤ç”¨</p>
<p>åˆ†ç»„äº¤æ¢éœ€è¦æŠ¥æ–‡çš„æ‹†åˆ†ä¸é‡ç»„, ä¼šäº§ç”Ÿé¢å¤–çš„å¼€é”€</p>
<blockquote>
<p>æŠ¥æ–‡: æºå‘é€ä¿¡æ¯æ•´ä½“, æ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶, åˆ†ç»„: æŠ¥æ–‡æ‹†åˆ†å‡ºæ¥ä¸€ç³»åˆ—ç›¸å¯¹è¾ƒå°çš„æ•°æ®åŒ…, åŒ…å«æ•°æ®å¤´å’Œæ•°æ®</p>
</blockquote>
<p><strong>åˆ†ç»„äº¤æ¢</strong>é‡‡ç”¨ç»Ÿè®¡å¤šè·¯å¤ç”¨(Statistical multiplexing), åˆ†ç»„åºåˆ—ä¸ç¡®å®š, æŒ‰éœ€å…±äº«é“¾è·¯<br>
<strong>æŠ¥æ–‡äº¤æ¢</strong>ä¸åˆ†ç»„äº¤æ¢å‡é‡‡ç”¨å­˜å‚¨-è½¬å‘äº¤æ¢æ–¹å¼, åŒºåˆ«æ˜¯æŠ¥æ–‡äº¤æ¢ä»¥å®Œæ•´æŠ¥æ–‡è¿›è¡Œå­˜å‚¨è½¬å‘, åˆ†ç»„äº¤æ¢ä»¥è¾ƒå°çš„åˆ†ç»„è¿›è¡Œå­˜å‚¨è½¬å‘<br>
åˆ†ç»„äº¤æ¢çš„æŠ¥æ–‡äº¤ä»˜æ—¶é—´: <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>=</mo><mi>M</mi><mi mathvariant="normal">/</mi><mi>R</mi><mo>+</mo><mi>n</mi><mi>L</mi><mi mathvariant="normal">/</mi><mi>R</mi></mrow><annotation encoding="application/x-tex">T = M/R+nL/R</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.10903em;">M</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mbin">+</span><span class="mord mathit">n</span><span class="mord mathit">L</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span></span></span></span></p>
<blockquote>
<p>æŠ¥æ–‡å¤§å°M bits, é“¾è·¯å¸¦å®½R bps, åˆ†ç»„é•¿åº¦L bits, è·³æ­¥æ•° h, è·¯ç”±å™¨æ•° n</p>
</blockquote>
<p>åˆ†ç»„äº¤æ¢å…è®¸æ›´å¤šç”¨æˆ·åŒæ—¶ä½¿ç”¨ç½‘ç»œ, ç½‘ç»œèµ„æºå……åˆ†å…±äº«, é€‚ç”¨äºçªå‘æ•°æ®ä¼ è¾“ç½‘ç»œ, èµ„æºå……åˆ†å…±äº«, ç®€å•, æ— éœ€å‘¼å«å»ºç«‹, ä½†å¯èƒ½äº§ç”Ÿæ‹¥å¡(congestion), åˆ†ç»„å»¶è¿Ÿå’Œä¸¢å¤±, éœ€è¦åè®®å¤„ç†å¯é æ•°æ®ä¼ è¾“å’Œæ‹¥å¡æ§åˆ¶<br>
åˆ†ç»„äº¤æ¢æ˜¯ç›®å‰è®¡ç®—æœºç½‘ç»œä¸­<strong>å¹¿æ³›é‡‡ç”¨</strong>çš„æ•°æ®äº¤æ¢æŠ€æœ¯</p>
<blockquote>
<p><strong>å¤šè·¯å¤ç”¨(multiplexing)</strong>: ç®€ç§°å¤ç”¨, æ˜¯é€šä¿¡æŠ€æœ¯ä¸­çš„åŸºæœ¬æ¦‚å¿µ<br>
é“¾è·¯/ç½‘ç»œèµ„æºåˆ’åˆ†ä¸ºèµ„æºç‰‡, å°†èµ„æºç‰‡åˆ†é…ç»™å„è·¯å‘¼å«(calls), æ¯è·¯å‘¼å«ç‹¬å åˆ†é…åˆ°çš„èµ„æºç‰‡è¿›è¡Œé€šä¿¡, èµ„æºç‰‡å¯èƒ½é—²ç½®(idle)<br>
<strong>å…¸å‹å¤šè·¯å¤ç”¨æ–¹æ³•</strong></p>
<ul>
<li>é¢‘åˆ†å¤šè·¯å¤ç”¨(frequency division multiplexing, FDM): ä¾‹æœ‰çº¿ç”µè§†, å„ç”¨æˆ·å ç”¨ä¸åŒçš„é¢‘ç‡å¸¦å®½(Hz)èµ„æº, ç”¨æˆ·åœ¨åˆ†é…åˆ°ä¸€å®šçš„é¢‘å¸¦å, åœ¨é€šä¿¡è¿‡ç¨‹ä¸­è‡ªå§‹è‡³ç»ˆéƒ½å ç”¨è¿™ä¸ªé¢‘å¸¦</li>
<li>æ—¶åˆ†å¤šè·¯å¤ç”¨(time division multiplexing, TDM): å°†æ—¶é—´åˆ’åˆ†ä¸ºä¸€æ®µæ®µç­‰é•¿çš„æ—¶åˆ†å¤ç”¨å¸§(TDMå¸§), æ¯ä¸ªç”¨æˆ·åœ¨æ¯ä¸ªTDMå¸§ä¸­å ç”¨å›ºå®šåºå·çš„æ—¶éš™, æ¯ç”¨æˆ·æ‰€å ç”¨çš„æ—¶éš™æ˜¯å‘¨æœŸæ€§å‡ºç°, å‘¨æœŸå°±æ˜¯TDMå¸§çš„é•¿åº¦, æ‰€æœ‰ç”¨æˆ·æ˜¯åœ¨ä¸åŒçš„æ—¶é—´å ç”¨ç›¸åŒçš„é¢‘å¸¦å®½åº¦</li>
<li>æ³¢åˆ†å¤šè·¯å¤ç”¨(wavelength division multiplexing, WDM): å°±æ˜¯å…‰çš„é¢‘åˆ†å¤ç”¨</li>
<li>ç åˆ†å¤šè·¯å¤ç”¨(code division multiplexing, CDM): å¹¿æ³›åº”ç”¨äºæ— çº¿é“¾è·¯å…±äº«(èœ‚çªç½‘, å«æ˜Ÿé€šä¿¡), æ¯ä¸ªç”¨æˆ·åˆ†é…ä¸€ä¸ªå”¯ä¸€çš„ç ç‰‡åºåˆ—(chipping sequence), å„ç”¨æˆ·ä½¿ç”¨ç›¸åŒé¢‘ç‡è½½æ³¢, åˆ©ç”¨å„è‡ªç ç‰‡åºåˆ—ç¼–ç æ•°æ®, å„ç”¨æˆ·ç ç‰‡åºåˆ—ç›¸äº’æ­£äº¤(orthogonal), è§£ç åˆ™æ˜¯ç ç‰‡åºåˆ—ä¸ç¼–ç ä¿¡å·çš„å†…ç§¯</li>
</ul>
</blockquote>
<h1 id="è®¡ç®—æœºç½‘ç»œæ€§èƒ½">è®¡ç®—æœºç½‘ç»œæ€§èƒ½</h1>
<p><strong>é€Ÿç‡</strong>: æ•°æ®ç‡/æ•°æ®ä¼ è¾“é€Ÿç‡/æ¯”ç‰¹ç‡, å•ä½æ—¶é—´ä¼ è¾“ä¿¡æ¯é‡, b/s, kb/s, Mb/s, k=1000, å¾€å¾€æŒ‡é¢å®šé€Ÿç‡æˆ–æ ‡ç§°é€Ÿç‡<br>
<strong>å¸¦å®½</strong>: è¿™é‡ŒæŒ‡æ•°å­—ä¿¡é“æ‰€èƒ½ä¼ é€çš„æœ€é«˜æ•°æ®ç‡, å•ä½ b/s<br>
<strong>ä¸¢åŒ…</strong>: åˆ†ç»„åœ¨è·¯ç”±å™¨ç¼“å­˜ä¸­æ’é˜Ÿ, å¦‚ç¼“å­˜å·²æ»¡, åˆ°è¾¾åˆ†ç»„ä¼šè¢«ä¸¢å¼ƒ<br>
é˜Ÿåˆ—ç¼“å­˜å®¹é‡æœ‰é™, åˆ†ç»„åˆ°è¾¾å·²æ»¡é˜Ÿåˆ—å°†è¢«ä¸¢å¼ƒ, ä¸¢å¼ƒåˆ†ç»„å¯èƒ½ç”±å‰åºèŠ‚ç‚¹æˆ–æºé‡å‘, ä¹Ÿå¯èƒ½ä¸é‡å‘<br>
ä¸¢åŒ…ç‡ = ä¸¢åŒ…æ•° Ã· å·²å‘åˆ†ç»„æ€»æ•°<br>
å››ç§<strong>åˆ†ç»„å»¶è¿Ÿ</strong>: ç»“ç‚¹å¤„ç†å»¶è¿Ÿ, æ’é˜Ÿå»¶è¿Ÿ, ä¼ è¾“å»¶è¿Ÿ, ä¼ æ’­å»¶è¿Ÿ<br>
æ—¶å»¶å¸¦å®½ç§¯ = ä¼ æ’­æ—¶å»¶ Ã— å¸¦å®½, é“¾è·¯çš„æ—¶å»¶å¸¦å®½ç§¯åˆç§°ä¸ºä»¥æ¯”ç‰¹ä¸ºå•ä½çš„é“¾è·¯é•¿åº¦<br>
<strong>ååé‡</strong>: è¡¨ç¤ºåœ¨å‘é€ç«¯ä¸æ¥æ”¶ç«¯ä¹‹é—´ä¼ é€æ•°æ®é€Ÿç‡(b/s)<br>
<strong>ç“¶é¢ˆé“¾è·¯</strong>: ç«¯åˆ°ç«¯è·¯å¾„ä¸Š, é™åˆ¶ååé‡çš„é“¾è·¯</p>
<h1 id="è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„">è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„</h1>
<p>ä¸ºä»€ä¹ˆéœ€è¦ä½“ç³»ç»“æ„, å› ä¸ºè®¡ç®—æœºç½‘ç»œæ˜¯ä¸€ä¸ªéå¸¸å¤æ‚çš„ç³»ç»Ÿ, æ¶‰åŠè®¸å¤šç»„æˆéƒ¨åˆ†, æ‰€ä»¥ç”¨åˆ†å±‚ç»“æ„, èƒ½æœ‰æ•ˆæè¿°ç½‘ç»œ<br>
æ¯å±‚å®Œæˆä¸€ç±»ç‰¹å®šåŠŸèƒ½, æ¯å±‚ä¾èµ–åº•å±‚æä¾›çš„æœåŠ¡, é€šè¿‡å±‚å†…åŠ¨ä½œå®Œæˆç›¸åº”åŠŸèƒ½<br>
è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„ç®€ç§°ç½‘ç»œä½“ç³»ç»“æ„, æ˜¯ä»åŠŸèƒ½ä¸Šæè¿°è®¡ç®—æœºç½‘ç»œç»“æ„, æ˜¯åˆ†å±‚ç»“æ„, æ¯å±‚éµå¾ªæŸäº›ç½‘ç»œåè®®å®Œæˆæœ¬å±‚åŠŸèƒ½<br>
è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“æ„æ˜¯è®¡ç®—æœºç½‘ç»œçš„å„å±‚åŠå…¶åè®®çš„é›†åˆ, ä½“ç³»ç»“æ„æ˜¯ä¸€ä¸ªè®¡ç®—æœºç½‘ç»œçš„åŠŸèƒ½å±‚æ¬¡åŠå…¶å…³ç³»çš„å®šä¹‰, æ˜¯æŠ½è±¡çš„<br>
<strong>åˆ†å±‚ç»“æ„å¥½å¤„</strong><br>
ç»“æ„æ¸…æ™°, æœ‰åˆ©äºè¯†åˆ«å¤æ‚ç³»ç»Ÿçš„éƒ¨ä»¶åŠå…¶å…³ç³», æ¨¡å—åŒ–çš„åˆ†å±‚æ˜“äºç³»ç»Ÿæ›´æ–°ç»´æŠ¤, æœ‰åˆ©äºæ ‡å‡†åŒ–</p>
<h2 id="OSIå‚è€ƒæ¨¡å‹">OSIå‚è€ƒæ¨¡å‹</h2>
<p><strong>å¼€æ”¾ç³»ç»Ÿäº’è¿(OSI)å‚è€ƒæ¨¡å‹</strong>æ˜¯ç”±å›½é™…æ ‡å‡†åŒ–ç»„ç»‡(ISO)1984å¹´æå‡ºçš„åˆ†å±‚ç½‘ç»œä½“ç³»ç»“æ„æ¨¡å‹, ç›®çš„æ˜¯æ”¯æŒå¼‚æ„ç½‘ç»œç³»ç»Ÿçš„äº’è”äº’é€š<br>
å¼‚æ„ç½‘ç»œç³»ç»Ÿäº’è¿çš„å›½é™…æ ‡å‡†, ç†è§£ç½‘ç»œé€šä¿¡çš„æœ€ä½³ç†è®ºæ¨¡å‹, ä½†åº”ç”¨å¹¶ä¸å¹¿æ³›, å…±æœ‰ä¸ƒå±‚:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç‰©ç†å±‚(Physical): æ¥å£ç‰¹æ€§(æœºæ¢°ç‰¹æ€§, ç”µæ°”ç‰¹æ€§, åŠŸèƒ½ç‰¹æ€§, è§„ç¨‹ç‰¹æ€§), æ¯”ç‰¹ç¼–ç , æ•°æ®ç‡, æ¯”ç‰¹åŒæ­¥, ä¼ è¾“æ¨¡å¼(å•å·¥, åŠåŒå·¥, å…¨åŒå·¥)</span><br><span class="line">æ•°æ®é“¾è·¯å±‚(Data link): è´Ÿè´£ç»“ç‚¹-ç»“ç‚¹æ•°æ®ä¼ è¾“, ç»„å¸§, ç‰©ç†å¯»å€, åœ¨å¸§å¤´ä¸­å¢åŠ å‘é€ç«¯å’Œæ¥æ”¶ç«¯çš„ç‰©ç†åœ°å€, æµé‡æ§åˆ¶, å·®é”™æ§åˆ¶, è®¿é—®æ§åˆ¶</span><br><span class="line">ç½‘ç»œå±‚(Network): è´Ÿè´£æºä¸»æœºåˆ°ç›®çš„ä¸»æœºæ•°æ®åˆ†ç»„äº¤ä»˜, å¯èƒ½ç©¿è¶Šå¤šä¸ªç½‘ç»œ, é€»è¾‘å¯»å€, å…¨å±€å”¯ä¸€é€»è¾‘åœ°å€, ç¡®ä¿æ•°æ®åˆ†ç»„è¢«é€è¾¾ç›®çš„ä¸»æœº, å¦‚IPåœ°å€, è·¯ç”±, åˆ†ç»„è½¬å‘ </span><br><span class="line">ä¼ è¾“å±‚(Transport): è´Ÿè´£æº-ç›®çš„åœ°å®Œæ•´æŠ¥æ–‡ä¼ è¾“, åˆ†æ®µä¸é‡ç»„, SAPå¯»å€, ç¡®ä¿å°†å®Œæ•´æŠ¥æ–‡æäº¤ç»™æ­£ç¡®è¿›ç¨‹, è¿æ¥æ§åˆ¶, æµé‡æ§åˆ¶, å·®é”™æ§åˆ¶</span><br><span class="line">ä¼šè¯å±‚(Session): å¯¹è¯æ§åˆ¶, åŒæ­¥, åœ¨æ•°æ®æµä¸­æ’å…¥åŒæ­¥ç‚¹, æœ€è–„çš„ä¸€å±‚</span><br><span class="line">è¡¨ç¤ºå±‚(Presentation): å¤„ç†ä¸¤ä¸ªç³»ç»Ÿé—´äº¤æ¢ä¿¡æ¯çš„è¯­æ³•ä¸è¯­ä¹‰é—®é¢˜, æ•°æ®è¡¨ç¤ºè½¬åŒ–, è½¬æ¢ä¸ºä¸»æœºç‹¬ç«‹çš„ç¼–ç , åŠ å¯†&#x2F;è§£å¯†, å‹ç¼©&#x2F;è§£å‹ç¼©</span><br><span class="line">åº”ç”¨å±‚(Application): æ”¯æŒç”¨æˆ·é€šè¿‡ç”¨æˆ·ä»£ç†(å¦‚æµè§ˆå™¨)æˆ–ç½‘ç»œæ¥å£ä½¿ç”¨ç½‘ç»œæœåŠ¡, å¦‚FTP, SMTP, HTTP</span><br></pre></td></tr></table></figure>
<p><img src="https://www.wangdanpeng.com/img/20220208_1.png" alt="é€šä¿¡è¿‡ç¨‹"></p>
<p><img src="https://www.wangdanpeng.com/img/20220208_2.png" alt="å°è£…è¿‡ç¨‹"></p>
<blockquote>
<p>ä¸ºä»€ä¹ˆéœ€è¦æ•°æ®å°è£…?<br>
å¢åŠ æ§åˆ¶ä¿¡æ¯, æ„é€ åè®®æ•°æ®å•å…ƒ(PDU).<br>
<strong>æ§åˆ¶ä¿¡æ¯</strong>éœ€è¦åŒ…æ‹¬, åœ°å€, æ ‡è¯†å‘é€ç«¯/æ¥æ”¶ç«¯, å·®é”™æ£€æµ‹ç¼–ç , ç”¨äºå·®é”™æ£€æµ‹æˆ–çº æ­£, åè®®æ§åˆ¶, å®ç°åè®®åŠŸèƒ½çš„é™„åŠ ä¿¡æ¯</p>
</blockquote>
<h2 id="TCP-IPå‚è€ƒæ¨¡å‹">TCP/IPå‚è€ƒæ¨¡å‹</h2>
<p><img src="https://www.wangdanpeng.com/img/20220208_3.png" alt="TCP/IP"><br>
åº”ç”¨å±‚, è¿è¾“å±‚, ç½‘é™…å±‚, ç½‘ç»œæ¥å£å±‚</p>
<h2 id="äº”å±‚å‚è€ƒæ¨¡å‹">äº”å±‚å‚è€ƒæ¨¡å‹</h2>
<p><strong>ç»¼åˆOSIå’ŒTCP/IPçš„ä¼˜ç‚¹</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">åº”ç”¨å±‚, æ”¯æŒå„ç§ç½‘ç»œåº”ç”¨, FTP, SMTP, HTTP</span><br><span class="line">ä¼ è¾“å±‚, è¿›ç¨‹-è¿›ç¨‹çš„æ•°æ®ä¼ è¾“, TCP, UDP</span><br><span class="line">ç½‘ç»œå±‚, æºä¸»æœºåˆ°ç›®çš„ä¸»æœºçš„æ•°æ®åˆ†ç»„è·¯ç”±ä¸è½¬å‘, IPåè®®, è·¯ç”±åè®®ç­‰</span><br><span class="line">é“¾è·¯å±‚, ç›¸é‚»ç½‘ç»œå…ƒç´ çš„æ•°æ®ä¼ è¾“(ä¸»æœº, äº¤æ¢æœº, è·¯ç”±å™¨)</span><br><span class="line">ç‰©ç†å±‚, æ¯”ç‰¹ä¼ è¾“</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>ç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
        <tag>è®¡ç®—æœºç½‘ç»œ</tag>
        <tag>åè®®</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œç³»åˆ—ç¬”è®°(å››) - ç½‘ç»œå±‚</title>
    <url>/2022/02/10/20220210171858/</url>
    <content><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1>
<p>ç½‘ç»œå±‚ä»å‘é€ä¸»æœºå‘æ¥æ”¶ä¸»æœºä¼ é€æ•°æ®æ®µ(segment)<br>
å‘é€ä¸»æœº:å°†æ•°æ®æ®µå°è£…åˆ°æ•°æ®æŠ¥(datagram)ä¸­<br>
æ¥æ”¶ä¸»æœº:å‘ä¼ è¾“å±‚äº¤ä»˜æ•°æ®æ®µ<br>
æ¯ä¸ªä¸»æœºå’Œè·¯ç”±å™¨éƒ½è¿è¡Œç½‘ç»œå±‚åè®®, è·¯ç”±å™¨æ£€éªŒæ‰€æœ‰ç©¿è¶Šå®ƒçš„ipæ•°æ®æŠ¥çš„å¤´éƒ¨åŸŸå†³ç­–å¦‚ä½•å¤„ç†ipæ•°æ®æŠ¥<br>
<strong>ç½‘ç»œå±‚çš„æ ¸å¿ƒåŠŸèƒ½æ˜¯è½¬å‘(forwarding)å’Œè·¯ç”±(routing), è¿æ¥å»ºç«‹</strong></p>
<ul>
<li><strong>è½¬å‘</strong>: å°†åˆ†ç»„ä»è·¯ç”±å™¨çš„è¾“å…¥ç«¯å£è½¬ç§»åˆ°åˆé€‚çš„è¾“å‡ºç«¯å£</li>
<li><strong>è·¯ç”±</strong>: ç¡®å®šåˆ†ç»„ä»æºåˆ°ç›®çš„ç»è¿‡çš„è·¯å¾„, ä¾èµ–è·¯ç”±ç®—æ³•</li>
<li><strong>è¿æ¥å»ºç«‹</strong>: æŸäº›ç½‘è·¯çš„é‡è¦åŠŸèƒ½, æ¯”å¦‚ATM,å¸§ä¸­ç»§, X.25, æ•°æ®åˆ†ç»„ä¼ è¾“ä¹‹å‰ä¸¤ç«¯ä¸»æœºéœ€è¦é¦–å…ˆå»ºç«‹è™šæ‹Ÿ/é€»è¾‘è¿æ¥</li>
</ul>
<blockquote>
<p>ç½‘ç»œå±‚è¿æ¥ä¸ä¼ è¾“å±‚è¿æ¥å¯¹æ¯”: ç½‘ç»œå±‚è¿æ¥<strong>ä¸¤ä¸ªä¸»æœº</strong>ä¹‹é—´, è·¯å¾„ä¸Šçš„è·¯ç”±å™¨ç­‰ç½‘ç»œè®¾å¤‡éƒ½å‚ä¸å…¶ä¸­, ä¼ è¾“å±‚è¿æ¥, <strong>ä¸¤ä¸ªåº”ç”¨è¿›ç¨‹</strong>ä¹‹é—´, å¯¹ä¸­é—´ç½‘ç»œè®¾å¤‡é€æ˜</p>
</blockquote>
<p>ç½‘ç»œå±‚ä¸ºå‘é€ç«¯ä¸»æœºåˆ°æ¥æ”¶ç«¯ä¸»æœºçš„æ•°æ®æŠ¥ä¼ é€é€šé“æä¾›çš„<strong>æœåŠ¡æ¨¡å‹:</strong></p>
<ul>
<li><strong>æ— è¿æ¥æœåŠ¡(connection-less service)</strong>: ä¸äº‹å…ˆä¸ºç³»åˆ—åˆ†ç»„çš„ä¼ è¾“ç¡®å®šè·¯å¾„, æ¯ä¸ªåˆ†ç»„ç‹¬ç«‹ç¡®å®šä¼ è¾“è·¯å¾„, ä¸åŒåˆ†ç»„å¯èƒ½ä¼ è¾“è·¯å¾„ä¸åŒ, ä¾‹å¦‚æ•°æ®æŠ¥ç½‘ç»œ</li>
<li><strong>è¿æ¥æœåŠ¡(connection service)</strong>: é¦–å…ˆä¸ºç³»åˆ—åˆ†ç»„çš„ä¼ è¾“ç¡®å®šä»æºåˆ°ç›®çš„ç»è¿‡çš„è·¯å¾„(å»ºç«‹è¿æ¥), ç„¶åæ²¿è¯¥è·¯å¾„ä¼ è¾“ç³»åˆ—åˆ†ç»„, ç³»åˆ—åˆ†ç»„ä¼ è¾“è·¯å¾„ç›¸åŒ, ä¼ è¾“ç»“æŸåæ‹†é™¤è¿æ¥, ä¾‹å¦‚è™šç”µè·¯ç½‘ç»œ</li>
</ul>
<h1 id="è™šç”µè·¯å’Œæ•°æ®æŠ¥">è™šç”µè·¯å’Œæ•°æ®æŠ¥</h1>
<p>ç±»ä¼¼äºä¼ è¾“å±‚çš„æ— è¿æ¥æœåŠ¡(UDP)å’Œé¢å‘è¿æ¥æœåŠ¡(TCP), ä½†ç½‘ç»œå±‚æœåŠ¡æ˜¯ä¸»æœºåˆ°ä¸»æœºæœåŠ¡, ç½‘ç»œæ ¸å¿ƒå®ç°</p>
<h2 id="è™šç”µè·¯ç½‘ç»œ-Virtual-Circuits">è™šç”µè·¯ç½‘ç»œ(Virtual Circuits)</h2>
<p><strong>è™šç”µè·¯</strong>: ä¸€æ¡ä»æºä¸»æœºåˆ°ç›®çš„ä¸»æœº, ç±»ä¼¼äºç”µè·¯çš„è·¯å¾„(é€»è¾‘è¿æ¥), ä½¿ç”¨åˆ†ç»„äº¤æ¢, æ¯ä¸ªåˆ†ç»„çš„ä¼ è¾“åˆ©ç”¨é“¾è·¯çš„å…¨éƒ¨å¸¦å®½, æºåˆ°ç›®çš„çš„è·¯å¾„ç»è¿‡çš„ç½‘ç»œå±‚è®¾å¤‡å…±åŒå®Œæˆè™šç”µè·¯åŠŸèƒ½<br>
<strong>é€šä¿¡è¿‡ç¨‹</strong>: å‘¼å«å»ºç«‹, æ•°æ®ä¼ è¾“, å‘¼å«æ‹†é™¤<br>
æ¯ä¸ªåˆ†ç»„æºå¸¦è™šç”µè·¯æ ‡è¯†(VC id), è€Œä¸æ˜¯ç›®çš„ä¸»æœºåœ°å€, è™šç”µè·¯ç»è¿‡çš„æ¯ä¸ªç½‘ç»œè®¾å¤‡, ç»´æŠ¤æ¯æ¡ç»è¿‡å®ƒçš„è™šç”µè·¯è¿æ¥çŠ¶æ€, é“¾è·¯/ç½‘ç»œè®¾å¤‡èµ„æºå¯ä»¥é¢å‘VCè¿›è¡Œé¢„åˆ†é…<br>
æ¯æ¡è™šç”µè·¯åŒ…æ‹¬ä»æºä¸»æœºåˆ°ç›®çš„ä¸»æœºçš„ä¸€æ¡è·¯å¾„, è™šç”µè·¯å·, æ²¿è·¯æ¯ä¸ªç½‘ç»œå±‚è®¾å¤‡, åˆ©ç”¨è½¬å‘è¡¨è®°å½•ç»è¿‡çš„æ¯æ¡è™šç”µè·¯<br>
åŒä¸€æ¡VC, åœ¨æ¯æ®µé“¾è·¯ä¸Šçš„VC idé€šå¸¸ä¸åŒ, è·¯ç”±å™¨è½¬å‘åˆ†ç»„æ—¶ä¾æ®è½¬å‘è¡¨æ”¹å†™è™šç”µè·¯å·<br>
è™šç”µè·¯ä¿¡ä»¤åè®®(signaling protocols), ç”¨äºVCçš„å»ºç«‹,ç»´æŠ¤å’Œæ‹†é™¤, ç›®å‰çš„internetä¸é‡‡ç”¨</p>
<h2 id="æ•°æ®æŠ¥ç½‘ç»œ">æ•°æ®æŠ¥ç½‘ç»œ</h2>
<p>ç½‘ç»œå±‚æ— è¿æ¥, æ¯ä¸ªåˆ†ç»„æºå¸¦ç›®çš„åœ°å€, è·¯ç”±å™¨æ ¹æ®åˆ†ç»„çš„ç›®çš„åœ°å€è½¬å‘åˆ†ç»„, åŸºäºè·¯ç”±åè®®æ„å»ºè½¬å‘è¡¨, æ£€ç´¢è½¬å‘è¡¨, æ¯ä¸ªåˆ†ç»„ç‹¬ç«‹é€‰è·¯<br>
è·¯ç”±ç®—æ³•ç¡®å®šé€šè¿‡ç½‘ç»œçš„ç«¯åˆ°ç«¯è·¯å¾„, è½¬å‘è¡¨ç¡®å®šåœ¨æœ¬è·¯ç”±å™¨å¦‚ä½•è½¬å‘åˆ†ç»„, è½¬å‘è¡¨èšåˆåœ°å€èŒƒå›´å‡å°æ•°æ®é‡, <strong>æ£€ç´¢è½¬å‘è¡¨æ—¶ä¼˜å…ˆé€‰æ‹©ä¸åˆ†ç»„ç›®çš„åœ°å€åŒ¹é…å‰ç¼€æœ€é•¿çš„å…¥å£</strong></p>
<blockquote>
<p>æ•°æ®æŠ¥ç½‘ç»œ, è®¡ç®—æœºä¹‹é—´çš„æ•°æ®äº¤æ¢, æ²¡æœ‰ä¸¥æ ¼æ—¶é—´éœ€æ±‚, é“¾è·¯ç±»å‹ä¼—å¤š, æ™ºèƒ½ç«¯ç³»ç»Ÿ, ç®€åŒ–ç½‘ç»œ, å¤æ‚è¾¹ç¼˜<br>
è™šç”µè·¯ç½‘ç»œ, ç”µè¯ç½‘ç»œæ¼”åŒ–è€Œæ¥, æ ¸å¿ƒä¸šåŠ¡æ˜¯å®æ—¶å¯¹è¯, ä¸¥æ ¼çš„æ—¶é—´, å¯é æ€§éœ€æ±‚, éœ€è¦æœ‰ä¿éšœçš„æœåŠ¡, å“‘ç«¯ç³»ç»Ÿ, ç”µè¯æœºä¼ çœŸæœº, ç®€åŒ–è¾¹ç¼˜, å¤æ‚ç½‘ç»œ</p>
</blockquote>
<h1 id="IPåè®®">IPåè®®</h1>
<p>ä¸»æœº,è·¯ç”±å™¨ç½‘ç»œå±‚ä¸»è¦åŠŸèƒ½:<br>
<strong>è·¯ç”±åè®®(è·¯å¾„é€‰æ‹©)-&gt;è½¬å‘è¡¨-&gt;ipåè®®(å¯»å€è§„çº¦,æ•°æ®æŠ¥æ ¼å¼,åˆ†ç»„å¤„ç†è§„çº¦),icmpåè®®(å·®é”™æŠ¥å‘Š,è·¯ç”±å™¨ä¿¡ä»¤)</strong></p>
<h2 id="IPæ•°æ®æŠ¥æ ¼å¼">IPæ•°æ®æŠ¥æ ¼å¼</h2>
<p><img src="http://www.wangdanpeng.com/img/20220210_1.png" alt="IPæ•°æ®æŠ¥æ ¼å¼"></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç‰ˆæœ¬å·: 4ä½, IPåè®®ç‰ˆæœ¬å·, IPv4æˆ–IPv6</span><br><span class="line">é¦–éƒ¨é•¿åº¦: 4ä½, IPåˆ†ç»„é¦–éƒ¨é•¿åº¦, ä»¥4å­—èŠ‚ä¸ºå•ä½</span><br><span class="line">æœåŠ¡ç±»å‹: 8ä½, æœŸæœ›è·å¾—å“ªç§ç±»å‹æœåŠ¡, ä¸€èˆ¬æƒ…å†µä¸‹ä¸ä½¿ç”¨, åªæœ‰åœ¨ç½‘ç»œæä¾›åŒºåˆ†æœåŠ¡æ—¶ä½¿ç”¨</span><br><span class="line">æ€»é•¿åº¦: 16ä½, IPåˆ†ç»„çš„æ€»å­—èŠ‚æ•°(é¦–éƒ¨+æ•°æ®)</span><br><span class="line">æ ‡è¯†: 16ä½, æ ‡è¯†ä¸€ä¸ªIPåˆ†ç»„, IPåè®®åˆ©ç”¨ä¸€ä¸ªè®¡æ•°å™¨, æ¯äº§ç”ŸIPåˆ†ç»„è®¡æ•°å™¨åŠ 1, ä½œä¸ºè¯¥IPåˆ†ç»„çš„æ ‡è¯†</span><br><span class="line">æ ‡å¿—ä½: 3ä½, ä¿ç•™ä½|DF|MF, DF(dont fragment),1ç¦æ­¢åˆ†ç‰‡,0å…è®¸åˆ†ç‰‡, MF(more fragment),1éæœ€åä¸€ç‰‡,0æœ€åä¸€ç‰‡&#x2F;æœªåˆ†ç‰‡</span><br><span class="line">ç‰‡åç§»: 13ä½, ä¸€ä¸ªIPåˆ†ç»„åˆ†ç‰‡å°è£…åŸIPåˆ†ç»„æ•°æ®çš„ç›¸å¯¹åç§»é‡, ç‰‡åç§»ä»¥8å­—èŠ‚ä¸ºå•ä½</span><br><span class="line">ç”Ÿå­˜æ—¶é—´: 8ä½, IPåˆ†ç»„åœ¨ç½‘ç»œä¸­å¯ä»¥é€šè¿‡çš„è·¯ç”±å™¨æ•°&#x2F;è·³æ­¥æ•°, è·¯ç”±å™¨è½¬å‘ä¸€æ¬¡åˆ†ç»„, ttlå‡1, å¦‚æœttl&#x3D;0åˆ™è·¯ç”±å™¨ä¸¢å¼ƒè¯¥IPåˆ†ç»„</span><br><span class="line">åè®®: 8ä½, IPåˆ†ç»„å°è£…çš„æ˜¯å“ªä¸ªåè®®çš„æ•°æ®æŠ¥, 6ä¸ºTCP, 17ä¸ºUDP</span><br><span class="line">é¦–éƒ¨æ ¡éªŒå’Œ: 16ä½, å®ç°å¯¹IPåˆ†ç»„é¦–éƒ¨çš„å·®é”™æ£€æµ‹</span><br><span class="line">æºIPåœ°å€,ç›®çš„IPåœ°å€: å„32ä½, åˆ†åˆ«æ ‡è¯†å‘é€åˆ†ç»„çš„æºä¸»æœº&#x2F;è·¯ç”±å™¨å’Œæ¥å—åˆ†ç»„çš„ç›®çš„ä¸»æœº&#x2F;è·¯ç”±å™¨çš„IPåœ°å€</span><br><span class="line">é€‰é¡¹å­—æ®µ: é•¿åº¦å¯å˜, èŒƒå›´åœ¨1-40Bä¹‹é—´, å¾ˆå°‘è¢«ä½¿ç”¨, æºå¸¦å®‰å…¨,æºé€‰è·¯å¾„, æ—¶é—´æˆ³å’Œè·¯ç”±è®°å½•ç­‰å†…å®¹</span><br><span class="line">å¡«å……å­—æ®µ: é•¿åº¦å¯å˜, èŒƒå›´åœ¨0-3Bä¹‹é—´, ç›®çš„æ˜¯è¡¥é½æ•´ä¸ªé¦–éƒ¨, ç¬¦åˆ32ä½å¯¹é½, ä¿è¯é¦–éƒ¨é•¿åº¦æ˜¯4å­—èŠ‚çš„å€æ•°</span><br></pre></td></tr></table></figure>
<h2 id="IPåˆ†ç‰‡ä¸é‡ç»„">IPåˆ†ç‰‡ä¸é‡ç»„</h2>
<p>ç½‘ç»œé“¾è·¯å­˜åœ¨MTU(æœ€å¤§ä¼ è¾“å•å…ƒ), é“¾è·¯å±‚æ•°æ®å¸§å¯å°è£…æ•°æ®çš„ä¸Šé™, ä¸åŒé“¾è·¯çš„MTUä¸åŒ<br>
å¤§IPåˆ†ç»„å‘è¾ƒå°MTUé“¾è·¯è½¬å‘æ—¶, å¯ä»¥è¢«åˆ†ç‰‡, ä¸€ä¸ªIPåˆ†ç»„åˆ†ä¸ºå¤šç‰‡IPåˆ†ç»„, IPåˆ†ç‰‡åˆ°è¾¾ç›®çš„ä¸»æœºåè¿›è¡Œé‡ç»„, <strong>è·¯ç”±å™¨åªæ‹†åˆ†ä¸é‡ç»„</strong>,é¿å…é‡ç»„ååˆéœ€è¦æ‹†åˆ†<br>
IPé¦–éƒ¨çš„ç›¸å…³å­—æ®µç”¨äºæ ‡è¯†åˆ†ç‰‡ä»¥åŠç¡®å®šåˆ†ç‰‡çš„ç›¸å¯¹é¡ºåº, æ€»é•¿åº¦, æ ‡è¯†, æ ‡å¿—ä½å’Œç‰‡åç§»</p>
<h2 id="IPç¼–å€å’Œå­ç½‘">IPç¼–å€å’Œå­ç½‘</h2>
<p>IPåˆ†ç»„: æºåœ°å€(SA), ç›®çš„åœ°å€(DA)<br>
æ¥å£: ä¸»æœº/è·¯ç”±å™¨ä¸ç‰©ç†é“¾è·¯çš„è¿æ¥, è·¯ç”±å™¨é€šå¸¸æœ‰å¤šä¸ªæ¥å£, ä¸»æœºé€šå¸¸åªæœ‰ä¸€ä¸ªæˆ–ä¸¤ä¸ªæ¥å£(æœ‰çº¿ä»¥å¤ªç½‘å’Œæ— çº¿çš„802.11æ¥å£)<br>
IPv4ç‰ˆæœ¬IPåœ°å€32æ¯”ç‰¹, æ¯8ä½æ¢ç®—10è¿›åˆ¶, æ ‡è¯†ä¸»æœº, è·¯ç”±å™¨çš„æ¥å£<br>
IPåœ°å€é«˜ä½æ¯”ç‰¹ä½œä¸ºç½‘ç»œå·, ä½ä½æ¯”ç‰¹ä½œä¸ºä¸»æœºå·<br>
<strong>IPå­ç½‘</strong>: IPåœ°å€å…·æœ‰ç›¸åŒç½‘ç»œå·çš„è®¾å¤‡æ¥å£, ä¸è·¨è¶Šè·¯ç”±å™¨å¯ä»¥å½¼æ­¤ç‰©ç†è”é€šçš„æ¥å£<br>
IPåœ°å€è¢«åˆ†ä¸º5ç±», ABCDEF<br>
<img src="http://www.wangdanpeng.com/img/20220210_2.png" alt="IPåœ°å€"><br>
è¿˜æœ‰ç‰¹æ®Šåœ°å€å’Œç§æœ‰åœ°å€<br>
<img src="http://www.wangdanpeng.com/img/20220210_3.png" alt="ç‰¹æ®Šåœ°å€"><br>
<img src="http://www.wangdanpeng.com/img/20220210_4.png" alt="ç§æœ‰åœ°å€"></p>
<h2 id="å­ç½‘åˆ’åˆ†">å­ç½‘åˆ’åˆ†</h2>
<p>å­ç½‘åˆ’åˆ†, åŒºåˆ†ä¸€ä¸ªæ¯”IPå­ç½‘æ›´å°èŒƒå›´çš„ç½‘ç»œ<br>
é«˜æ¯”ç‰¹ä½ç½‘ç»œå·, åŸç½‘ç»œä¸»æœºå·éƒ¨åˆ†æ¯”ç‰¹ä½œä¸ºå­ç½‘å·, ä½ä½æ¯”ç‰¹ä¸»æœºå·<br>
å­ç½‘æ©ç , å½¢å¦‚IPåœ°å€32ä½, ç‚¹åˆ†åè¿›åˆ¶å½¢å¼, å­ç½‘åœ°å€+å­ç½‘æ©ç ç¡®å®šå­ç½‘å¤§å°, ç½‘ç»œå·å­ç½‘å·å…¨å–1, ä¸»æœºå·å…¨å–0<br>
Aç½‘é»˜è®¤å­ç½‘æ©ç , 255.0.0.0, bç½‘, 255.255.0.0<br>
å€Ÿç”¨3æ¯”ç‰¹åˆ’åˆ†å­ç½‘çš„bç½‘å­ç½‘æ©ç 255.255.224.0<br>
å­ç½‘æ©ç çš„åº”ç”¨, å°†IPåˆ†ç»„çš„ç›®çš„IPåœ°å€ä¸å­ç½‘æ©ç æŒ‰ä½ä¸è¿ç®—, å¾—å‡ºå­ç½‘åœ°å€</p>
<h1 id="CIDRä¸è·¯ç”±èšé›†">CIDRä¸è·¯ç”±èšé›†</h1>
<p>æ— ç±»åŸŸé—´è·¯ç”±(CIDR, Classless Interdomain Routing)<br>
æ¶ˆé™¤ä¼ ç»ŸAç±»,Bç±»åœ°å€ç•Œé™, èåˆå­ç½‘åœ°å€ä¸å­ç½‘æ©ç , æ–¹ä¾¿å­ç½‘åˆ’åˆ†, æ— ç±»åœ°å€æ ¼å¼, <code>a.b.c.d/x</code>, xä¸ºå‰ç¼€é•¿åº¦<br>
ä¾‹å¦‚<code>201.2.3.64, 255.255.255.192</code> -&gt; <code>201.2.3.64/26</code><br>
ä¼˜ç‚¹, æé«˜IPv4åœ°å€ç©ºé—´åˆ†é…æ•ˆç‡, æé«˜è·¯ç”±æ•ˆç‡, å°†å¤šä¸ªå­ç½‘èšåˆä¸ºä¸€ä¸ªè¾ƒå¤§çš„å­ç½‘ ç§°ä¸ºè·¯ç”±èšåˆ, å¯ç®€åŒ–è·¯ç”±è½¬å‘è¡¨</p>
<h1 id="DHCPåè®®">DHCPåè®®</h1>
<p>ä¸»æœºè·å–IPä¸¤ç§æ–¹å¼</p>
<ul>
<li>é™æ€é…ç½®</li>
<li>åŠ¨æ€ä¸»æœºé…ç½®åè®®(DHCP, Dynamic Host Configuration Protocol)</li>
</ul>
<p>ä»æœåŠ¡å™¨åŠ¨æ€è·å–IPåœ°å€, å­ç½‘æ©ç , é»˜è®¤ç½‘å…³, DNSæœåŠ¡å™¨, å³æ’å³ç”¨, å…è®¸åœ°å€é‡ç”¨, æ”¯æŒåœ¨ç”¨åœ°å€ç»­ç§Ÿ, æ”¯æŒç§»åŠ¨ç”¨æˆ·åŠ å…¥ç½‘ç»œ<br>
DHCPå·¥ä½œå·¥ç¨‹:</p>
<ul>
<li>ä¸»æœºå¹¿æ’­<code>DHCP discover</code>æŠ¥æ–‡</li>
<li>DHCPæœåŠ¡å™¨åˆ©ç”¨<code>DHCP offer</code>æŠ¥æ–‡è¿›è¡Œç›¸åº”</li>
<li>ä¸»æœºè¯·æ±‚IPåœ°å€, <code>DHCP request</code>æŠ¥æ–‡</li>
<li>DHCPæœåŠ¡å™¨åˆ†é…IPåœ°å€, <code>DHCP ack</code>æŠ¥æ–‡</li>
</ul>
<p>DHCPåè®®åœ¨åº”ç”¨å±‚å®ç°, DHCPæœåŠ¡å™¨å†…å»ºäºè·¯ç”±å™¨ä¸­<br>
ä¸»æœºé€šè¿‡å¹¿æ’­å’ŒDHCPæœåŠ¡å™¨é€šä¿¡, å…¶ä»–ä¸»æœºä¹Ÿèƒ½æ”¶åˆ°, ä½†ä¸å“åº”</p>
<h1 id="ç½‘ç»œåœ°å€è½¬æ¢-NAT">ç½‘ç»œåœ°å€è½¬æ¢(NAT)</h1>
<p>ä¸€ä¸ªæœ¬åœ°ç½‘ç»œ, å…¬ç”¨ä¸€ä¸ªNAT IPåœ°å€, æ‰€æœ‰ç¦»å¼€æœ¬åœ°ç½‘ç»œå»å¾€Internetçš„æ•°æ®æŠ¥çš„æºIPåœ°å€æ›¿æ¢ä¸ºç›¸åŒçš„NAT IPåœ°å€ä»¥åŠä¸åŒçš„ç«¯å£å·<br>
åŠ¨æœº: åªéœ€ä»ISPç”³è¯·ä¸€ä¸ªIPåœ°å€, æœ¬åœ°ç½‘ç»œè®¾å¤‡IPåœ°å€çš„å˜æ›´, æ— éœ€é€šå‘Šå¤–ç•Œç½‘ç»œ, å˜æ›´ISPæ—¶, æ— éœ€ä¿®æ”¹å†…éƒ¨ç½‘ç»œè®¾å¤‡IPåœ°å€, å†…éƒ¨ç½‘ç»œè®¾å¤‡å¯¹å¤–ç•Œç½‘ç»œä¸å¯è§, å®‰å…¨<br>
å®ç°æ–¹æ³•</p>
<ul>
<li>æ›¿æ¢, åˆ©ç”¨NAT IPåœ°å€å’Œæ–°ç«¯å£å·, æ›¿æ¢æ¯ä¸ªå¤–å‡ºIPæ•°æ®æŠ¥çš„æºIPåœ°å€, æºç«¯å£å·</li>
<li>è®°å½•, å°†æ¯å¯¹æ›¿æ¢ä¿¡æ¯å­˜å‚¨åˆ°NATè½¬æ¢è¡¨ä¸­</li>
<li>æ›¿æ¢, æ ¹æ®NATè½¬æ¢è¡¨, å†æŠŠè¿›å…¥å†…ç½‘çš„æ•°æ®æŠ¥æ›¿æ¢å›æ¥</li>
</ul>
<p>ç«¯å£å·å­—æ®µ16æ¯”ç‰¹, æœ€å¤šåŒæ—¶æ”¯æŒ6wå¤šå¹¶è¡Œè¿æ¥<br>
NATäº‰è®®, è·¯ç”±å™¨åº”è¯¥åªå¤„ç†ç¬¬ä¸‰å±‚åŠŸèƒ½, è¿èƒŒç«¯åˆ°ç«¯é€šä¿¡åŸåˆ™, åœ°å€çŸ­ç¼ºé—®é¢˜åº”è¯¥ç”±IPv6è§£å†³<br>
NATç©¿é€æ–¹æ¡ˆ</p>
<ol>
<li>é™æ€é…ç½®NAT, å°†ç‰¹å®šç«¯å£è¯·æ±‚è½¬å‘ç»™æœåŠ¡å™¨</li>
<li>åˆ©ç”¨UPnPäº’è”ç½‘ç½‘å…³è®¾å¤‡åè®®è‡ªåŠ¨é…ç½®</li>
<li>ä¸­ç»§æœåŠ¡å™¨, å†…éƒ¨å®¢æˆ·ä¸ä¸­çº§æœåŠ¡å™¨å»ºç«‹è¿æ¥, å¤–éƒ¨å®¢æˆ·ä¹Ÿä¸ä¸­ç»§æœåŠ¡å™¨å»ºç«‹è¿æ¥</li>
</ol>
<h1 id="äº’è”ç½‘æ§åˆ¶æŠ¥æ–‡åè®®-ICMP">äº’è”ç½‘æ§åˆ¶æŠ¥æ–‡åè®®(ICMP)</h1>
<p>ICMP, Internet Control Message Protocol<br>
ICMPæ”¯æŒä¸»æœº/è·¯ç”±å™¨è¿›è¡Œå·®é”™æŠ¥å‘Š, ç½‘ç»œæ¢è¯¢, æ‰€ä»¥ICMPæŠ¥æ–‡åˆ†ä¸¤ç±»</p>
<ul>
<li>å·®é”™æŠ¥å‘ŠæŠ¥æ–‡(5ç§): ç›®çš„ä¸å¯è¾¾,æºæŠ‘åˆ¶,è¶…æ—¶,å‚æ•°é—®é¢˜,é‡å®šå‘</li>
<li>ç½‘ç»œæ¢è¯¢æŠ¥æ–‡(2ç»„): å›å£°è¯·æ±‚ä¸åº”ç­”æŠ¥æ–‡, æ—¶é—´æˆ³è¯·æ±‚ä¸åº”ç­”æŠ¥æ–‡</li>
</ul>
<p>ICMPæŠ¥æ–‡å°è£…åˆ°IPæ•°æ®æŠ¥ä¸­ä¼ è¾“</p>
<h1 id="IPv6">IPv6</h1>
<p>æ”¹è¿›äº†é¦–éƒ¨æ ¼å¼, å›ºå®šé•¿åº¦çš„40å­—èŠ‚åŸºæœ¬é¦–éƒ¨, å¯é€‰çš„æ‰©å±•é¦–éƒ¨, ä¸å…è®¸åˆ†ç‰‡, åªèƒ½æºä¸»æœºåˆ†ç‰‡<br>
<strong>æ ¡éªŒå’Œ</strong>å½»åº•ç§»é™¤, ä»¥å‡å°‘æ¯è·³å¤„ç†æ—¶é—´<br>
ä¸€èˆ¬å½¢å¼, 8ä¸ª16è¿›åˆ¶, å…¨æ˜¯é›¶å¯å‹ç¼©æˆ<code>::</code>, <code>FF01:0:0:0:0:0:0:43</code> -&gt; <code>FF01::43</code><br>
åµŒå…¥IPv4æ ¼å¼, <code>0:0:0:0:0:FFFF:13.1.68.3</code> æˆ– <code>::FFFF:13.1.68.3</code><br>
å–æ¶ˆäº†å­ç½‘æ©ç , é‡‡ç”¨æ–œæ çš„åœ°å€å‰ç¼€, urlé‡Œéœ€è¦æŠŠipç”¨ä¸­æ‹¬å·æ‰©èµ·æ¥<br>
åœ°å€ç±»å‹åˆ†ä¸º, å•æ’­, å¤šæ’­å’Œä»»æ„æ’­<br>
v4å‘v6è¿‡æ¸¡é‡‡ç”¨éš§é“è¿›è¡Œå…¼å®¹, v6æ•°æ®æŠ¥ä½œä¸ºv4çš„è½½è·è¿›è¡Œå°è£…, ç©¿è¶Šv4ç½‘ç»œ</p>
<h1 id="è·¯ç”±ç®—æ³•">è·¯ç”±ç®—æ³•</h1>
<p>è·¯ç”±ç®—æ³•éœ€è¦ç¡®å®šå»å¾€ç›®çš„ç½‘ç»œçš„æœ€ä½³è·¯å¾„<br>
ç½‘ç»œé€šå¸¸è¢«æŠ½è±¡æˆå›¾G, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>G</mi><mo>=</mo><mo>(</mo><mi>N</mi><mo separator="true">,</mo><mi>E</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">G=(N, E)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit">G</span><span class="mrel">=</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mpunct">,</span><span class="mord mathit" style="margin-right:0.05764em;">E</span><span class="mclose">)</span></span></span></span>, Næ˜¯è·¯ç”±å™¨é›†åˆ, Eæ˜¯é“¾è·¯é›†åˆ<br>
æ¯æ®µé“¾è·¯éƒ½æœ‰è´¹ç”¨, å¯èƒ½æ˜¯1, æˆ–è€…å¸¦å®½çš„å€’æ•°, æ‹¥å¡ç¨‹åº¦ç­‰, æ‰€ä»¥è·¯ç”±ç®—æ³•è´Ÿè´£å¯»æ‰¾æœ€å°è´¹ç”¨è·¯å¾„<br>
<strong>è·¯ç”±ç®—æ³•åˆ†ç±»</strong></p>
<ul>
<li>é™æ€è·¯ç”±, æ‰‹å·¥é…ç½®, è·¯ç”±æ›´æ–°æ…¢, ä¼˜å…ˆçº§é«˜</li>
<li>åŠ¨æ€è·¯ç”±, æ›´æ–°å¿«, åŠæ—¶å“åº”é“¾è·¯è´¹ç”¨å˜åŒ–</li>
<li>å…¨å±€ä¿¡æ¯, æ‰€æœ‰è·¯ç”±å™¨æŒæ¡å®Œæ•´ç½‘ç»œæ‹“æ‰‘å’Œé“¾è·¯è´¹ç”¨ä¿¡æ¯, ä¾‹å¦‚é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•(LS)</li>
<li>åˆ†æ•£ä¿¡æ¯, è·¯ç”±å™¨åªæŒæ¡ç‰©ç†ç›¸è¿çš„é‚»å±…ä»¥åŠé“¾è·¯è´¹ç”¨, é‚»å±…é—´ä¿¡æ¯äº¤æ¢, è¿ç®—çš„è¿­ä»£è¿‡ç¨‹, ä¾‹å¦‚è·ç¦»å‘é‡è·¯ç”±ç®—æ³•(DV, Distance Vector)</li>
</ul>
<h2 id="é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•-LS">é“¾è·¯çŠ¶æ€è·¯ç”±ç®—æ³•(LS)</h2>
<p>Dijkstraç®—æ³•</p>
<ul>
<li>æ‰€æœ‰è·¯ç”±å™¨æŒæ¡ç½‘ç»œæ‹“æ‰‘å’Œé“¾è·¯è´¹ç”¨, é€šè¿‡é“¾è·¯çŠ¶æ€å¹¿æ’­, æ‰€æœ‰ç»“ç‚¹æ‹¥æœ‰ç›¸åŒä¿¡æ¯</li>
<li>è®¡ç®—ä»ä¸€ä¸ªç»“ç‚¹åˆ°è¾¾æ‰€æœ‰å…¶ä»–ç»“ç‚¹çš„æœ€çŸ­è·¯å¾„</li>
<li>è¿­ä»£næ¬¡å, å¾—åˆ°åˆ°è¾¾nä¸ªç›®æ ‡çš„ç»“ç‚¹çš„æœ€çŸ­è·¯å¾„</li>
</ul>
<p>ç»†èŠ‚ç•¥, æ—¶é—´å¤æ‚åº¦<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msup><mi>n</mi><mn>2</mn></msup><mo>)</mo></mrow><annotation encoding="application/x-tex">O(n^2)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:1.064108em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathit">n</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mclose">)</span></span></span></span>, å¯ä¼˜åŒ–åˆ°<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>n</mi><mi>l</mi><mi>o</mi><mi>g</mi><mi>n</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">O(nlogn)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathit">n</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">o</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit">n</span><span class="mclose">)</span></span></span></span>, å­˜åœ¨éœ‡è¡å¯èƒ½</p>
<h2 id="è·ç¦»å‘é‡è·¯ç”±ç®—æ³•">è·ç¦»å‘é‡è·¯ç”±ç®—æ³•</h2>
<p>Bellman-Fordæ–¹ç¨‹(åŠ¨æ€è§„åˆ’)<br>
æ¯ä¸ªç»“ç‚¹ä¸å®šæ—¶çš„å°†è‡ªèº«çš„DVä¼°è®¡å‘é€ç»™å…¶é‚»å±…, å½“xæ¥æ”¶åˆ°é‚»å±…çš„æ–°DVä¼°è®¡æ—¶, ä¾æ®BFæ›´æ–°å…¶è‡ªèº«çš„è·ç¦»å‘é‡ä¼°è®¡, xåˆ°yçš„è·ç¦»<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>D</mi><mi>x</mi><mo>(</mo><mi>y</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">Dx(y)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">D</span><span class="mord mathit">x</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mclose">)</span></span></span></span>æœ€ç»ˆæ”¶æ•›äºå®é™…çš„æœ€å°è´¹ç”¨<br>
å¥½æ¶ˆæ¯ä¼ æ’­å¿«, åæ¶ˆæ¯ä¼ æ’­æ…¢</p>
<h2 id="å±‚æ¬¡è·¯ç”±">å±‚æ¬¡è·¯ç”±</h2>
<p>å°†ä»»æ„è§„æ¨¡ç½‘ç»œæŠ½è±¡ä¸ºä¸€ä¸ªå›¾è®¡ç®—è·¯ç”±, è¿‡äºç†æƒ³åŒ–, å®é™…ç½‘ç»œè§„æ¨¡è¿‡å¤§<br>
èšåˆè·¯ç”±å™¨ä¸ºä¸€ä¸ªåŒºåŸŸ, ç§°ä¸º<strong>è‡ªæ²»ç³»ç»ŸAS(autonomous systems)</strong><br>
åŒä¸€ASå†…çš„è·¯ç”±å™¨è¿è¡Œç›¸åŒçš„è·¯ç”±åè®®, è‡ªæ²»ç³»ç»Ÿå†…éƒ¨è·¯ç”±åè®®<br>
<strong>ç½‘å…³è·¯ç”±å™¨</strong>: ä½äºASè¾¹ç¼˜, é€šè¿‡é“¾è·¯è¿æ¥å…¶ä»–AS<br>
ASäº’è¿: ç”±ASå†…éƒ¨è·¯ç”±ç®—æ³•ä¸ASé—´è·¯ç”±ç®—æ³•å…±åŒé…ç½®è½¬å‘è¡¨</p>
<h1 id="è·¯ç”±åè®®">è·¯ç”±åè®®</h1>
<ul>
<li>RIPåè®®</li>
<li>OSPFåè®®</li>
<li>BGPåè®®</li>
</ul>
<p>ç•¥äº†</p>
]]></content>
      <categories>
        <category>ç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
        <tag>IP</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œç³»åˆ—ç¬”è®°(ä¸‰) - ä¼ è¾“å±‚</title>
    <url>/2022/02/09/20220209153707/</url>
    <content><![CDATA[<h1 id="æ¦‚è¿°">æ¦‚è¿°</h1>
<p><strong>ä¼ è¾“å±‚çš„åŸºæœ¬ç†è®ºå’ŒåŸºæœ¬æœºåˆ¶</strong></p>
<ul>
<li>å¤ç”¨/åˆ†ç”¨</li>
<li>å¯é æ•°æ®ä¼ è¾“æœºåˆ¶</li>
<li>æµé‡æ§åˆ¶æœºåˆ¶</li>
<li>æ‹¥å¡æ§åˆ¶æœºåˆ¶</li>
</ul>
<p>æŒæ¡Internetçš„ä¼ è¾“å±‚åè®®: UDP, TCP, TCPæ‹¥å¡æ§åˆ¶<br>
<strong>ä¼ è¾“å±‚åè®®ä¸ºè¿è¡Œåœ¨ä¸åŒhostä¸Šçš„è¿›ç¨‹æä¾›äº†ä¸€ç§é€»è¾‘é€šä¿¡æœºåˆ¶</strong><br>
ç½‘ç»œå±‚æä¾›ä¸»æœºä¹‹é—´çš„é€»è¾‘é€šä¿¡æœºåˆ¶, ä¼ è¾“å±‚æä¾›åº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é€»è¾‘é€šä¿¡æœºåˆ¶, ä½äºç½‘ç»œå±‚ä¹‹ä¸Š, ä¾èµ–äºç½‘ç»œå±‚æœåŠ¡, å¯¹ç½‘ç»œå±‚æœåŠ¡è¿›è¡Œå¢å¼º<br>
<strong>TCP</strong>: å¯é , æŒ‰åºçš„äº¤ä»˜æœåŠ¡, æ‹¥å¡æ§åˆ¶, æµé‡æ§åˆ¶, è¿æ¥å»ºç«‹<br>
<strong>UDP</strong>: ä¸å¯é çš„äº¤ä»˜æœåŠ¡, åŸºäºå°½åŠ›è€Œä¸ºçš„ç½‘ç»œå±‚, æ²¡æœ‰åšå¯é æ€§æ–¹é¢çš„æ‰©å±•<br>
ä¸¤ç§æœåŠ¡å‡ä¸ä¿è¯ å»¶è¿Ÿå’Œå¸¦å®½</p>
<h1 id="å¤šè·¯å¤ç”¨å’Œå¤šè·¯åˆ†ç”¨">å¤šè·¯å¤ç”¨å’Œå¤šè·¯åˆ†ç”¨</h1>
<p>å¦‚æœæŸå±‚çš„ä¸€ä¸ªåè®®å¯¹åº”ç›´æ¥ä¸Šå±‚çš„å¤šä¸ªåè®®/å®ä½“, åˆ™éœ€è¦å¤ç”¨/åˆ†ç”¨<br>
<strong>æ¥æ”¶ç«¯è¿›è¡Œå¤šè·¯åˆ†ç”¨</strong>, ä¼ è¾“å±‚ä¾æ®å¤´éƒ¨ä¿¡æ¯å°†æ”¶åˆ°çš„Segmentäº¤ç»™æ­£ç¡®çš„socket, å³ä¸åŒçš„è¿›ç¨‹<br>
<strong>å‘é€ç«¯è¿›è¡Œå¤šè·¯å¤ç”¨</strong>, ä»å¤šä¸ªsocketæ¥å—æ•°æ®, ä¸ºæ¯å—æ•°æ®å°è£…ä¸Šå¤´éƒ¨ä¿¡æ¯, ç”Ÿæˆsegmentäº¤ç»™ç½‘ç»œå±‚<br>
<strong>åˆ†ç”¨</strong>: ä¸»æœºæ¥æ”¶åˆ°ipæ•°æ®æŠ¥(datagram), æ¯ä¸ªæ•°æ®æŠ¥æºå¸¦æºipåœ°å€, ç›®çš„ipåœ°å€, æºå¸¦ä¸€ä¸ªä¼ è¾“å±‚çš„æ®µ(Segment), æ¯ä¸ªæ®µæºå¸¦æºç«¯å£å·å’Œç›®çš„ç«¯å£å·, ä¸»æœºæ”¶åˆ°segmentä¹‹å, ä¼ è¾“å±‚åè®®æå–ipåœ°å€å’Œç«¯å£å·ä¿¡æ¯, å°†segmentå¯¼å‘ç›¸åº”çš„socket<br>
<strong>UDPçš„æ— è¿æ¥åˆ†ç”¨</strong>, åˆ©ç”¨ç«¯å£å·åˆ›å»ºSocket, UDPçš„socketç”¨äºŒå…ƒç»„æ ‡è¯†(ç›®çš„IPåœ°å€, ç›®çš„ç«¯å£å·), ä¸»æœºæ”¶åˆ°UDPæ®µå, æ£€æŸ¥æ®µä¸­çš„ç›®çš„ç«¯å£å·, å°†UDPæ®µå¯¼å‘ç»‘å®šåœ¨è¯¥ç«¯å£å·çš„socket, æ¥è‡ªä¸åŒæºipåœ°å€å’Œæºç«¯å£å·çš„ipæ•°æ®æŠ¥è¢«å¯¼å‘åŒä¸€ä¸ªsocket<br>
<strong>TCPçš„é¢å‘è¿æ¥çš„åˆ†ç”¨</strong>, TCPçš„socketç”¨å››å…ƒç»„æ ‡è¯†, (æºipåœ°å€, æºç«¯å£å·, ç›®çš„ipåœ°å€, ç›®çš„ç«¯å£å·), æ¥æ”¶ç«¯åˆ©ç”¨æ‰€æœ‰çš„å››ä¸ªå€¼, å°†segmentå¯¼å‘åˆé€‚çš„socket, æœåŠ¡å™¨å¯èƒ½åŒæ—¶æ”¯æŒå¤šä¸ªtcp socket æ¯ä¸ªsocketç”¨è‡ªå·±çš„å››å…ƒç»„æ ‡è¯†, webæœåŠ¡å™¨ä¸ºæ¯ä¸ªå®¢æˆ·ç«¯å¼€ä¸åŒçš„socket</p>
<h1 id="UDP-User-Datagram-Protocol">UDP(User Datagram Protocol)</h1>
<ul>
<li>åŸºäºinternet IPåè®®, å¤ç”¨/åˆ†ç”¨, ç®€å•çš„é”™è¯¯æ ¡éªŒ</li>
<li>best effortæœåŠ¡, UDPæ®µå¯èƒ½ä¸¢å¤±æˆ–éæŒ‰åºåˆ°è¾¾</li>
<li>æ— è¿æ¥, UDPå‘é€æ–¹å’Œæ¥æ”¶æ–¹ä¹‹é—´ä¸éœ€è¦æ¡æ‰‹, æ¯ä¸ªUDPæ®µçš„å¤„ç†ç‹¬ç«‹äºå…¶ä»–æ®µ</li>
</ul>
<p><strong>ä¼˜ç‚¹</strong>: æ— éœ€å»ºç«‹è¿æ¥, å‡å°‘å»¶è¿Ÿ, å®ç°ç®€å•, æ— éœ€ç»´æŠ¤è¿æ¥çŠ¶æ€, å¤´éƒ¨å¼€é”€å°‘, æ²¡æœ‰æ‹¥å¡æ§åˆ¶åº”ç”¨å¯æ›´å¥½çš„æ§åˆ¶å‘é€æ—¶é—´å’Œé€Ÿç‡<br>
å¸¸ç”¨äºæµåª’ä½“åº”ç”¨, å®¹å¿ä¸¢å¤±, é€Ÿç‡æ•æ„Ÿ, è¿˜ç”¨äºDNS, SNMP<br>
æƒ³åœ¨UDPä¸Šå®ç°å¯é æ•°æ®ä¼ è¾“, éœ€è¦åœ¨åº”ç”¨å±‚å¢åŠ å¯é æ€§æœºåˆ¶, æˆ–åº”ç”¨ç‰¹å®šçš„é”™è¯¯æ¢å¤æœºåˆ¶<br>
UDPçš„æ ¡éªŒå’Œ(checksum), æ£€æµ‹UDPæ®µåœ¨ä¼ è¾“ä¸­æ˜¯å¦å‘ç”Ÿé”™è¯¯</p>
<h1 id="å¯é æ•°æ®ä¼ è¾“çš„åŸºæœ¬åŸç†">å¯é æ•°æ®ä¼ è¾“çš„åŸºæœ¬åŸç†</h1>
<p><strong>ä»€ä¹ˆæ˜¯å¯é </strong>: ä¸é”™, ä¸ä¸¢, ä¸ä¹±<br>
<strong>å¯é æ•°æ®ä¼ è¾“åè®®(rdt)</strong>, å¯¹åº”ç”¨å±‚, ä¼ è¾“å±‚, é“¾è·¯å±‚éƒ½å¾ˆé‡è¦, <strong>ç½‘ç»œtop10é—®é¢˜</strong>, ä¿¡é“çš„ä¸å¯é ç‰¹æ€§å†³å®šäº†rdtçš„å¤æ‚æ€§<br>
æ¸è¿›çš„è®¾è®¡å¯é æ•°æ®ä¼ è¾“åè®®çš„å‘é€æ–¹å’Œæ¥æ”¶æ–¹, åªè€ƒè™‘å•å‘æ•°æ®ä¼ è¾“, ä½†æ§åˆ¶ä¿¡æ¯åŒå‘æµåŠ¨, åˆ©ç”¨çŠ¶æ€æœº(Finite State Machine, FSM)åˆ»ç”»ä¼ è¾“åè®®</p>
<h2 id="Rdt1-0-å¯é ä¿¡é“ä¸Šçš„å¯é æ•°æ®ä¼ è¾“">Rdt1.0, å¯é ä¿¡é“ä¸Šçš„å¯é æ•°æ®ä¼ è¾“</h2>
<p>åº•å±‚ä¿¡é“å®Œå…¨å¯é , ä¸ä¼šå‘ç”Ÿé”™è¯¯, ä¸ä¼šä¸¢å¼ƒåˆ†ç»„<br>
å‘é€æ–¹å’Œæ¥æ”¶æ–¹çš„FSMç‹¬ç«‹, ä¸€ä¸ªå‘é€, ä¸€ä¸ªæ¥æ”¶, æ²¡æœ‰å…¶ä»–äº¤é›†</p>
<h2 id="Rdt2-0-äº§ç”Ÿä½é”™è¯¯çš„ä¿¡é“">Rdt2.0, äº§ç”Ÿä½é”™è¯¯çš„ä¿¡é“</h2>
<p>åº•å±‚ä¿¡é“å¯èƒ½ç¿»è½¬åˆ†ç»„ä¸­çš„ä½, åˆ©ç”¨æ ¡éªŒå’Œæ£€æµ‹ä½é”™è¯¯<br>
æ¢å¤æœºåˆ¶<br>
<strong>ç¡®è®¤æœºåˆ¶(Acknowledgements, ACK)</strong>, æ¥æ”¶æ–¹æ˜¾å¼çš„å‘ŠçŸ¥å‘é€æ–¹åˆ†ç»„å·²æ­£ç¡®æ¥æ”¶<br>
<strong>NAK</strong>, æ˜¾å¼çš„å‘ŠçŸ¥åˆ†ç»„æœ‰é”™è¯¯, å‘é€æ–¹æ”¶åˆ°NAKåé‡ä¼ åˆ†ç»„<br>
åŸºäºè¿™ç§é‡ä¼ æœºåˆ¶çš„rdtåè®®ç§°ä¸ºARQåè®®(Automatic Repeat reQuest)<br>
è¯¥ç‰ˆæœ¬ä¸­å¼•å…¥çš„æ–°æœºåˆ¶, å·®é”™æ£€æµ‹, æ¥æ”¶æ–¹åé¦ˆæ§åˆ¶æ¶ˆæ¯, ACK/NAK, é‡ä¼ <br>
FSMä½¿ç”¨åœ-ç­‰åè®®</p>
<h2 id="Rdt2-1">Rdt2.1</h2>
<p>ä¸Šä¸€ä¸ªç‰ˆæœ¬æœ‰ç¼ºé™·, å¦‚æœACK/NAKæ¶ˆæ¯å‘ç”Ÿé”™è¯¯, ä¼šæ­»å¾ªç¯<br>
æ‰€ä»¥, <strong>ä¸ºACK/NAKå¢åŠ æ ¡éªŒå’Œ</strong>, æ£€é”™å¹¶çº é”™, å¦‚æœè¢«ç ´å, å‘é€æ–¹é‡ä¼ , å‘é€æ–¹ç»™æ¯ä¸ªåˆ†ç»„æ·»åŠ åºåˆ—å·, è§£å†³é‡å¤åˆ†ç»„, æ¥æ”¶æ–¹ä¸¢å¼ƒé‡å¤åˆ†ç»„</p>
<h2 id="Rdt2-2-æ— NAKæ¶ˆæ¯åè®®">Rdt2.2 æ— NAKæ¶ˆæ¯åè®®</h2>
<p>å…¶ä»–ä¸2.1ç›¸åŒ, <strong>åªä½¿ç”¨ACK</strong>, åœ¨ACKæ¶ˆæ¯ä¸­åŠ å…¥è¢«ç¡®è®¤åˆ†ç»„çš„åºåˆ—å·, å‘é€æ–¹æ”¶åˆ°ä¸ç¬¦åˆé¢„æœŸçš„åºåˆ—å·, åˆ™é‡ä¼ å½“å‰åˆ†ç»„</p>
<h2 id="Rdt3-0-ä¿¡é“æ—¢å¯èƒ½å‘ç”Ÿé”™è¯¯-ä¹Ÿå¯èƒ½åˆ†ç»„ä¸¢å¤±">Rdt3.0 ä¿¡é“æ—¢å¯èƒ½å‘ç”Ÿé”™è¯¯, ä¹Ÿå¯èƒ½åˆ†ç»„ä¸¢å¤±</h2>
<p>å‘é€æ–¹<strong>ç­‰å¾…åˆç†æ—¶é—´</strong>, æœªæ”¶åˆ°ACKåˆ™é‡ä¼ , å¦‚æœACKæ¶ˆæ¯æ²¡ä¸¢ä½†å»¶è¿Ÿåˆ°è¾¾, åºåˆ—å·æœºåˆ¶èƒ½è§£å†³é‡å¤, éœ€è¦å®šæ—¶å™¨<br>
Rdt3.0èƒ½æ­£ç¡®å·¥ä½œ, ä¿è¯å¯é , ä½†æ€§èƒ½å¾ˆå·®, å› ä¸ºç½‘ç»œåè®®è€Œé™åˆ¶äº†ç‰©åŠ›èµ„æºçš„åˆ©ç”¨, å› ä¸ºæœ‰åœç­‰æ“ä½œ</p>
<h1 id="æ»‘åŠ¨çª—å£åè®®">æ»‘åŠ¨çª—å£åè®®</h1>
<p>æµæ°´çº¿æœºåˆ¶, æé«˜èµ„æºåˆ©ç”¨ç‡<br>
<strong>æµæ°´çº¿åè®®</strong>, å…è®¸å‘é€æ–¹åœ¨æ”¶åˆ°ACKä¹‹å‰è¿ç»­å‘é€å¤šä¸ªåˆ†ç»„, éœ€è¦æ›´å¤§çš„åºåˆ—å·èŒƒå›´, å‘é€æ–¹å’Œæ¥æ”¶æ–¹éœ€è¦æ›´å¤§çš„å­˜å‚¨ç©ºé—´ä»¥ç¼“å­˜åˆ†ç»„<br>
<strong>æ»‘åŠ¨çª—å£åè®®(Sliding-window protocol)</strong><br>
çª—å£: å…è®¸ä½¿ç”¨çš„åºåˆ—å·èŒƒå›´, çª—å£å°ºå¯¸ä¸ºNè¡¨ç¤ºæœ€å¤šæœ‰Nä¸ªç­‰å¾…ç¡®è®¤çš„æ¶ˆæ¯<br>
æ»‘åŠ¨çª—å£:éšç€åè®®çš„è¿è¡Œ, çª—å£åœ¨åºåˆ—å·ç©ºé—´å†…å‘å‰æ»‘åŠ¨<br>
æ»‘åŠ¨çª—å£åè®®æœ‰GBNå’ŒSR</p>
<ul>
<li>GBNåè®®(Go-Back-N), åˆ†ç»„å¤´éƒ¨åŒ…å«k-bitåºåˆ—å·, çª—å£å°ºå¯¸ä¸ºN, æœ€å¤šå…è®¸Nä¸ªåˆ†ç»„æœªç¡®è®¤, ACK(n), ç¡®è®¤åˆ°åºåˆ—å·nçš„åˆ†ç»„å‡å·²è¢«æ­£ç¡®æ¥æ”¶, ä¸ºç©ºä¸­çš„åˆ†ç»„è®¾ç½®è®¡æ—¶å™¨, è¶…æ—¶åé‡ä¼ åºåˆ—å·å¤§äºç­‰äºn, è¿˜æœªæ”¶åˆ°ACKçš„æ‰€æœ‰åˆ†ç»„</li>
<li>SEåè®®(Selective Repeat), æ¥æ”¶æ–¹å¯¹æ¯ä¸ªåˆ†ç»„å•ç‹¬è¿›è¡Œç¡®è®¤, è®¾ç½®ç¼“å­˜æœºåˆ¶, ç¼“å­˜ä¹±åºåˆ°è¾¾åˆ†ç»„, å‘é€æ–¹åªé‡ä¼ é‚£äº›æ²¡æ”¶åˆ°ACKçš„åˆ†ç»„, ä¸ºæ¯ä¸ªåˆ†ç»„è®¾ç½®å®šæ—¶å™¨, å‘é€æ–¹çª—å£, Nä¸ªè¿ç»­çš„åºåˆ—å·, é™åˆ¶å·²å‘é€ä¸”æœªç¡®è®¤çš„åˆ†ç»„</li>
</ul>
<h1 id="TCPæ¦‚è¿°">TCPæ¦‚è¿°</h1>
<ul>
<li>ç‚¹å¯¹ç‚¹, ä¸€ä¸ªå‘é€æ–¹, ä¸€ä¸ªæ¥æ”¶æ–¹</li>
<li>å¯é çš„, æŒ‰åºçš„å­—èŠ‚æµ</li>
<li>é‡‡ç”¨æµæ°´çº¿æœºåˆ¶, TCPæ‹¥å¡æ§åˆ¶å’Œæµé‡æ§åˆ¶è®¾ç½®çª—å£å°ºå¯¸</li>
<li>å‘é€æ–¹å’Œæ¥æ”¶æ–¹éƒ½æœ‰ç¼“å­˜</li>
<li>å…¨åŒå·¥, åŒä¸€è¿æ¥ä¸­èƒ½å¤Ÿä¼ è¾“åŒå‘æ•°æ®æµ</li>
<li>é¢å‘è¿æ¥, é€šä¿¡åŒæ–¹åœ¨å‘é€æ•°æ®ä¹‹å‰å¿…é¡»å»ºç«‹è¿æ¥, è¿æ¥çŠ¶æ€åªåœ¨è¿æ¥çš„ä¸¤ç«¯ä¸­ç»´æŠ¤, æ²¿é€”èŠ‚ç‚¹ä¸Šå¹¶ä¸ç»´æŠ¤çŠ¶æ€, TCPè¿æ¥åŒ…æ‹¬ä¸¤å°ä¸»æœºä¸Šçš„ç¼“å­˜, è¿æ¥çŠ¶æ€å˜é‡, socketç­‰</li>
<li>æµé‡æ§åˆ¶æœºåˆ¶</li>
</ul>
<h2 id="TCPæ®µç»“æ„">TCPæ®µç»“æ„</h2>
<p><img src="https://www.wangdanpeng.com/img/20220209_1.png" alt="TCPæ®µç»“æ„"></p>
<blockquote>
<p>U: URG,urgent dataç´§æ€¥æ•°æ®, ä¸€èˆ¬ä¸ä½¿ç”¨<br>
A: ACK, æ ‡å¿—ä½, æ ‡è¯†ACKæ˜¯ä¸æ˜¯æœ‰æ•ˆ<br>
P: PSH,push data now,ä¸€èˆ¬æ²¡ç”¨<br>
R: RST, S: SYN, F: FINè¿™ä¸‰ä¸ªè¿æ¥å»ºç«‹æ‹†é™¤æ—¶ä½¿ç”¨</p>
</blockquote>
<p><img src="https://www.wangdanpeng.com/img/20220217_1.png" alt="telnet"></p>
<blockquote>
<p>åºåˆ—å·(seq), æ˜¯segmentä¸­ç¬¬ä¸€ä¸ªå­—èŠ‚çš„ç¼–å·, è€Œä¸æ˜¯segmentçš„ç¼–å·, å»ºç«‹TCPè¿æ¥æ—¶, åŒæ–¹éšæœºé€‰æ‹©åºåˆ—å·<br>
ACKs, å¸Œæœ›æ”¶åˆ°çš„ä¸‹ä¸€ä¸ªå­—èŠ‚çš„åºåˆ—å·, ç´¯è®¡ç¡®è®¤æœºåˆ¶, è¡¨ç¤ºè¯¥åºåˆ—å·ä¹‹å‰çš„æ‰€æœ‰å­—èŠ‚å‡å·²è¢«æ­£ç¡®æ¥æ”¶åˆ°</p>
</blockquote>
<p>ä¹±åºåˆ°è¾¾é—®é¢˜, TCPè§„èŒƒä¸­æ²¡æœ‰è§„å®š, ç”±å®ç°è€…è‡ªå·±å†³ç­–</p>
<h2 id="TCPçš„å¯é æ•°æ®ä¼ è¾“">TCPçš„å¯é æ•°æ®ä¼ è¾“</h2>
<p>åœ¨IPå±‚æä¾›çš„ä¸å¯é æœåŠ¡åŸºç¡€ä¸Šå®ç°å¯é æ•°æ®ä¼ è¾“</p>
<ul>
<li>æµæ°´çº¿æœºåˆ¶</li>
<li>ç´¯è®¡ç¡®è®¤</li>
<li>ä½¿ç”¨å•ä¸€é‡ä¼ å®šæ—¶å™¨</li>
</ul>
<p><strong>å®šæ—¶å™¨çš„è®¾ç½®</strong>: æµ‹é‡å¤šä¸ªæŠ½æ ·RTTæ±‚å¹³å‡, å¹¶ä¸”å¯¹åç»­çš„å€¼åšåŠ æƒå¹³å‡, è¶…æ—¶æ—¶é—´åŒç†<br>
è§¦å‘é‡ä¼ çš„äº‹ä»¶æœ‰<strong>è¶…æ—¶</strong>å’Œ<strong>æ”¶åˆ°é‡å¤ACK</strong><br>
<strong>å¿«é€Ÿé‡ä¼ æœºåˆ¶</strong>: å¦‚æœæ”¶åˆ°åŒä¸€æ•°æ®çš„3ä¸ªACK, åˆ™å‡å®šè¯¥æ•°æ®ä¹‹åçš„æ®µå·²ç»ä¸¢å¤±, ç«‹å³é‡ä¼ </p>
<h2 id="TCPæµé‡æ§åˆ¶">TCPæµé‡æ§åˆ¶</h2>
<p><strong>ç›®çš„: å‘é€æ–¹ä¸ä¼šä¼ è¾“çš„å¤ªå¤šå¤ªå¿«ä»¥è‡³äºæ·¹æ²¡æ¥æ”¶æ–¹(bufferæº¢å‡º)</strong><br>
æ¥æ”¶æ–¹ä¸ºTCPè¿æ¥åˆ†é…buffer<br>
æ¥æ”¶æ–¹é€šè¿‡åœ¨Segmentçš„å¤´éƒ¨å­—æ®µå°†å¯ç”¨bufferå‘Šè¯‰å‘é€æ–¹, å‘é€æ–¹é™åˆ¶è‡ªå·±å·²å‘é€çš„ä½†è¿˜æœªæ”¶åˆ°ACKçš„æ•°æ®ä¸è¶…è¿‡æ¥æ”¶æ–¹çš„ç©ºé—²bufferå°ºå¯¸</p>
<h2 id="TCPè¿æ¥ç®¡ç†">TCPè¿æ¥ç®¡ç†</h2>
<p><strong>ä¸‰æ¬¡æ¡æ‰‹</strong></p>
<ul>
<li>ç¬¬ä¸€æ¬¡, å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€TCP SYNsegment</li>
<li>ç¬¬äºŒæ¬¡æœåŠ¡å™¨æ¥æ”¶SYN, å›å¤SYNACK</li>
<li>ç¬¬ä¸‰æ¬¡, å®¢æˆ·ç«¯æ¥æ”¶SYNACK, å†å›å¤ACK</li>
</ul>
<p>å…³é—­è¿æ¥</p>
<ul>
<li>å®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€TCP FINæ§åˆ¶segment</li>
<li>æœåŠ¡å™¨æ”¶åˆ°FIN, å›å¤ACK, å…³é—­è¿æ¥, å‘é€FIN</li>
<li>å®¢æˆ·ç«¯æ”¶åˆ°FINå›å¤ACK</li>
<li>æœåŠ¡å™¨æ”¶åˆ°ACK, è¿æ¥å…³é—­</li>
</ul>
<h1 id="æ‹¥å¡æ§åˆ¶åŸç†">æ‹¥å¡æ§åˆ¶åŸç†</h1>
<p><strong>åŒæ ·æ˜¯top10é—®é¢˜</strong>, æ ¸å¿ƒæ˜¯å¤ªå¤šä¸»æœºå‘é€å¤ªå¤šæ•°æ®ä»¥è‡³äºç½‘ç»œæ— æ³•å¤„ç†, è¡¨ç°æ˜¯åˆ†ç»„ä¸¢å¤±(è·¯ç”±å™¨ç¼“å­˜æº¢å‡º), åˆ†ç»„å»¶è¿Ÿè¿‡å¤§(åœ¨è·¯ç”±å™¨ç¼“å­˜ä¸­æ’é˜Ÿ)<br>
<strong>ä¸¤ç§æ§åˆ¶æ–¹æ³•</strong></p>
<ul>
<li>ç«¯åˆ°ç«¯æ‹¥å¡æ§åˆ¶: ç½‘ç»œå±‚ä¸éœ€è¦æ˜¾å¼çš„æä¾›æ”¯æŒ, ç«¯ç³»ç»Ÿé€šè¿‡è§‚å¯Ÿlosså’Œdelayç­‰ç½‘ç»œè¡Œä¸ºåˆ¤æ–­æ˜¯å¦å‘ç”Ÿæ‹¥å¡, TCPé‡‡ç”¨è¿™ç§</li>
<li>ç½‘ç»œè¾…åŠ©çš„æ‹¥å¡æ§åˆ¶: è·¯ç”±å™¨å‘å‘é€æ–¹æ˜¾å¼çš„åé¦ˆç½‘ç»œæ‹¥å¡ä¿¡æ¯, æŒ‡ç¤ºå‘é€æ–¹åº”è¯¥é‡‡å–ä½•ç§é€Ÿç‡, ATMé‡‡ç”¨è¿™ç§</li>
</ul>
<p><strong>ATMçš„å®ç°</strong><br>
å‘é€æ–¹å‘é€RM(resource management) cells, äº¤æ¢æœºè®¾ç½®RMçš„æ ‡å¿—ä½, æ¥æ”¶æ–¹å†æŠŠRM cellè¿”å›ç»™å‘é€æ–¹,<br>
åœ¨RM cellä¸­æœ‰æ˜¾å¼çš„é€Ÿç‡å­—æ®µER, ä¸¤ä¸ªå­—èŠ‚, æ‹¥å¡çš„äº¤æ¢æœºå¯ä»¥å°†ERç½®ä¸ºæ›´ä½çš„å€¼, å‘é€æ–¹å°±èƒ½å¾—çŸ¥è·¯å¾„æ‰€èƒ½æ”¯æŒçš„æœ€å°é€Ÿç‡</p>
<p><strong>TCPæ‹¥å¡æ§åˆ¶çš„åŸºæœ¬åŸç†</strong><br>
Senderé™åˆ¶å‘é€é€Ÿç‡</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>r</mi><mi>a</mi><mi>t</mi><mi>e</mi><mo>â‰ˆ</mo><mfrac><mrow><mi>C</mi><mi>o</mi><mi>n</mi><mi>g</mi><mi>W</mi><mi>i</mi><mi>n</mi></mrow><mrow><mi>R</mi><mi>T</mi><mi>T</mi></mrow></mfrac><mi>B</mi><mi>y</mi><mi>t</mi><mi>e</mi><mi>s</mi><mi mathvariant="normal">/</mi><mi>s</mi><mi>e</mi><mi>c</mi></mrow><annotation encoding="application/x-tex">rate\approx \frac{CongWin}{RTT}Bytes/sec
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:1.36033em;"></span><span class="strut bottom" style="height:2.04633em;vertical-align:-0.686em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">r</span><span class="mord mathit">a</span><span class="mord mathit">t</span><span class="mord mathit">e</span><span class="mrel">â‰ˆ</span><span class="mord reset-textstyle displaystyle textstyle uncramped"><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span><span class="mfrac"><span class="vlist"><span style="top:0.686em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle textstyle cramped"><span class="mord textstyle cramped"><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-0.22999999999999998em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle textstyle uncramped frac-line"></span></span><span style="top:-0.677em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle textstyle uncramped"><span class="mord textstyle uncramped"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="mord mathit" style="margin-right:0.13889em;">W</span><span class="mord mathit">i</span><span class="mord mathit">n</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="sizing reset-size5 size5 reset-textstyle textstyle uncramped nulldelimiter"></span></span><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mord mathit">t</span><span class="mord mathit">e</span><span class="mord mathit">s</span><span class="mord mathrm">/</span><span class="mord mathit">s</span><span class="mord mathit">e</span><span class="mord mathit">c</span></span></span></span></span></p>
<blockquote>
<p>CongWinåŠ¨æ€è°ƒæ•´ä»¥æ”¹å˜å‘é€é€Ÿç‡, å¹¶èƒ½åæ˜ æ‰€æ„ŸçŸ¥åˆ°çš„ç½‘ç»œæ‹¥å¡</p>
</blockquote>
<p><strong>é€Ÿç‡è°ƒæ•´</strong><br>
é€šè¿‡åŠ æ€§å¢-ä¹˜æ€§å‡å’Œæ…¢å¯åŠ¨èƒ½åˆç†çš„è°ƒæ•´å‘é€é€Ÿç‡</p>
<ul>
<li><strong>åŠ æ€§å¢-ä¹˜æ€§å‡(AIMD)</strong>: é€æ¸å¢åŠ å‘é€é€Ÿç‡, è°¨æ…æ¢æµ‹å¯ç”¨å¸¦å®½, ç›´åˆ°å‘ç”Ÿloss, å‘ç”ŸlossåCongWinç›´æ¥å‡åŠ</li>
<li><strong>æ…¢å¯åŠ¨</strong>: TCPè¿æ¥å»ºç«‹æ—¶, å¯ç”¨å¸¦å®½å¯èƒ½è¿œé«˜äºåˆå§‹é€Ÿç‡, æ‰€ä»¥å½“è¿æ¥å¼€å§‹æ—¶, æŒ‡æ•°æ€§å¢é•¿, æ¯ä¸ªRTTå°†CongWinç¿»å€</li>
</ul>
<p><strong>æ‹¥å¡é¿å…</strong><br>
è®¾ç½®å˜é‡Threshold, å½“å‘é€loss, è®¾ç½®ä¸ºlossäº‹ä»¶å‰congWinå€¼çš„ä¸€åŠ, å½“congWinåˆ°è¾¾threshold, æŒ‡æ•°æ€§å¢é•¿åˆ‡æ¢ä¸ºçº¿æ€§å¢é•¿</p>
<p><strong>lossäº‹ä»¶å¤„ç†</strong><br>
å½“3ä¸ªé‡å¤ACKs, Congwinåˆ‡åˆ°ä¸€åŠç„¶åçº¿æ€§<br>
timeoutäº‹ä»¶, CongWinç›´æ¥è®¾ä¸º1ç„¶åæŒ‡æ•°, è¾¾åˆ°thresholdåå†çº¿æ€§å¢é•¿<br>
3ä¸ªé‡å¤ACKsè¡¨ç¤ºç½‘ç»œè¿˜èƒ½ä¼ è¾“ä¸€äº›segments, timeoutè¡¨ç¤ºæ‹¥å µæ›´ä¸ºä¸¥é‡</p>
<p><strong>æ€§èƒ½åˆ†æ</strong><br>
TCPçš„å¹³å‡ååç‡æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>(</mo><mi>W</mi><mi mathvariant="normal">/</mi><mi>R</mi><mi>T</mi><mi>T</mi><mo>+</mo><mi>W</mi><mi mathvariant="normal">/</mi><mn>2</mn><mi>R</mi><mi>T</mi><mi>T</mi><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo>=</mo><mn>0</mn><mi mathvariant="normal">.</mi><mn>7</mn><mn>5</mn><mi>W</mi><mi mathvariant="normal">/</mi><mi>R</mi><mi>T</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">(W/RTT+W/2RTT)/2=0.75W/RTT</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.13889em;">W</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.13889em;">W</span><span class="mord mathrm">/</span><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mclose">)</span><span class="mord mathrm">/</span><span class="mord mathrm">2</span><span class="mrel">=</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">7</span><span class="mord mathrm">5</span><span class="mord mathit" style="margin-right:0.13889em;">W</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.00773em;">R</span><span class="mord mathit" style="margin-right:0.13889em;">T</span><span class="mord mathit" style="margin-right:0.13889em;">T</span></span></span></span><br>
TCPæ˜¯å…¬å¹³çš„, å¤šä¸ªtcp sessionå…±äº«å¸¦å®½<br>
å¤šåª’ä½“é€šå¸¸ä¸ä½¿ç”¨TCP, ä»¥å…è¢«æ‹¥å¡æ§åˆ¶æœºåˆ¶é™åˆ¶é€Ÿç‡, ä½¿ç”¨UDPä»¥æ’å®šé€Ÿç‡å‘é€, èƒ½å¤Ÿå®¹å¿ä¸¢å¤±, ä½†äº§ç”Ÿäº†ä¸å…¬å¹³</p>
]]></content>
      <categories>
        <category>ç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
        <tag>TCP</tag>
        <tag>UDP</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç½‘ç»œç³»åˆ—ç¬”è®°(å…­) - ç‰©ç†å±‚</title>
    <url>/2022/02/25/20220225155352/</url>
    <content><![CDATA[<h1 id="æ•°æ®é€šä¿¡åŸºç¡€">æ•°æ®é€šä¿¡åŸºç¡€</h1>
<p>å¸¸è§æ•°æ®é€šä¿¡æœ¯è¯­</p>
<blockquote>
<p><strong>ä¿¡æº</strong>: å°†æ¶ˆæ¯è½¬æ¢ä¸ºä¿¡å·çš„è®¾å¤‡<br>
<strong>å‘é€è®¾å¤‡</strong>: å°†ä¿¡æºäº§ç”Ÿçš„ä¿¡å·è¿›è¡Œé€‚å½“çš„å˜æ¢è£…ç½®, ä½¿ä¹‹é€‚åˆäºåœ¨ä¿¡é“ä¸­ä¼ è¾“, ä¸»è¦åŒ…æ‹¬ç¼–ç å’Œè°ƒåˆ¶<br>
<strong>ä¿¡é“</strong>: ä¿¡å·ä¼ è¾“é€šé“, å¦‚ç‰©ç†ä»‹è´¨<br>
<strong>å™ªå£°</strong>: è‡ªç„¶ç•Œå’Œé€šä¿¡è®¾å¤‡ä¸­æ‰€äº§ç”Ÿçš„å¹²æ‰°<br>
<strong>æ¥æ”¶è®¾å¤‡</strong>: å®Œæˆå‘é€è®¾å¤‡åå˜æ¢, è¿˜åŸåŸå§‹å‘é€ä¿¡å·<br>
<strong>ä¿¡å®¿</strong>: ä¿¡å·ç»ˆç‚¹, å°†ä¿¡å·è½¬æ¢ä¸ºä¾›äººä»¬èƒ½è¯†åˆ«çš„æ¶ˆæ¯<br>
<strong>æ•°æ®</strong>: ä¼ é€æ¶ˆæ¯çš„å®ä½“<br>
<strong>ä¿¡å·</strong>: æ•°æ®çš„ç”µæ°”çš„æˆ–ç”µç£çš„è¡¨ç¤º<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>(</mo><mi>t</mi><mo>)</mo><mo>=</mo><mi>A</mi><mi>s</mi><mi>i</mi><mi>n</mi><mo>(</mo><mi>Ï‰</mi><mi>t</mi><mo>+</mo><mi>Î¸</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">y(t)=Asin(\omega t+\theta)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.03588em;">y</span><span class="mopen">(</span><span class="mord mathit">t</span><span class="mclose">)</span><span class="mrel">=</span><span class="mord mathit">A</span><span class="mord mathit">s</span><span class="mord mathit">i</span><span class="mord mathit">n</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.03588em;">Ï‰</span><span class="mord mathit">t</span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.02778em;">Î¸</span><span class="mclose">)</span></span></span></span><br>
<strong>æ¨¡æ‹Ÿçš„</strong>: å‚æ•°çš„å–å€¼æ˜¯è¿ç»­çš„<br>
<strong>æ•°å­—çš„</strong>: å‚æ•°çš„å–å€¼æ˜¯ç¦»æ•£çš„<br>
<strong>ç å…ƒ</strong>: ä¿¡å·åŸºæœ¬æ³¢å½¢, ä¿¡å·çš„åŸºæœ¬å•å…ƒ<br>
<strong>é¢‘å¸¦</strong>: ä¿¡å·é¢‘ç‡èŒƒå›´<br>
<strong>å¸¦å®½</strong>: æœ‰æ•ˆå¸¦å®½<br>
<strong>æ•°æ®é€šä¿¡æ–¹å¼</strong>: å•å·¥, åŠåŒå·¥, å…¨åŒå·¥</p>
</blockquote>
<p><strong>ä¿¡æºç¼–ç </strong><br>
ä½¿ä¿¡æºäº§ç”Ÿçš„æ¨¡æ‹Ÿæ•°æ®åœ¨æ•°å­—é€šä¿¡ç³»ç»Ÿä¸­ä¼ è¾“<br>
å…¸å‹æ–°åŸç¼–ç : <strong>PCM</strong><br>
PCMä¸‰ä¸ªæ­¥éª¤:</p>
<ul>
<li>é‡‡æ ·: ç›®çš„å°±æ˜¯è¦ç”¨ä¸€ç³»åˆ—åœ¨æ—¶é—´ä¸Šç¦»æ•£çš„é‡‡æ ·å€¼, ä»£æ›¿æ—¶é—´ä¸Šè¿ç»­çš„æ¨¡æ‹Ÿæ•°æ®, å³å®ç°æ—¶é—´ä¸Šçš„ç¦»æ•£åŒ–</li>
<li>é‡åŒ–: å°±æ˜¯ä½¿é‡‡æ ·å€¼åœ¨å–å€¼ä¸Šç¦»æ•£åŒ–</li>
<li>ç¼–ç : å°±æ˜¯å°†é‡åŒ–åçš„é‡‡æ ·å€¼ç”¨ä¸€å®šä½æ•°çš„äºŒè¿›åˆ¶æ•°ç æ¥è¡¨ç¤º</li>
</ul>
<h1 id="ç‰©ç†ä»‹è´¨">ç‰©ç†ä»‹è´¨</h1>
<p><strong>å¯¼å¼•å‹ä¼ è¾“ä»‹è´¨</strong></p>
<ul>
<li>æ¶ç©ºæ˜çº¿, æ˜“å—å¤©æ°”å’Œå¤–ç•Œç”µç£å¹²æ‰°, å¯¹å¤–ç•Œå™ªå£°æ•æ„Ÿ, å¸¦å®½æœ‰é™</li>
<li>åŒç»çº¿, ä¸»è¦ç”¨äºåŸºå¸¦ä¼ è¾“</li>
<li>åŒè½´ç”µç¼†, ä¸»è¦ç”¨äºé¢‘å¸¦ä¼ è¾“</li>
<li>å…‰çº¤, åŸºæœ¬åŸç†å…‰çš„å…¨åå°„, åˆ†ä¸ºå¤šæ¨¡å…‰çº¤å’Œå•æ¨¡å…‰çº¤ä¸¤ç±»</li>
</ul>
<p><strong>éå¯¼å¼•å‹ä¼ è¾“ä»‹è´¨</strong></p>
<ul>
<li>è‡ªç”±ç©ºé—´, æ— çº¿ç”µä¼ è¾“é€”å¾„, ä¸åŒé¢‘æ®µå…·æœ‰ä¸åŒä¼ æ’­ç‰¹æ€§</li>
<li>åœ°æ³¢ä¼ æ’­, é¢‘ç‡è¾ƒä½çš„ç”µç£æ³¢è¶‹äºæ²¿åœ°çƒè¡¨é¢ä¼ æ’­, æœ‰ä¸€å®šçš„ç»•å°„èƒ½åŠ›, åœ¨ä½é¢‘å’Œç”šä½é¢‘æ®µ, åœ°æ³¢ä¼ æ’­è·ç¦»å¯è¶…è¿‡æ•°ç™¾ç±³æˆ–æ•°åƒå…¬é‡Œ</li>
<li>å¤©æ³¢ä¼ æ’­, ç”µç¦»å±‚, é¢‘ç‡è¾ƒé«˜çš„ç”µç£æ³¢ä¼šè¢«ç”µç¦»å±‚åå°„, ç”µç¦»å±‚çš„å¯†åº¦å’Œåšåº¦éšæ—¶é—´éšæœºå˜åŒ–, ç”µç£æ³¢å¯ä»¥ä¼ æ’­ä¸€ä¸‡åƒç±³ä»¥ä¸Š, éšå‚ä¿¡é“</li>
<li>è§†çº¿ä¼ æ’­, é¢‘ç‡é«˜äº30MHzçš„ç”µç£æ³¢å°†ç©¿é€ç”µç¦»å±‚, ä¸ä¼šè¢«åå°„å›æ¥, æ²¿åœ°é¢ç»•å°„èƒ½åŠ›ä¹Ÿå¾ˆå¼±, é€šå¸¸é‡‡ç”¨è§†çº¿æ— éšœç¢çš„ç‚¹å¯¹ç‚¹ç›´çº¿ä¼ æ’­, å¯ä»¥è®¾ç«‹åœ°é¢ä¸­ç»§ç«™æˆ–å«æ˜Ÿä¸­ç»§ç«™è¿›è¡Œæ¥åŠ›ä¼ è¾“</li>
</ul>
<h1 id="ä¿¡é“ä¸ä¿¡é“å®¹é‡">ä¿¡é“ä¸ä¿¡é“å®¹é‡</h1>
<p>ç‹­ä¹‰ä¸Šçš„ä¿¡é“: ä¿¡å·ä¼ è¾“ä»‹è´¨<br>
å¹¿ä¹‰ä¸Šçš„ä¿¡é“: åŒ…æ‹¬ä¿¡å·ä¼ æ’­ä»‹è´¨å’Œé€šä¿¡ç³»ç»Ÿçš„ä¸€äº›å˜æ¢è£…ç½®, æ¯”å¦‚å‘é€è®¾å¤‡, æ¥æ”¶è®¾å¤‡, å¤©çº¿, è°ƒåˆ¶å™¨ç­‰<br>
<strong>æ’å‚ä¿¡é“ä¼ è¾“ç‰¹æ€§</strong></p>
<ul>
<li>å„ç§æœ‰çº¿ä¿¡é“å’Œéƒ¨åˆ†æ— çº¿ä¿¡é“, å¦‚å¾®æ³¢è§†çº¿ä¼ æ’­é“¾è·¯å’Œå«æ˜Ÿé“¾è·¯ç­‰</li>
<li>ç†æƒ³çš„æ’å‚ä¿¡é“æ˜¯ä¸€ä¸ªç†æƒ³çš„æ— å¤±çœŸä¼ è¾“ä¿¡é“</li>
<li>å¯¹ä¿¡å·å¹…å€¼äº§ç”Ÿå›ºå®šçš„è¡°å‡</li>
<li>å¯¹ä¿¡å·è¾“å‡ºäº§ç”Ÿå›ºå®šçš„æ—¶å»¶</li>
</ul>
<p><strong>éšå‚ä¿¡é“ä¼ è¾“ç‰¹æ€§</strong></p>
<ul>
<li>è®¸å¤šæ— çº¿ä¿¡é“éƒ½æ˜¯éšå‚ä¿¡é“</li>
<li>ä¿¡å·çš„ä¼ è¾“è¡°å‡éšæ—¶é—´éšæœºå˜åŒ–</li>
<li>ä¿¡å·çš„ä¼ è¾“æ—¶å»¶éšæ—¶é—´éšæœºå˜åŒ–</li>
<li>å­˜åœ¨å¤šå¾„ä¼ æ’­ç°è±¡</li>
</ul>
<p>ä¿¡é“å®¹é‡: ä¿¡é“æ— å·®é”™ä¼ è¾“ä¿¡æ¯çš„æœ€å¤§å¹³å‡ä¿¡æ¯é€Ÿç‡<br>
<strong>å¥ˆå¥æ–¯ç‰¹(Nyquist)ä¿¡é“å®¹é‡å…¬å¼</strong>: ç†æƒ³æ— å™ªå£°ä¿¡é“çš„ä¿¡é“æé™å®¹é‡<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>=</mo><mn>2</mn><mi>B</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>M</mi></mrow><annotation encoding="application/x-tex">C=2Blog_2M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.69444em;"></span><span class="strut bottom" style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mrel">=</span><span class="mord mathrm">2</span><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">o</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mord mathit" style="margin-right:0.10903em;">M</span></span></span></span></p>
<blockquote>
<p>Cä¸ºä¿¡é“å®¹é‡, å•ä½b/s; Bä¸ºä¿¡é“å¸¦å®½, å•ä½ä¸ºHz; Mä¸ºè¿›åˆ¶æ•°, å³ä¿¡å·çŠ¶æ€æ•°</p>
</blockquote>
<p><strong>é¦™å†œ(Shannon)ä¿¡é“å®¹é‡å…¬å¼</strong>: æœ‰å™ªå£°ä¿¡é“çš„ä¿¡é“å®¹é‡<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mo>=</mo><mi>B</mi><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo>(</mo><mn>1</mn><mo>+</mo><mi>S</mi><mi mathvariant="normal">/</mi><mi>N</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">C=Blog_2(1+S/N)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.07153em;">C</span><span class="mrel">=</span><span class="mord mathit" style="margin-right:0.05017em;">B</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">o</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mopen">(</span><span class="mord mathrm">1</span><span class="mbin">+</span><span class="mord mathit" style="margin-right:0.05764em;">S</span><span class="mord mathrm">/</span><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="mclose">)</span></span></span></span></p>
<blockquote>
<p>S/Nä¸ºä¿¡å™ªæ¯”, å³ä¿¡å·èƒ½é‡ä¸å™ªå£°èƒ½é‡ä¹‹æ¯”, å•ä½åˆ†è´(dB)</p>
</blockquote>
<h1 id="åŸºå¸¦ä¼ è¾“åŸºç¡€">åŸºå¸¦ä¼ è¾“åŸºç¡€</h1>
<p>åŸºå¸¦ä¿¡å·: ä¿¡æºå‘å‡ºçš„åŸå§‹ç”µä¿¡å·, å¾€å¾€åŒ…å«æœ‰è¾ƒå¤šçš„ä½é¢‘æˆåˆ†, ç”šè‡³æœ‰ç›´æµæˆåˆ†<br>
<strong>åŸºå¸¦ä¼ è¾“</strong>: ç›´æ¥åœ¨ä¿¡é“ä¸­ä¼ é€åŸºå¸¦ä¿¡å·<br>
åŸºå¸¦ä¿¡å·æ¯”è¾ƒé€‚åˆåœ¨å…·æœ‰ä½é€šç‰¹æ€§çš„æœ‰çº¿ä¿¡é“ä¸­ä¼ è¾“, é€šå¸¸ä¸é€‚åˆåœ¨æ— çº¿ä¿¡é“ä¸­ç›´æ¥ä¼ è¾“<br>
å…¸å‹æ•°å­—åŸºå¸¦ä¿¡å·ç å‹</p>
<ul>
<li>å•æä¸å½’é›¶ç , æ˜“äºäº§ç”Ÿ, ä¸é€‚åˆé•¿è·ç¦»ä¼ è¾“</li>
<li>åŒæä¸å½’é›¶ç </li>
<li>å•æå½’é›¶ç </li>
<li>åŒæå½’é›¶ç </li>
<li>å·®åˆ†ç , åˆç§°ç›¸å¯¹ç </li>
<li>AMIç , ä¿¡å·äº¤æ›¿åè½¬ç </li>
<li>åŒç›¸ç , åˆç§°æ›¼å½»æ–¯ç‰¹ç </li>
<li>nBmBç </li>
</ul>
<h1 id="é¢‘å¸¦ä¼ è¾“åŸºç¡€">é¢‘å¸¦ä¼ è¾“åŸºç¡€</h1>
<p>è®¸å¤šå¸¦é€šä¿¡é“(å¦‚æ— çº¿ä¿¡é“)ä¸å…·æœ‰ä½é€šç‰¹æ€§, å› æ­¤ä¸èƒ½åœ¨è¿™äº›ä¿¡é“ä¸­ç›´æ¥ä¼ è¾“åŸºå¸¦ä¿¡å·, åªèƒ½åˆ©ç”¨åŸºå¸¦ä¿¡å·å»è°ƒåˆ¶ä¸å¯¹åº”ä¿¡é“ä¼ æ’­ç‰¹æ€§ç›¸åŒ¹é…çš„è½½æ³¢ä¿¡å·<br>
åˆ©ç”¨æ¨¡æ‹ŸåŸºå¸¦ä¿¡å·è°ƒåˆ¶è½½æ³¢, ç§°ä¸ºæ¨¡æ‹Ÿè°ƒåˆ¶, åˆ©ç”¨æ•°å­—åŸºå¸¦ä¿¡å·è°ƒåˆ¶è½½æ³¢, ç§°ä¸ºæ•°å­—è°ƒåˆ¶<br>
é¢‘å¸¦ä¼ è¾“ç³»ç»Ÿé€šå¸¸é€‰æ‹©æ­£å¼¦æ³¢ä¿¡å·ä½œä¸ºè½½æ³¢<br>
<strong>äºŒè¿›åˆ¶æ•°å­—è°ƒåˆ¶</strong></p>
<ul>
<li>äºŒè¿›åˆ¶å¹…ç§»é”®æ§(2ASK)</li>
<li>äºŒè¿›åˆ¶é¢‘ç§»é”®æ§(2FSK)</li>
<li>äºŒè¿›åˆ¶ç›¸ç§»é”®æ§(2PSK)</li>
<li>äºŒè¿›åˆ¶å·®åˆ†ç›¸ç§»é”®æ§(2DPSK)</li>
</ul>
<p><strong>é¢‘å¸¦åˆ©ç”¨ç‡</strong>: 2ASK, 2PSKåŠ2DPSKçš„é¢‘å¸¦åˆ©ç”¨ç‡ç›¸åŒ, 2FSKçš„é¢‘å¸¦åˆ©ç”¨ç‡æœ€ä½<br>
<strong>è¯¯ç ç‡</strong>: ç›¸åŒä¿¡å™ªæ¯”ä¸‹, 2PSKæœ€ä½, 2ASKæœ€é«˜<br>
<strong>å¯¹ä¿¡é“ç‰¹æ€§çš„æ•æ„Ÿæ€§</strong>: 2ASKå¯¹ä¿¡é“ç‰¹æ€§å˜åŒ–æ¯”è¾ƒæ•æ„Ÿ, æ€§èƒ½æœ€å·®, 2FSKä¸2PSKä¸æ•æ„Ÿ</p>
<h1 id="ç‰©ç†å±‚æ¥å£è§„ç¨‹">ç‰©ç†å±‚æ¥å£è§„ç¨‹</h1>
<p>æœºæ¢°ç‰¹æ€§: æŒ‡æ˜æ¥å£æ‰€ç”¨æ¥çº¿å™¨çš„å½¢çŠ¶å’Œå°ºå¯¸, å¼•çº¿æ•°ç›®å’Œæ’åˆ—, å›ºå®šå’Œé”å®šè£…ç½®ç­‰ç­‰<br>
ç”µæ°”ç‰¹æ€§: æŒ‡æ˜åœ¨æ¥å£ç”µç¼†çš„å„æ¡çº¿ä¸Šå‡ºç°çš„ç”µå‹çš„èŒƒå›´<br>
åŠŸèƒ½ç‰¹æ€§: æŒ‡æ˜æŸæ¡çº¿ä¸Šå‡ºç°çš„æŸä¸€ç”µå¹³çš„ç”µå‹è¡¨ç¤ºä½•ç§æ„ä¹‰<br>
è¿‡ç¨‹ç‰¹æ€§: æŒ‡æ˜å¯¹äºä¸åŒåŠŸèƒ½çš„å„ç§å¯èƒ½äº‹ä»¶çš„å‡ºç°é¡ºåº</p>
]]></content>
      <categories>
        <category>ç½‘ç»œ</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºåŸºç¡€ - ä½è¿ç®—</title>
    <url>/2022/03/09/20220309150604/</url>
    <content><![CDATA[<h1 id="ä¸è¿ç®—">ä¸è¿ç®—</h1>
<p><code>&amp;</code>, ä¸, ä¸¤ä½éƒ½ä¸º1, ç»“æœæ‰ä¸º1, (éƒ½çœŸæ‰çœŸ)</p>
<h2 id="ä¸çš„ç”¨é€”">ä¸çš„ç”¨é€”</h2>
<p><strong>æ¸…é›¶</strong><br>
å¦‚æœæƒ³å°†ä¸€ä¸ªå•å…ƒæ¸…é›¶, åªè¦ä¸ä¸€ä¸ªå„ä½éƒ½ä¸ºé›¶çš„æ•°ç›¸ä¸, ç»“æœå°±ä¸ºé›¶<br>
<strong>å–ä¸€ä¸ªæ•°çš„æŒ‡å®šä½</strong><br>
æ¯”å¦‚å–xçš„ä½å››ä½, åªéœ€è¦æ‰¾å¦ä¸€ä¸ªæ•°y, ä»¤yçš„ä½4ä½ä¸º1, å…¶ä½™ä½ä¸º0, ç„¶åxå’ŒyæŒ‰ä½ä¸è¿ç®—, å³å¯å¾—åˆ°xçš„æŒ‡å®šä½<br>
<strong>åˆ¤æ–­å¥‡å¶</strong><br>
äºŒè¿›åˆ¶æœ«ä½æ˜¯0å°±æ˜¯å¶æ•°, 1å°±æ˜¯å¥‡æ•°, å¯ä»¥ç”¨a&amp;1==0åˆ¤æ–­aæ˜¯ä¸æ˜¯å¶æ•°</p>
<h1 id="æˆ–è¿ç®—">æˆ–è¿ç®—</h1>
<p><code>|</code>, æˆ–, ä¸¤ä½éƒ½ä¸º0, ç»“æœæ‰ä¸º0, (éƒ½å‡æ‰å‡)</p>
<h2 id="æˆ–çš„ç”¨é€”">æˆ–çš„ç”¨é€”</h2>
<p><strong>å¯¹ä¸€ä¸ªæ•°æ®çš„æŸäº›ä½è®¾ç½®ä¸º1</strong><br>
æ¯”å¦‚å°†xçš„ä½å››ä½è®¾ç½®ä¸º1, åªéœ€è¦æ‰¾å¦ä¸€ä¸ªæ•°y, ä»¤yçš„ä½4ä½ä¸º1, å…¶ä½™ä½ä¸º0, ç„¶åxå’ŒyæŒ‰ä½ä¸è¿ç®—, å³å¯å¾—åˆ°</p>
<h1 id="å¼‚æˆ–è¿ç®—">å¼‚æˆ–è¿ç®—</h1>
<p><code>^</code>, å¼‚æˆ–, ä¸¤ä½ç›¸åŒä¸º0, ä¸¤ä½ä¸åŒä¸º1, (ä¸åŒæ‰çœŸ)</p>
<h2 id="å¼‚æˆ–ç‰¹æ€§">å¼‚æˆ–ç‰¹æ€§</h2>
<ul>
<li>äº¤æ¢å¾‹</li>
<li>ç»“åˆå¾‹</li>
<li>å¯¹ä»»ä½•æ•°x, å¼‚æˆ–è‡ªèº«ç­‰äº0, å¼‚æˆ–0ç­‰äºè‡ªèº«</li>
<li><strong>è‡ªåæ€§</strong>, a^b^b=a^0=a, å³ä»»ä½•æ•°aç”¨ä»»ä½•æ•°bè¿ç»­åšä¸¤æ¬¡å¼‚æˆ–, ä»å¾—åˆ°aæœ¬èº«, å¼‚æˆ–æœ€é‡è¦çš„æ€§è´¨</li>
</ul>
<h2 id="å¼‚æˆ–çš„åº”ç”¨">å¼‚æˆ–çš„åº”ç”¨</h2>
<p><strong>ä¸¤æ•°äº¤æ¢</strong><br>
ä¾‹å¦‚äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ä¸”ä¸å¼•å…¥ä¸­é—´å˜é‡, å¯ç”¨å¦‚ä¸‹è¡¨è¾¾å¼:<br>
å‡è®¾Açš„å€¼ä¸ºa, Bçš„å€¼ä¸ºb<br>
A = A^B (a^b)<br>
B = A^B (a^b ^ b)<br>
A = A^B (a^b ^ a)<br>
å³è¿ç”¨äº†å¼‚æˆ–çš„è‡ªåæ€§, ç±»ä¼¼çš„è¯¥è¿ç®—è¿˜å¯ä»¥åº”ç”¨åœ¨åŠ å¯†, æ•°æ®ä¼ è¾“, æ ¡éªŒç­‰è®¸å¤šé¢†åŸŸ<br>
<strong>æ‰¾åˆ°å‡ºç°å¥‡æ•°æ¬¡çš„æ•°</strong><br>
ä¸€ä¸ªæ•°ç»„æœ‰è‹¥å¹²æ•´æ•°, ä¸€ä¸ªæ•°å‡ºç°å¥‡æ•°æ¬¡, å…¶ä½™å‡å‡ºç°å¶æ•°æ¬¡, æ‰¾åˆ°è¿™ä¸ªå‡ºç°å¥‡æ•°æ¬¡çš„æ•°, å°±å¯ä»¥æŠŠæ‰€æœ‰æ•°å¼‚æˆ–, æœ€åç»“æœå°±æ˜¯è¦æ‰¾çš„æ•°, åŒæ ·æ˜¯åº”ç”¨å¼‚æˆ–çš„è‡ªåæ€§<br>
<strong>åè½¬æŒ‡å®šä½</strong><br>
æ¯”å¦‚å°†xçš„ä½å››ä½è¿›è¡Œåè½¬, åªéœ€è¦æ‰¾å¦ä¸€ä¸ªæ•°y, ä»¤yçš„ä½4ä½ä¸º1, å…¶ä½™ä½ä¸º0, ç„¶åxå’Œyè¿›è¡Œå¼‚æˆ–, å³å¯å¾—åˆ°</p>
<h1 id="å–åè¿ç®—">å–åè¿ç®—</h1>
<p><code>~</code>, å–å, 0å˜1, 1å˜0</p>
<h2 id="ç”¨é€”">ç”¨é€”</h2>
<p>ä½¿ä¸€ä¸ªæ•°çš„æœ€ä½ä½ç½®é›¶, å¯ä»¥ä½¿ç”¨a &amp; ~1, 1å–åçš„å€¼ä¸ºæœ€ä½ä½æ˜¯0å…¶ä½™ä½éƒ½æ˜¯1, å†å’Œaä¸è¿ç®—, å¾—åˆ°æœ€ä½ä½ä¸º0, å…¶ä½™ä½ä¸å˜</p>
<p><em>~è¿ç®—ç¬¦ä¼˜å…ˆçº§æ¯”ç®—æœ¯è¿ç®—ç¬¦(åŠ å‡ä¹˜é™¤), å…³ç³»è¿ç®—ç¬¦(å¤§å°ç­‰äº), é€»è¾‘è¿ç®—ç¬¦(ä¸æˆ–é)å’Œå…¶ä»–è¿ç®—ç¬¦(ä¸‰ç›®è¿ç®—ç¬¦)éƒ½é«˜</em></p>
<h1 id="å·¦ç§»">å·¦ç§»</h1>
<p><code>&lt;&lt;</code>, å·¦ç§», å„ä¸ªäºŒè¿›åˆ¶ä½å…¨éƒ¨å‘å·¦ç§»åŠ¨è‹¥å¹²ä½, é«˜ä½ä¸¢å¼ƒ, ä½ä½è¡¥0</p>
<p>è‹¥å·¦ç§»æ—¶èˆå¼ƒçš„é«˜ä½ä¸åŒ…å«1, åˆ™æ¯å·¦ç§»ä¸€ä½ç›¸å½“äºè¯¥æ•°ä¹˜ä»¥2</p>
<h1 id="å³ç§»">å³ç§»</h1>
<p><code>&gt;&gt;</code>, å³ç§», å„ä¸ªäºŒè¿›åˆ¶ä½å…¨éƒ¨å‘å³ç§»åŠ¨è‹¥å¹²ä½, å¯¹æ— ç¬¦å·çš„æ•°, é«˜ä½è¡¥0, å¯¹æœ‰ç¬¦å·æ•°, å„ç¼–è¯‘å™¨å¤„ç†æ–¹æ³•ä¸ä¸€, æœ‰çš„è¡¥ç¬¦å·ä½, æœ‰çš„è¡¥0</p>
<p>æ“ä½œæ•°æ¯å³ç§»ä¸€ä½, ç›¸å½“äºè¯¥æ•°é™¤ä»¥2</p>
<h1 id="è¿ç®—è§„åˆ™">è¿ç®—è§„åˆ™</h1>
<p>ä¸åŒé•¿åº¦çš„æ•°æ®è¿›è¡Œä½è¿ç®—, å¦‚æœä¸¤ä¸ªä¸åŒé•¿åº¦çš„æ•°æ®è¿›è¡Œä½è¿ç®—æ—¶, ç³»ç»Ÿä¼šå°†äºŒè€…æŒ‰<strong>å³ç«¯å¯¹é½</strong>, ç„¶åè¿›è¡Œä½è¿ç®—<br>
å³ç«¯å¯¹é½å, å·¦è¾¹ä¸è¶³çš„ä½</p>
<ul>
<li>å¦‚æœæ•´å‹æ•°æ®ä¸ºæ­£æ•°, å·¦è¾¹è¡¥0</li>
<li>å¦‚æœæ•´å‹æ•°æ®ä¸ºè´Ÿæ•°, å·¦è¾¹è¡¥1</li>
<li>å¦‚æœæ•´å‹æ•°æ®ä¸ºæ— ç¬¦å·æ•°, å·¦è¾¹ä¹Ÿè¡¥0</li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºåŸºç¡€</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æ„</tag>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>åˆ†å¸ƒå¼ - æ•°æ®ä¸€è‡´æ€§çš„éƒ¨åˆ†æŒ‡å¯¼ç†è®º(CAP, BASE, 2PC, 3PC)</title>
    <url>/2022/04/24/20220424172338/</url>
    <content><![CDATA[<p>åˆ†å¸ƒå¼ - æ•°æ®ä¸€è‡´æ€§çš„éƒ¨åˆ†æŒ‡å¯¼ç†è®º(CAP, BASE, 2PC, 3PC)</p>
<h1 id="CAPç†è®º">CAPç†è®º</h1>
<h2 id="æ¦‚è¿°">æ¦‚è¿°</h2>
<p>åˆ†å¸ƒå¼ç³»ç»Ÿæœ€å¤§çš„éš¾ç‚¹, å°±æ˜¯å„ä¸ªèŠ‚ç‚¹çš„çŠ¶æ€å¦‚ä½•ä¿æŒä¸€è‡´, CAPç†è®ºæ˜¯åœ¨è®¾è®¡åˆ†å¸ƒå¼ç³»ç»Ÿçš„è¿‡ç¨‹ä¸­, å¤„ç†æ•°æ®ä¸€è‡´æ€§é—®é¢˜æ—¶å¿…é¡»è€ƒè™‘çš„ç†è®º.<br>
CAPç†è®ºçš„æœ¬è´¨å¾ˆç®€å•, å®ƒå°±æ˜¯ä¸€ç§åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡çš„ä¸åŒç†å¿µæ¦‚æ‹¬.</p>
<p><img src="http://www.wangdanpeng.com/img/20220424172338.png" alt="CAP"></p>
<p>CAPç†è®ºè¯´, ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿ, ä¸èƒ½åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªç‰¹æ€§:</p>
<ul>
<li><strong>ä¸€è‡´æ€§(Consistency)</strong>: å¯¹äºå®¢æˆ·ç«¯çš„æ¯æ¬¡è¯»æ“ä½œ, è¦ä¹ˆè¯»åˆ°æœ€æ–°æ•°æ®, è¦ä¹ˆè¯»å–å¤±è´¥, å¼ºè°ƒæ•°æ®æ­£ç¡®</li>
<li><strong>å¯ç”¨æ€§(Availability)</strong>: ä»»ä½•å®¢æˆ·ç«¯çš„è¯·æ±‚éƒ½èƒ½å¾—åˆ°è¿”å›æ•°æ®, ä¸ä¼šå‡ºç°å¤±è´¥(è¿”å›æ—¶é—´å¿…é¡»åˆç†, è¿‡é•¿ä¹Ÿä¸è¡Œ), ä¸ä¿è¯æ•°æ®æœ€æ–°, ä½†å¼ºè°ƒä¸å‡ºé”™</li>
<li><strong>åˆ†åŒºå®¹å¿æ€§(Partition tolerance)</strong>: å½“å‘ç”Ÿç½‘ç»œåˆ†åŒºæ—¶, ç³»ç»Ÿèƒ½æ­£å¸¸è¿è¡Œ</li>
</ul>
<blockquote>
<p>ç½‘ç»œåˆ†åŒº: ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿé‡Œ, èŠ‚ç‚¹ç»„æˆçš„ç½‘ç»œæœ¬æ¥æ˜¯è¿é€šçš„, ç„¶è€Œå¯èƒ½å› ä¸ºä¸€äº›ç½‘ç»œæˆ–è®¾å¤‡æ•…éšœ, ä½¿å¾—æœ‰äº›èŠ‚ç‚¹ä¹‹é—´ä¸è¿é€šäº†, æ•´ä¸ªç½‘ç»œå°±åˆ†æˆäº†å‡ å—åŒºåŸŸ,<br>
æ•°æ®å°±æ•£æ­¥åœ¨è¿™äº›ä¸è¿é€šçš„åŒºåŸŸä¸­, è¿™å°±å«åˆ†åŒº</p>
</blockquote>
<p>å¯¹åˆ†å¸ƒå¼ç³»ç»Ÿè€Œè¨€, Pæ˜¯å‰æå¿…é¡»ä¿è¯, å› ä¸ºåªè¦æœ‰ç½‘ç»œäº¤äº’, åˆ†åŒºé”™è¯¯æ˜¯å¿…ç„¶å‘ç”Ÿçš„, æ‰€ä»¥åªèƒ½è€ƒè™‘å½“å‘ç”Ÿåˆ†åŒºé”™è¯¯æ—¶, å¦‚ä½•é€‰æ‹©ä¸€è‡´æ€§å’Œå¯ç”¨æ€§.<br>
è€Œæ ¹æ®é€‰æ‹©ä¸åŒ, å¼€æºçš„åˆ†å¸ƒå¼ç³»ç»Ÿå¾€å¾€è¢«åˆ†ä¸ºCPç³»ç»Ÿå’ŒAPç³»ç»Ÿ</p>
<ul>
<li>å½“ä¸€å¥—ç³»ç»Ÿå‘ç”Ÿåˆ†åŒºæ•…éšœå, å®¢æˆ·ç«¯çš„è¯·æ±‚ä¼šè¢«å¡æ­»æˆ–è€…è¶…æ—¶, ä½†ç³»ç»Ÿæ¯ä¸ªèŠ‚ç‚¹æ€»æ˜¯è¿”å›ä¸€è‡´çš„æ•°æ®, é‚£ä¹ˆè¿™å¥—ç³»ç»Ÿå°±æ˜¯CPç³»ç»Ÿ, ä¾‹å¦‚Zookeeper</li>
<li>å½“ä¸€å¥—ç³»ç»Ÿå‘ç”Ÿåˆ†åŒºæ•…éšœå, å®¢æˆ·ç«¯ä¾ç„¶èƒ½è®¿é—®ç³»ç»Ÿ, ä½†è·å–çš„æ•°æ®æœ‰æ–°æœ‰æ—§, é‚£ä¹ˆè¿™å¥—ç³»ç»Ÿå°±æ˜¯APç³»ç»Ÿ, ä¾‹å¦‚Eureka</li>
</ul>
<h2 id="æ³¨æ„">æ³¨æ„</h2>
<p>æœ‰ä¸¤ç‚¹å®¹æ˜“å­˜åœ¨è¯¯åŒº</p>
<ul>
<li>CAPç†è®ºå¹¶éæ˜¯åœ¨æ‰€æœ‰æ—¶å€™éƒ½åªèƒ½é€‰æ‹©ä¸¤ä¸ªç‰¹æ€§, åˆ†åŒºé”™è¯¯å‘ç”Ÿæ¦‚ç‡å¾ˆä½, åœ¨ä¸å­˜åœ¨ç½‘ç»œå¤±è´¥æƒ…å†µä¸‹, cå’Œaæ˜¯èƒ½åŒæ—¶ä¿è¯çš„, åªæœ‰å½“ç½‘ç»œå‘ç”Ÿåˆ†åŒºæˆ–å¤±è´¥æ—¶, æ‰ä¼šåœ¨cå’Œaä¹‹é—´åšå‡ºé€‰æ‹©</li>
<li>å¯¹Cå’ŒAçš„é€‰æ‹©ä¸å¿…æ˜¯é’ˆå¯¹æ•´ä¸ªç³»ç»Ÿçš„, å¯ä»¥å¯¹ä¸åŒå­ç³»ç»Ÿæœ‰ä¸åŒçš„æŠ‰æ‹©</li>
</ul>
<h2 id="CAPçš„ä¸è¶³">CAPçš„ä¸è¶³</h2>
<ol>
<li>CAPç†è®ºæœ¬èº«æ˜¯æ²¡æœ‰è€ƒè™‘ç½‘ç»œå»¶è¿Ÿé—®é¢˜çš„, å®ƒè®¤ä¸ºä¸€è‡´æ€§æ˜¯ç«‹å³ç”Ÿæ•ˆçš„, ä½†æ˜¯è¦ä¿æŒä¸€è‡´æ€§, æ˜¯éœ€è¦æ—¶é—´æˆæœ¬çš„</li>
<li>å®è·µä¸­ä¸€è‡´æ€§å’Œå¯ç”¨æ€§å¹¶ä¸ä»…ä»…æ˜¯äºŒé€‰ä¸€çš„å…³ç³», åªæ˜¯ä¸€äº›é‡è¦æ€§çš„åŒºåˆ«, å¾€å¾€é€‰æ‹©ä¸€æ–¹çš„åŒæ—¶, ä¹Ÿä¼šé‡‡ç”¨ä¸€äº›æŠ€æœ¯æ‰‹æ®µå»ä¿è¯å¦ä¸€é¡¹</li>
<li>CAPç†è®ºåªæ˜¯ä¸€ç§å¯¹çŠ¶æ€çš„æè¿°, ä½†å¯¹çŠ¶æ€é—´å¦‚ä½•è½¬æ¢, å¦‚ä½•ä¿®è¡¥, å¦‚ä½•æ¢å¤å¹¶æ²¡æœ‰æä¾›æ–¹å‘</li>
</ol>
<p>é’ˆå¯¹CAPçš„ä¸è¶³, å»¶ä¼¸å‡ºäº†BASEç†è®º, å¼¥è¡¥äº†CAPç†è®ºè¿‡äºæŠ½è±¡çš„é—®é¢˜</p>
<h1 id="BASEç†è®º">BASEç†è®º</h1>
<h2 id="ç†è®º">ç†è®º</h2>
<p>BASEç†è®ºæ˜¯ä¸€ç§å¤„ç†åˆ†å¸ƒå¼äº‹åŠ¡çš„æ€æƒ³, æ²¡æœ‰å…·ä½“çš„æ“ä½œæ­¥éª¤, è¦ç†è§£BASEç†è®ºéœ€è¦ç»“åˆå…·ä½“çš„ä¾‹å­.</p>
<p>BASEç†è®ºæ˜¯å¯¹CAPä¸­ä¸€è‡´æ€§å’Œå¯ç”¨æ€§æƒè¡¡çš„ç»“æœ, æ¥æºäºå¯¹å¤§è§„æ¨¡äº’è”ç½‘åˆ†å¸ƒå¼ç³»ç»Ÿå®è·µçš„æ€»ç»“, åŸºäºCAPç†è®ºæ¼”åŒ–è€Œæ¥<br>
<strong>æ ¸å¿ƒæ€æƒ³</strong>æ˜¯å³ä½¿æ— æ³•åšåˆ°å¼ºä¸€è‡´æ€§, ä½†æ¯ä¸ªåº”ç”¨éƒ½å¯ä»¥æ ¹æ®è‡ªèº«ä¸šåŠ¡ç‰¹ç‚¹, é‡‡ç”¨é€‚å½“çš„æ–¹å¼æ¥ä½¿ç³»ç»Ÿè¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§.</p>
<p>å®é™…ä¸Š, ç½‘ç»œåˆ†åŒºå‡ºç°æƒ…å†µå¾ˆå°‘, CAPåœ¨å¤§å¤šæ—¶é—´èƒ½å¤ŸåŒæ—¶æ»¡è¶³Cå’ŒA, å¯¹äºåˆ†åŒºé”™è¯¯å‡ºç°çš„æƒ…å†µä¸‹, éœ€è¦æä¾›ä¸€ç§é¢„å¤‡ç­–ç•¥åšå¤„ç†:</p>
<ul>
<li>æ¢çŸ¥ç½‘ç»œåˆ†åŒºçš„å‘ç”Ÿ</li>
<li>è¿›å…¥æ˜¾å¼çš„åˆ†åŒºæ¨¡å¼, é™åˆ¶æŸäº›æ“ä½œ</li>
<li>å¯åŠ¨æ¢å¤è¿‡ç¨‹, æ¢å¤æ•°æ®ä¸€è‡´æ€§, è¡¥å¿åˆ†åŒºå‘ç”ŸæœŸé—´çš„é”™è¯¯</li>
</ul>
<h2 id="å®šä¹‰">å®šä¹‰</h2>
<p>BASEç†è®ºæ ¸å¿ƒ</p>
<ul>
<li><strong>Basically Available(åŸºæœ¬å¯ç”¨)</strong><br>
å‡ºç°äº†ä¸å¯é¢„çŸ¥çš„æ•…éšœ, ä½†è¿˜èƒ½ç”¨, ç›¸æ¯”è¾ƒæ­£å¸¸çš„ç³»ç»Ÿ, å¯èƒ½æœ‰å“åº”ä¸Šçš„æŸå¤±æˆ–è€…åŠŸèƒ½ä¸Šçš„æŸå¤±<br>
åœ¨æ¶æ„è®¾è®¡ä¸­, æŠŠä»¥å‰å¯èƒ½å½±å“å…¨å¹³å°çš„ä¸¥é‡é—®é¢˜, å˜æˆåªä¼šå½±å“å¹³å°çš„ä¸€éƒ¨åˆ†æ•°æ®æˆ–è€…åŠŸèƒ½çš„éä¸¥é‡é—®é¢˜</li>
<li><strong>Soft State(è½¯çŠ¶æ€)</strong><br>
å…è®¸ç³»ç»Ÿä¸­çš„æ•°æ®å­˜åœ¨ä¸­é—´çŠ¶æ€, å¹¶è®¤ä¸ºè¯¥çŠ¶æ€ä¸å½±å“ç³»ç»Ÿçš„æ•´ä½“å¯ç”¨æ€§, å³å…è®¸ç³»ç»Ÿåœ¨å¤šä¸ªä¸åŒèŠ‚ç‚¹çš„æ•°æ®å‰¯æœ¬å­˜åœ¨æ•°æ®å»¶æ—¶<br>
å¯¹å®æ—¶æ€§ä¸é«˜çš„æ•°æ®å¯ä»¥å»¶åå¤„ç†</li>
<li><strong>Eventually Consistent(æœ€ç»ˆä¸€è‡´æ€§)</strong><br>
è½¯çŠ¶æ€ä¸èƒ½ä¸€ç›´æŒç»­, åœ¨ä¸€å®šæ—¶é—´æœŸé™è¿‡å, åº”å½“ä¿è¯æ‰€æœ‰å‰¯æœ¬ä¿æŒæ•°æ®ä¸€è‡´æ€§, ä»è€Œè¾¾åˆ°æœ€ç»ˆä¸€è‡´æ€§, è¿™ä¸ªæ—¶é—´æœŸé™å–å†³äºç½‘ç»œå»¶æ—¶, ç³»ç»Ÿè´Ÿè½½, æ•°æ®å¤åˆ¶æ–¹æ¡ˆç­‰ç­‰å› ç´ <br>
å¯¹äºä¸ç¬¦åˆä¸šåŠ¡éœ€æ±‚çš„è½¯çŠ¶æ€, é€šè¿‡ä¸€äº›åç»­å†…éƒ¨çš„è‡ªåŠ¨åŒ–æ“ä½œæŠŠæ•°æ®çŠ¶æ€è¡¥å……å®Œæ•´ä»è€Œæœ€ç»ˆæ»¡è¶³ä¸šåŠ¡éœ€æ±‚.</li>
</ul>
<p>æ€»ä½“æ¥è¯´BASEç†è®ºé¢å‘çš„æ˜¯å¤§å‹é«˜å¯ç”¨, å¯æ‰©å±•çš„åˆ†å¸ƒå¼ç³»ç»Ÿ, ä¸ä¼ ç»ŸACIDç‰¹æ€§ç›¸å, ä¸åŒäºACIDçš„å¼ºä¸€è‡´æ€§æ¨¡å‹, BASEæå‡ºé€šè¿‡ç‰ºç‰²å¼ºä¸€è‡´æ€§æ¥è·å¾—å¯ç”¨æ€§<br>
å¹¶å…è®¸æ•°æ®æ®µæ—¶é—´å†…çš„ä¸ä¸€è‡´, ä½†æ˜¯æœ€ç»ˆè¾¾åˆ°ä¸€è‡´çŠ¶æ€.</p>
<blockquote>
<p>ACID<br>
<strong>Atomicity(åŸå­æ€§)</strong>: ä¸ç®¡äº‹åŠ¡é‡Œæ‰§è¡Œå¤šå°‘å‘½ä»¤, å¯¹å¤–å®ƒä»¬æ˜¯ä¸€ä½“çš„, è¦ä¹ˆéƒ½æ‰§è¡Œ, è¦ä¹ˆéƒ½ä¸æ‰§è¡Œ<br>
<strong>Consistency(ä¸€è‡´æ€§)</strong>: äº‹åŠ¡æ‰§è¡Œå‰å, æ•°æ®ä»ä¸€ä¸ªçŠ¶æ€åˆ°å¦ä¸€ä¸ªçŠ¶æ€å¿…é¡»æ˜¯ä¸€è‡´çš„<br>
<strong>Isolation(éš”ç¦»æ€§)</strong>: å¤šä¸ªå¹¶å‘äº‹åŠ¡ä¹‹é—´ç›¸äº’éš”ç¦»ï¼Œä¸èƒ½äº’ç›¸å¹²æ‰°<br>
<strong>Durability(æŒä¹…æ€§)</strong>: äº‹åŠ¡å®Œæˆåï¼Œå¯¹æ•°æ®åº“çš„æ›´æ”¹æ˜¯æ°¸ä¹…ä¿å­˜çš„ï¼Œä¸èƒ½å›æ»š</p>
</blockquote>
<h1 id="2PC">2PC</h1>
<p>ä¸¤é˜¶æ®µæäº¤åè®®, åˆç§°2PC(two-phase commit protocol), X/Open XAåè®®çš„ç»å…¸å®ç°, æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„å¼ºä¸€è‡´, ä¸­å¿ƒåŒ–çš„åŸå­æäº¤åè®®<br>
åè®®ä¸­æœ‰ä¸¤ç±»èŠ‚ç‚¹, ä¸€ä¸ª<strong>ä¸­å¿ƒåŒ–åè°ƒè€…</strong>èŠ‚ç‚¹(cordinator)å’ŒNä¸ª<strong>å‚ä¸è€…</strong>èŠ‚ç‚¹(partcipant)</p>
<p><strong>ä¸¤é˜¶æ®µæäº¤æ˜¯æŒ‡, æ•´ä¸ªè¿‡ç¨‹ä¸­å­˜åœ¨ä¸¤ä¸ªé˜¶æ®µçš„å¤„ç†æµç¨‹</strong></p>
<ul>
<li>ç¬¬ä¸€é˜¶æ®µ, è¯·æ±‚é˜¶æ®µ<br>
å½“åˆ†å¸ƒå¼äº‹åŠ¡çš„å‘èµ·æ–¹å‘åè°ƒè€…å‘é€è¯·æ±‚æ—¶, åè°ƒè€…åˆ†åˆ«å‘å‚ä¸è€…å‘é€äº‹åŠ¡é¢„å¤„ç†è¯·æ±‚, ç§°ä¹‹ä¸ºPrepare<br>
å‚ä¸è€…å¼€å§‹æ‰§è¡Œæœ¬åœ°äº‹åŠ¡, ä½†æ‰§è¡Œå®Œæˆåå¹¶ä¸æäº¤äº‹åŠ¡, è€Œæ˜¯å…ˆå‘åè°ƒè€…æŠ¥å‘Šè‡ªå·±èƒ½å¦æ‰§è¡ŒæˆåŠŸ<br>
å½“æ‰€æœ‰å‚ä¸è€…éƒ½å‘åè°ƒè€…åšå‡ºåé¦ˆ, æ­¤æ—¶æµç¨‹è¿›å…¥ç¬¬äºŒé˜¶æ®µ</li>
<li>ç¬¬äºŒé˜¶æ®µ, æäº¤é˜¶æ®µ<br>
å¦‚æœæ‰€æœ‰å‚ä¸è€…éƒ½æŠ¥å‘Šèƒ½æ‰§è¡ŒæˆåŠŸ, é‚£ä¹ˆåè°ƒè€…ä¼šå‘æ‰€æœ‰å‚ä¸è€…å‘é€Commitè¯·æ±‚, å‚ä¸è€…å°±ä¼šå®Œæˆè‡ªèº«äº‹åŠ¡çš„æäº¤, å¹¶å°†æœ€ç»ˆæäº¤ç»“æœå›å¤ç»™åè°ƒè€…, åè°ƒè€…å†å‘è°ƒç”¨æ–¹è¿”å›åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†å®Œæˆçš„ç»“æœ<br>
â€“<br>
ç›¸åå¦‚æœæœ‰å‚ä¸è€…æŠ¥å‘Šæ‰§è¡Œä¼šå¤±è´¥, æ­¤æ—¶åè°ƒè€…å°±ä¼šå‘æ‰€æœ‰å‚ä¸è€…å‘é€Rollbackè¯·æ±‚, å‚ä¸è€…å›æ»šæœ¬åœ°äº‹åŠ¡é‡Šæ”¾èµ„æº, å¹¶å‘åè°ƒè€…å‘é€ackæ¶ˆæ¯, åè°ƒè€…å†å‘è°ƒç”¨æ–¹è¿”å›åˆ†å¸ƒå¼äº‹åŠ¡å¤„ç†å¤±è´¥çš„ç»“æœ</li>
</ul>
<p>ä½†2PCä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜:</p>
<ul>
<li>æ€§èƒ½é—®é¢˜, åœ¨1,2é˜¶æ®µçš„æ‰§è¡Œè¿‡ç¨‹ä¸­, æ‰€æœ‰å‚ä¸è€…çš„äº‹åŠ¡æ“ä½œéƒ½æ˜¯å¤„äºé˜»å¡çŠ¶æ€</li>
<li>å•ç‚¹æ•…éšœ, åè°ƒè€…æ˜¯å•ç‚¹, å¦‚æœåè°ƒè€…å‡ºç°é—®é¢˜, æ•´ä¸ªæµç¨‹å°±ä¼šé”ä½æ— æ³•æ‰§è¡Œ, å‚ä¸è€…ä¹Ÿæ²¡æœ‰è¶…æ—¶æœºåˆ¶</li>
<li>æ•°æ®ä¸ä¸€è‡´, äºŒé˜¶æ®µåè°ƒè€…å‘å‚ä¸è€…å‘é€æäº¤é€šçŸ¥, å¦‚æœç½‘ç»œæŠ–åŠ¨, éƒ¨åˆ†å‚ä¸è€…æ”¶åˆ°äº†éƒ¨åˆ†å‚ä¸è€…æ²¡æ”¶åˆ°, åˆ™ä¼šå‡ºç°æ•°æ®ä¸ä¸€è‡´ç°è±¡</li>
</ul>
<h1 id="3PC">3PC</h1>
<p>ä¸‰é˜¶æ®µæäº¤åè®®, æ˜¯2PCçš„æ”¹è¿›ç‰ˆ, å°†è¯·æ±‚é˜¶æ®µä¸€åˆ†ä¸ºäºŒ, å˜æˆcanCommit, preCommitå’ŒdoCommitä¸‰ä¸ªé˜¶æ®µç»„æˆçš„äº‹åŠ¡å¤„ç†åè®®, å¹¶ä¸”å¼•å…¥äº†è¶…æ—¶æœºåˆ¶</p>
<ul>
<li>ç¬¬ä¸€é˜¶æ®µ canCommit<br>
åè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€canCommitè¯·æ±‚, è¯¢é—®æ˜¯å¦å¯ä»¥æ‰§è¡Œäº‹åŠ¡æäº¤æ“ä½œ, ç„¶åå¼€å§‹ç­‰å¾…å‚ä¸è€…å“åº”<br>
å‚ä¸è€…æ”¶åˆ°è¯·æ±‚å, æ£€æŸ¥è‡ªèº«çŠ¶æ€åŠèµ„æº, ç¡®è®¤å¯ä»¥é¡ºåˆ©æ‰§è¡Œäº‹åŠ¡åˆ™è¿”å›yes, å¦åˆ™è¿”å›no</li>
<li>ç¬¬äºŒé˜¶æ®µ preCommit<br>
å¦‚æœæ‰€æœ‰å‚ä¸è€…åé¦ˆyes, åˆ™åè°ƒè€…å‘å‚ä¸è€…å‘é€preCommitè¯·æ±‚, å‚ä¸è€…æ”¶åˆ°è¯·æ±‚, æ‰§è¡Œäº‹åŠ¡æ“ä½œ, ä½†ä¸æäº¤äº‹åŠ¡, å¦‚æœå‚ä¸è€…æˆåŠŸæ‰§è¡Œäº†äº‹åŠ¡, åˆ™è¿”å›ackç¡®è®¤å“åº”, åŒæ—¶ç­‰å¾…æœ€ç»ˆå‘½ä»¤<br>
â€“<br>
å¦‚æœæœ‰å‚ä¸è€…åé¦ˆnoæˆ–è€…ç­‰å¾…è¶…æ—¶, åè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€abortè¯·æ±‚æˆ–å‚ä¸è€…è¶…æ—¶æœªæ”¶åˆ°åè°ƒè€…è¯·æ±‚, å‚ä¸è€…æ‰§è¡Œäº‹åŠ¡ä¸­æ–­</li>
<li>ç¬¬ä¸‰é˜¶æ®µ doCommit<br>
åè°ƒè€…æ”¶åˆ°å‚ä¸è€…å‘é€çš„ackå“åº”å<br>
å¦‚æœå‚ä¸è€…éƒ½èƒ½æ‰§è¡ŒæˆåŠŸ, å‘æ‰€æœ‰å‚ä¸è€…å‘é€doCommitè¯·æ±‚, å‚ä¸è€…æ”¶åˆ°è¯·æ±‚å, æ‰§è¡Œæ­£å¼çš„äº‹åŠ¡æäº¤, å¹¶åœ¨å®Œæˆä¹‹åé‡Šæ”¾äº‹åŠ¡èµ„æº, å‘åè°ƒè€…å‘é€ackå“åº”, åè°ƒè€…æ”¶åˆ°æ‰€æœ‰ackåå®Œæˆäº‹åŠ¡<br>
â€“<br>
å½“æœ‰å‚ä¸è€…åœ¨äºŒé˜¶æ®µæœªå®Œæˆåé¦ˆæˆ–è€…åé¦ˆè¶…æ—¶, åˆ™åè°ƒè€…å‘æ‰€æœ‰å‚ä¸è€…å‘é€abortè¯·æ±‚, å‚ä¸è€…æ”¶åˆ°è¯·æ±‚å, å›æ»šäº‹åŠ¡, å¹¶é‡Šæ”¾æ‰€æœ‰äº‹åŠ¡çš„èµ„æº, ç„¶åå‘åè°ƒè€…å‘é€ackå“åº”, åè°ƒè€…æ”¶åˆ°æ‰€æœ‰ackå, æ‰§è¡Œäº‹åŠ¡çš„ä¸­æ–­</li>
</ul>
<p><strong>ä½†3PCä¾æ—§å­˜åœ¨å•ç‚¹æ•…éšœå’Œæ•°æ®ä¸ä¸€è‡´é—®é¢˜</strong></p>
]]></content>
      <categories>
        <category>åˆ†å¸ƒå¼</category>
      </categories>
      <tags>
        <tag>åˆ†å¸ƒå¼</tag>
        <tag>ä¸€è‡´æ€§</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºåŸºç¡€-æµ®ç‚¹æ•°</title>
    <url>/2022/06/15/20220615190759/</url>
    <content><![CDATA[<h1 id="å‰è¨€">å‰è¨€</h1>
<p>æƒ³è¦ç†è§£æµ®ç‚¹æ•°ä¸ºä»€ä¹ˆå«æµ®ç‚¹æ•°, æµ®ç‚¹æ˜¯ä»€ä¹ˆæ„æ€, å…ˆå‘Šè¯‰ä½ å®ƒæœ‰ä¸ªå…„å¼Ÿå«å®šç‚¹æ•°</p>
<h1 id="å®šç‚¹æ•°">å®šç‚¹æ•°</h1>
<p>ä¸€ä¸ª32ä½è®¡ç®—æœºæƒ³è¦å­˜å‚¨å°æ•°, æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä»€ä¹ˆ<br>
<strong>æŠŠ32ä½åˆ†æˆä¸‰éƒ¨åˆ†, ä¸€ä½è¡¨ç¤ºæ­£è´Ÿ, 8ä½è¡¨ç¤ºæ•´æ•°éƒ¨åˆ†, 23ä½è¡¨ç¤ºå°æ•°éƒ¨åˆ†</strong><br>
<img src="http://www.wangdanpeng.com/img/20220615190759_1.png" alt="1"></p>
<p>ç”±äºå°æ•°ç‚¹å›ºå®šåœ¨äº†ç¬¬23ä½å’Œç¬¬24ä½ä¹‹é—´, è¿™ç§æ–¹å¼å¯ä»¥ç§°ä¸ºâ€œå®šç‚¹æ•°â€<br>
<strong>ä½†å°æ•°ç‚¹å›ºå®šåœ¨å“ªä¸ªä½ç½®å‘¢</strong><br>
æ•´æ•°éƒ¨åˆ†å°äº†, è¡¨ç¤ºçš„æ•°æ®èŒƒå›´å°±å¾ˆå°<br>
æ•´æ•°éƒ¨åˆ†å¤§äº†, å°æ•°çš„ç²¾åº¦åˆä¼šé™ä½<br>
æ‰€ä»¥ç”¨å®šç‚¹æ•°è¡¨ç¤ºæ³•, èŒƒå›´å’Œç²¾åº¦ç›¸äº’çŸ›ç›¾, å¹¶ä¸æ˜¯ä¸€ç§å®Œç¾çš„è§£å†³æ–¹æ¡ˆ</p>
<h1 id="æµ®ç‚¹æ•°">æµ®ç‚¹æ•°</h1>
<p>é‚£ä¹ˆæ€ä¹ˆå¼¥è¡¥å®šç‚¹æ•°çš„çŸ­æ¿, å°±å¯ä»¥ç”¨åˆ°ç±»ä¼¼ç§‘å­¦è®¡æ•°æ³•, åˆ©ç”¨æŒ‡æ•°, å¯ä»¥è¾¾åˆ°å°æ•°ç‚¹æµ®åŠ¨çš„æ•ˆæœ<br>
IEEE 754æ ‡å‡†ä¸­, æµ®ç‚¹æ•°æœ‰å•ç²¾åº¦(32ä½)å’ŒåŒç²¾åº¦(64ä½), ä»¥å•ç²¾åº¦ä¸ºä¾‹<br>
<img src="http://www.wangdanpeng.com/img/20220615190759_2.png" alt="2"></p>
<p>ç§‘å­¦è®¡æ•°æ³•è¡¨ç¤ºä¸º</p>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mo>(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo>)</mo><mi>s</mi></msup><mo>âˆ—</mo><mn>1</mn><mi mathvariant="normal">.</mi><mo>(</mo><mi>m</mi><mi>a</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>s</mi><mi>s</mi><mi>a</mi><mo>)</mo><mo>âˆ—</mo><msup><mn>2</mn><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mi>o</mi><mi>n</mi><mi>e</mi><mi>n</mi><mi>t</mi></mrow></msup></mrow><annotation encoding="application/x-tex">n = (-1)^s * 1.(mantissa) * 2 ^{exponent}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.843556em;"></span><span class="strut bottom" style="height:1.093556em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit">n</span><span class="mrel">=</span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord mathrm">1</span><span class="mclose"><span class="mclose">)</span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">s</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mbin">âˆ—</span><span class="mord mathrm">1</span><span class="mord mathrm">.</span><span class="mopen">(</span><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">n</span><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">s</span><span class="mord mathit">s</span><span class="mord mathit">a</span><span class="mclose">)</span><span class="mbin">âˆ—</span><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.41300000000000003em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit">e</span><span class="mord mathit">x</span><span class="mord mathit">p</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mord mathit">e</span><span class="mord mathit">n</span><span class="mord mathit">t</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span></span></p>
<p>é‚£ä¹ˆä¾‹å¦‚ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn><mi mathvariant="normal">.</mi><mn>8</mn></mrow><annotation encoding="application/x-tex">5.8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">5</span><span class="mord mathrm">.</span><span class="mord mathrm">8</span></span></span></span> å°±å¯ä»¥è½¬æ¢ä¸º <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>5</mn><mo>âˆ—</mo><msup><mn>2</mn><mn>2</mn></msup></mrow><annotation encoding="application/x-tex">1.45*2^2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mord mathrm">.</span><span class="mord mathrm">4</span><span class="mord mathrm">5</span><span class="mbin">âˆ—</span><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span> (åŸæ•°ä¸€ç›´é™¤2, ç›´åˆ°æ•´æ•°éƒ¨åˆ†ä¸º1)</p>
<blockquote>
<p>æ³¨æ„: æŒ‡æ•°ä¹Ÿåˆ†æ­£è´Ÿ, æ­¤å¤„æœ‰ä¸€ä¸ªåç½®å€¼<br>
<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>b</mi><mi>i</mi><mi>a</mi><mi>s</mi><mo>=</mo><msup><mn>2</mn><mrow><mi>k</mi><mo>âˆ’</mo><mn>1</mn></mrow></msup><mo>âˆ’</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">bias=2^{k-1}-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.932438em;vertical-align:-0.08333em;"></span><span class="base textstyle uncramped"><span class="mord mathit">b</span><span class="mord mathit">i</span><span class="mord mathit">a</span><span class="mord mathit">s</span><span class="mrel">=</span><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="mbin">âˆ’</span><span class="mord mathrm">1</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mbin">âˆ’</span><span class="mord mathrm">1</span></span></span></span> , kä¸ºexponentçš„ä½æ•°<br>
å•ç²¾åº¦æµ®ç‚¹æ•°biasåˆ™ä¸º127, ä»0åˆ°127 è¡¨ç¤ºè´Ÿæ•°ï¼Œ ä»128åˆ°255è¡¨ç¤ºæ­£æ•°</p>
</blockquote>
<p>é‚£ä¹ˆ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn><mi mathvariant="normal">.</mi><mn>8</mn></mrow><annotation encoding="application/x-tex">5.8</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">5</span><span class="mord mathrm">.</span><span class="mord mathrm">8</span></span></span></span> çš„ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi><mi>x</mi><mi>p</mi><mi>o</mi><mi>n</mi><mi>e</mi><mi>n</mi><mi>t</mi><mo>=</mo><mn>1</mn><mn>2</mn><mn>7</mn><mo>+</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">exponent=127+2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.8388800000000001em;vertical-align:-0.19444em;"></span><span class="base textstyle uncramped"><span class="mord mathit">e</span><span class="mord mathit">x</span><span class="mord mathit">p</span><span class="mord mathit">o</span><span class="mord mathit">n</span><span class="mord mathit">e</span><span class="mord mathit">n</span><span class="mord mathit">t</span><span class="mrel">=</span><span class="mord mathrm">1</span><span class="mord mathrm">2</span><span class="mord mathrm">7</span><span class="mbin">+</span><span class="mord mathrm">2</span></span></span></span><br>
å°¾æ•° <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0</mn><mi mathvariant="normal">.</mi><mn>4</mn><mn>5</mn></mrow><annotation encoding="application/x-tex">0.45</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.64444em;"></span><span class="strut bottom" style="height:0.64444em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mord mathrm">4</span><span class="mord mathrm">5</span></span></span></span> è½¬åŒ–ä¸ºäºŒè¿›åˆ¶å°±æ˜¯ä¸æ–­åœ°ä¹˜2, å–ç»“æœçš„æ•´æ•°éƒ¨åˆ†, æ— é™å¾ªç¯çš„è¯å–å¤Ÿ23ä½ä¸ºæ­¢, æ­¤å¤„ä¼šæœ‰å¿½ç•¥, æ‰€ä»¥<strong>æµ®ç‚¹æ•°ä¸æ˜¯ç²¾ç¡®çš„æ•°å€¼ç±»å‹</strong></p>
<p>é€šè¿‡ä¸Šé¢çš„è¿‡ç¨‹, åŸºæœ¬äº†è§£äº†æµ®ç‚¹æ•°å¦‚ä½•è¡¨ç¤ºä¸€èˆ¬çš„å°æ•°, é‚£ä¹ˆæµ®ç‚¹æ•°æ€ä¹ˆè¡¨ç¤º0å‘¢</p>
<h1 id="è§„æ ¼åŒ–å’Œéè§„æ ¼åŒ–">è§„æ ¼åŒ–å’Œéè§„æ ¼åŒ–</h1>
<p>æŒ‡æ•°éƒ¨åˆ†æœ‰ä¸‰ç§å–å€¼:</p>
<ul>
<li>å½“exponentçš„äºŒè¿›åˆ¶ä½ä¸å…¨ä¸º0æˆ–1æ—¶, è¡¨è¾¾çš„æ•°å­—æ˜¯è§„æ ¼åŒ–å½¢å¼, å³ä¸€èˆ¬çš„å°æ•°</li>
<li>å½“exponentçš„äºŒè¿›åˆ¶ä½éƒ½ä¸º0æ—¶, æ­¤æ—¶ä¸ºéè§„æ ¼åŒ–, ç”¨æ¥è¡¨ç¤ºä¸€äº›éå¸¸æ¥è¿‘0çš„å°æ•°,åŒ…æ‹¬0<br>
æ­¤æ—¶è¡¨è¾¾å¼ä¸º</li>
</ul>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><mo>(</mo><mo>âˆ’</mo><mn>1</mn><msup><mo>)</mo><mi>s</mi></msup><mo>âˆ—</mo><mn>0</mn><mi mathvariant="normal">.</mi><mo>(</mo><mi>m</mi><mi>a</mi><mi>n</mi><mi>t</mi><mi>i</mi><mi>s</mi><mi>s</mi><mi>a</mi><mo>)</mo><mo>âˆ—</mo><msup><mn>2</mn><mrow><mn>1</mn><mo>âˆ’</mo><mi>b</mi><mi>i</mi><mi>a</mi><mi>s</mi></mrow></msup></mrow><annotation encoding="application/x-tex">n = (-1)^s * 0.(mantissa) * 2^{1-bias}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.899108em;"></span><span class="strut bottom" style="height:1.149108em;vertical-align:-0.25em;"></span><span class="base displaystyle textstyle uncramped"><span class="mord mathit">n</span><span class="mrel">=</span><span class="mopen">(</span><span class="mord">âˆ’</span><span class="mord mathrm">1</span><span class="mclose"><span class="mclose">)</span><span class="vlist"><span style="top:-0.413em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord mathit">s</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mbin">âˆ—</span><span class="mord mathrm">0</span><span class="mord mathrm">.</span><span class="mopen">(</span><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">n</span><span class="mord mathit">t</span><span class="mord mathit">i</span><span class="mord mathit">s</span><span class="mord mathit">s</span><span class="mord mathit">a</span><span class="mclose">)</span><span class="mbin">âˆ—</span><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.41300000000000003em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">1</span><span class="mbin">âˆ’</span><span class="mord mathit">b</span><span class="mord mathit">i</span><span class="mord mathit">a</span><span class="mord mathit">s</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span></span></p>
<p>å½“æ‰€æœ‰äºŒè¿›åˆ¶ä½éƒ½ä¸º0, å³å¯è¡¨ç¤º0.0</p>
<ul>
<li>å½“exponentçš„äºŒè¿›åˆ¶ä½å…¨ä¸º1æ—¶, è¡¨ç¤ºç‰¹æ®Šå€¼<br>
å½“mantissaå…¨ä¸º0æ—¶, sä¸º0è¡¨ç¤ºæ­£æ— ç©·, sä¸º1è¡¨ç¤ºè´Ÿæ— ç©·<br>
å½“mantissaä¸å…¨ä¸º0, åˆ™è¡¨ç¤ºNaN(Not a Number)ï¼Œä¸æ˜¯ä¸€ä¸ªåˆæ³•å®æ•°æˆ–æ— ç©·ï¼Œæˆ–è€…è¯¥æ•°æœªç»åˆå§‹åŒ–</li>
</ul>
]]></content>
      <categories>
        <category>è®¡ç®—æœºåŸºç¡€</category>
      </categories>
      <tags>
        <tag>åŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title>Spark - Spark SQLä¸­RBO, CBOä¸AQEç®€å•ä»‹ç»</title>
    <url>/2023/02/10/20230210154146/</url>
    <content><![CDATA[<p>Spark SQLæ ¸å¿ƒæ˜¯Catalyst, Catalystæ‰§è¡Œæµç¨‹ä¸»è¦åˆ†4ä¸ªé˜¶æ®µ, è¯­å¥è§£æ, é€»è¾‘è®¡åˆ’ä¸ä¼˜åŒ–, ç‰©ç†è®¡åˆ’ä¸ä¼˜åŒ–, ä»£ç ç”Ÿæˆ<br>
å‰ä¸‰ä¸ªé˜¶æ®µéƒ½ç”±Catalystè´Ÿè´£, å…¶ä¸­, é€»è¾‘è®¡åˆ’çš„ä¼˜åŒ–é‡‡ç”¨RBOæ€è·¯, ç‰©ç†è®¡åˆ’çš„ä¼˜åŒ–é‡‡ç”¨CBOæ€è·¯</p>
<h1 id="RBO-Rule-Based-Optimization">RBO (Rule Based Optimization)</h1>
<p>åŸºäºè§„åˆ™ä¼˜åŒ–, é€šè¿‡ä¸€ç³»åˆ—é¢„å®šå¥½çš„è§„åˆ™(Rule)å¯¹é€»è¾‘è®¡åˆ’è¿›è¡Œç­‰ä»·è½¬æ¢, ä»¥æé«˜æŸ¥è¯¢æ•ˆç‡<br>
<strong>ä¸¤ä¸ªä¸»è¦æ€è·¯</strong></p>
<ul>
<li>å‡å°‘å‚ä¸è®¡ç®—çš„æ•°æ®é‡</li>
<li>é™ä½é‡å¤è®¡ç®—çš„ä»£ä»·</li>
</ul>
<p>å¸¸ç”¨çš„è§„åˆ™éƒ½åŸºäºç»éªŒæŒ‡å®š, å¯è¦†ç›–å¤§éƒ¨åˆ†æŸ¥è¯¢åœºæ™¯, ä¸”æ–¹ä¾¿æ‰©å±•, ç¼ºç‚¹æ˜¯ä¸å¤Ÿçµæ´»<br>
å¸¸ç”¨è§„åˆ™ä¾‹å¦‚</p>
<ul>
<li>
<p><strong>å¸¸é‡æŠ˜å (ConstantFolding)</strong><br>
æŠŠçº¯å¸¸é‡è¿ç®—è¡¨è¾¾å¼é¢„å…ˆè½¬åŒ–, æ¯”å¦‚æŠŠ1+2è½¬åŒ–ä¸º3.0, æ¶ˆé™¤ä¸å¿…è¦çš„é‡å¤è®¡ç®—</p>
</li>
<li>
<p><strong>è°“è¯ä¸‹æ¨(PushdownPredicate)</strong><br>
æœ€å¸¸è§çš„ç”¨äºå‡å°‘å‚ä¸è®¡ç®—çš„æ•°æ®é‡çš„æ–¹æ³•<br>
è°“è¯, whereæ¡ä»¶, join onä¸­çš„è¿‡æ»¤æ¡ä»¶<br>
å°†SQLè¯­å¥ä¸­çš„è°“è¯é€»è¾‘å°½é‡æå‰æ‰§è¡Œ, å‚ä¸joinçš„æ•°æ®é‡å¤§å¤§å‡å°‘, ä½¿å¾—joinæ“ä½œé€Ÿåº¦å¤§å¤§æé«˜</p>
</li>
<li>
<p><strong>åˆ—è£å‰ª(ColumnPruning)</strong><br>
åœ¨æ‰«æè¡¨æ—¶, åªç­›é€‰å‡ºç¬¦åˆåç»­é€»è¾‘è®¡åˆ’çš„æœ€å°åˆ—é›†åˆ, èŠ‚çœæ‰æ‰«æå…¨éƒ¨åˆ—çš„èµ„æº<br>
å¦‚æœä½¿ç”¨çš„Parquet,ORCç­‰åˆ—å¼å­˜å‚¨æ ¼å¼æŒä¹…åŒ–çš„, æ•ˆç‡ä¼šæ›´é«˜</p>
</li>
</ul>
<h1 id="CBO-Cost-Based-Optimization">CBO (Cost Based Optimization)</h1>
<p>åŸºäºä»£ä»·ä¼˜åŒ–<br>
CBOä¼˜åŒ–ä¸»è¦åœ¨ç‰©ç†è®¡åˆ’å±‚, åŸç†æ˜¯è®¡ç®—æ‰€æœ‰å¯èƒ½çš„ç‰©ç†è®¡åˆ’çš„ä»£ä»·, å¹¶æŒ‘é€‰å‡ºä»£ä»·æœ€å°çš„è®¡åˆ’<br>
å……åˆ†è€ƒè™‘äº†æ•°æ®æœ¬èº«çš„ç‰¹ç‚¹(å¤§å°, åˆ†å¸ƒ)ä»¥åŠæ“ä½œç®—å­çš„ç‰¹ç‚¹(ä¸­é—´ç»“æœé›†çš„åˆ†å¸ƒåŠå¤§å°)åŠä»£ä»·, ä»è€Œæ›´å¥½çš„é€‰æ‹©æ‰§è¡Œä»£ä»·æœ€å°çš„è®¡åˆ’</p>
<p>ç‰©ç†æ‰§è¡Œè®¡åˆ’æ˜¯ä¸€ä¸ªæ ‘çŠ¶ç»“æ„, å…¶ä»£ä»·ç­‰äºæ¯ä¸ªæ‰§è¡ŒèŠ‚ç‚¹çš„ä»£ä»·æ€»å’Œ<br>
æ¯ä¸ªæ‰§è¡ŒèŠ‚ç‚¹çš„ä»£ä»·, åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†</p>
<ol>
<li>è¯¥æ‰§è¡ŒèŠ‚ç‚¹å¯¹æ•°æ®é›†çš„å½±å“, å³è¯¥èŠ‚ç‚¹è¾“å‡ºæ•°æ®é›†çš„å¤§å°ä¸åˆ†å¸ƒ, åˆåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†
<ul>
<li>åˆå§‹æ•°æ®é›†, å…¶å¤§å°ä¸åˆ†å¸ƒå¯ç›´æ¥é€šè¿‡ç»Ÿè®¡å¾—åˆ°</li>
<li>ä¸­é—´èŠ‚ç‚¹è¾“å‡ºæ•°æ®é›†çš„å¤§å°ä¸åˆ†å¸ƒ, å¯ç”±å…¶è¾“å…¥æ•°æ®é›†çš„ä¿¡æ¯ä¸æ“ä½œæœ¬èº«çš„ç‰¹ç‚¹æ¨ç®—</li>
</ul>
</li>
<li>è¯¥æ‰§è¡ŒèŠ‚ç‚¹æ“ä½œç®—å­çš„ä»£ä»·, ç›¸å¯¹å›ºå®š, å¯ç”¨è§„åˆ™æ¥æè¿°</li>
</ol>
<p>CBOä¼˜åŒ–æœ‰, <strong>Buildä¾§é€‰æ‹©</strong>, <strong>ä¼˜åŒ–Joinç±»å‹</strong>, <strong>ä¼˜åŒ–å¤šè¡¨Joiné¡ºåº</strong>ç­‰</p>
<p>CBOçš„é—®é¢˜<br>
æ•°æ®ç»Ÿè®¡ä¿¡æ¯æ™®éç¼ºå¤±, ç»Ÿè®¡ä¿¡æ¯çš„æ”¶é›†ä»£ä»·è¾ƒé«˜<br>
å‚¨å­˜è®¡ç®—åˆ†ç¦»çš„æ¶æ„, ä½¿å¾—æ”¶é›†åˆ°çš„ç»Ÿè®¡ä¿¡æ¯å¯èƒ½ä¸å†å‡†ç¡®<br>
Sparkéƒ¨ç½²åœ¨æŸä¸ªå•ä¸€ç¡¬ä»¶æ¶æ„ä¸Š, costå¾ˆéš¾è¢«ä¼°è®¡<br>
Sparkçš„UDFç®€å•æ˜“ç”¨, ç§ç±»ç¹å¤š, ä½†æ˜¯å¯¹äºCBOæ¥è¯´æ˜¯é»‘ç›’, æ— æ³•ä¼°è®¡cost</p>
<h1 id="AQE-Adaptive-Query-Execution">AQE (Adaptive Query Execution)</h1>
<p>CBOæ˜¯ä¸€ç§é™æ€ä¼˜åŒ–ç­–ç•¥, ä¸€æ—¦æ‰§è¡Œè®¡åˆ’äº¤ä»˜è¿è¡Œ, å°±ä¸èƒ½å†å¯¹ç‰©ç†è®¡åˆ’è¿›è¡Œä¿®æ”¹<br>
åœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­ä½¿ç”¨CBOæ˜¯ä¸€ä¸ªæå…¶å¤æ‚çš„é—®é¢˜, åœ¨Sparkä¸­æ”¶é›†å’Œç»´æŠ¤ä¸€ç»„å‡†ç¡®å’Œæœ€æ–°çš„ç»Ÿè®¡æ•°æ®æ˜¯æ˜‚è´µçš„</p>
<p>AQEæ˜¯Spark SQLçš„ä¸€ç§åŠ¨æ€ä¼˜åŒ–æœºåˆ¶, åœ¨è¿è¡Œæ—¶, æ¯å½“Shuffle Mapé˜¶æ®µæ‰§è¡Œå®Œæ¯•, AQEéƒ½ä¼š<br>
ç»“åˆè¿™ä¸ªé˜¶æ®µçš„ç»Ÿè®¡ä¿¡æ¯, åŸºäºæ—¢å®šçš„è§„åˆ™åŠ¨æ€çš„è°ƒæ•´, ä¿®æ­£å°šæœªæ‰§è¡Œçš„é€»è¾‘è®¡åˆ’å’Œç‰©ç†è®¡åˆ’, æ¥<br>
å®Œæˆå¯¹åŸå§‹æŸ¥è¯¢è¯­å¥çš„è¿è¡Œæ—¶ä¼˜åŒ–</p>
<p>AQEçš„ç»Ÿè®¡ä¿¡æ¯ä¸CBOä¸åŒ, ä¸æ˜¯å…³äºè¡¨, è€Œæ˜¯Shuffle Mapé˜¶æ®µè¾“å‡ºçš„ä¸­é—´æ–‡ä»¶<br>
AQEä»è¿è¡Œæ—¶è·å–ç»Ÿè®¡ä¿¡æ¯, åœ¨æ¡ä»¶å…è®¸çš„æƒ…å†µä¸‹, ä¼˜åŒ–å†³ç­–ä¼šåˆ†åˆ«ä½œç”¨åˆ°é€»è¾‘è®¡åˆ’å’Œç‰©ç†è®¡åˆ’</p>
<p>AQEä¸‰å¤§ç‰¹æ€§</p>
<ul>
<li>
<p><strong>è‡ªåŠ¨åˆ†åŒºåˆå¹¶</strong><br>
åœ¨Shuffleè¿‡å, Reduce Taskæ•°æ®åˆ†å¸ƒå‚å·®ä¸é½, AQEå°†è‡ªåŠ¨åˆå¹¶è¿‡å°çš„æ•°æ®åˆ†åŒº</p>
</li>
<li>
<p><strong>Joinç­–ç•¥è°ƒæ•´</strong><br>
å¦‚æœæŸå¼ è¡¨åœ¨è¿‡æ»¤å, å°ºå¯¸å°äºå¹¿æ’­å˜é‡é˜ˆå€¼, è¿™å¼ è¡¨å‚ä¸çš„Joinå°±ä¼šä»Shuffle Sort<br>
Merge Join é™çº§ä¸ºæ‰§è¡Œæ•ˆç‡æ›´é«˜çš„Broadcast Hash Join</p>
</li>
<li>
<p><strong>è‡ªåŠ¨å€¾æ–œå¤„ç†</strong><br>
ç»“åˆé…ç½®é¡¹, AQEè‡ªåŠ¨æ‹†åˆ†Reduceé˜¶æ®µè¿‡å¤§çš„æ•°æ®åˆ†åŒº, é™ä½å•ä¸ªReduce Taskçš„å·¥ä½œè´Ÿè½½</p>
</li>
</ul>
<p>å‚è€ƒæ–‡çŒ®</p>
<p><a href="https://www.e-learn.cn/topic/3721574" target="_blank" rel="noopener">CBOæ¢ç©¶</a><br>
<a href="https://zhuanlan.zhihu.com/p/533982903" target="_blank" rel="noopener">Spark AQEæ–°ç‰¹æ€§</a><br>
<a href="http://www.jasongj.com/spark/cbo/" target="_blank" rel="noopener">CBO åŸºäºä»£ä»·çš„ä¼˜åŒ–</a><br>
<a href="http://www.jasongj.com/spark/rbo/" target="_blank" rel="noopener">Catalyst å†…éƒ¨åŸç† ä¸ RBO</a></p>
]]></content>
      <categories>
        <category>Spark</category>
      </categories>
      <tags>
        <tag>å¤§æ•°æ®</tag>
        <tag>Spark</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°å­¦ç›¸å…³ - HyperLogLogç®—æ³•åŸç†</title>
    <url>/2023/02/15/20230215171913/</url>
    <content><![CDATA[<h2 id="åº”ç”¨åœºæ™¯">åº”ç”¨åœºæ™¯</h2>
<p>å½“éœ€è¦å¯¹å¤§é‡æ•°æ®åšå»é‡è®¡æ•°, ä¾‹å¦‚ç»Ÿè®¡ä¸€ä¸ªé¡µé¢çš„UV(Unique Visitor, ç‹¬ç«‹è®¿å®¢), æˆ–è€…ç”¨æˆ·æœç´¢çš„å…³é”®è¯æ•°é‡, æ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„æ–¹æ¡ˆæœ‰</p>
<ul>
<li>å­˜å‚¨åˆ°æ•°æ®åº“è¡¨, ä½¿ç”¨distinct countè®¡ç®—</li>
<li>ä½¿ç”¨Redisçš„set, bitmapç­‰æ•°æ®ç»“æ„</li>
</ul>
<p>ä½†éƒ½å­˜åœ¨ä¸€äº›é—®é¢˜, éšç€æ•°æ®é‡å¢åŠ , å­˜å‚¨ç©ºé—´å ç”¨è¶Šæ¥è¶Šå¤§; ç»Ÿè®¡é€Ÿåº¦æ…¢, æ€§èƒ½å¹¶ä¸ç†æƒ³</p>
<p>æ•°æ®åˆ†æ, ç½‘ç»œç›‘æ§åŠæ•°æ®åº“ä¼˜åŒ–ç­‰é¢†åŸŸéƒ½ä¼šæ¶‰åŠåˆ°åŸºæ•°è®¡æ•°çš„éœ€æ±‚.</p>
<blockquote>
<p>åŸºæ•°, ä¸€ä¸ªé›†åˆä¸­ä¸é‡å¤å…ƒç´ çš„ä¸ªæ•°.</p>
</blockquote>
<p>ç›®å‰è¿˜æ²¡æœ‰åœ¨å¤§æ•°æ®åœºæ™¯ä¸­å‡†ç¡®è®¡ç®—åŸºæ•°çš„é«˜æ•ˆç®—æ³•, å› æ­¤åœ¨å…è®¸ä¸€å®šè¯¯å·®çš„æƒ…å†µä¸‹, ä½¿ç”¨<strong>æ¦‚ç‡ç®—æ³•</strong>æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©</p>
<h2 id="æ¦‚ç‡ç®—æ³•">æ¦‚ç‡ç®—æ³•</h2>
<p>æ¦‚ç‡ç®—æ³•ä¸ç›´æ¥å­˜å‚¨æ•°æ®æœ¬èº«, è€Œé€šè¿‡ä¸€å®šçš„æ¦‚ç‡ç»Ÿè®¡æ–¹æ³•é¢„ä¼°åŸºæ•°å€¼, è¿™ç§æ–¹æ³•å¯ä»¥å¤§å¤§èŠ‚çœå†…å­˜, åŒæ—¶ä¿è¯è¯¯å·®æ§åˆ¶åœ¨ä¸€å®šèŒƒå›´å†…<br>
ç›®å‰ç”¨äºåŸºæ•°è®¡æ•°çš„æ¦‚ç‡ç®—æ³•æœ‰</p>
<ul>
<li><strong>LC(Linear Counting)</strong>: æ—©æœŸçš„åŸºæ•°ä¼°è®¡ç®—æ³•, åœ¨ç©ºé—´å¤æ‚åº¦æ–¹é¢ä¸ç®—ä¼˜ç§€, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><msub><mi>N</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">O(N_{max})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">x</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mclose">)</span></span></span></span></li>
<li><strong>LLC(LogLog Counting)</strong>: ç›¸æ¯”äºLCæ›´åŠ èŠ‚çœå†…å­˜, ç©ºé—´å¤æ‚åº¦åªæœ‰ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo>(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo>(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mo>(</mo><msub><mi>N</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub><mo>)</mo><mo>)</mo><mo>)</mo></mrow><annotation encoding="application/x-tex">O(log_2(log_2(N_{max})))</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.75em;"></span><span class="strut bottom" style="height:1em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathit" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">o</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mopen">(</span><span class="mord mathit" style="margin-right:0.01968em;">l</span><span class="mord mathit">o</span><span class="mord"><span class="mord mathit" style="margin-right:0.03588em;">g</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.03588em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord mathrm">2</span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right:0.10903em;">N</span><span class="vlist"><span style="top:0.15em;margin-right:0.05em;margin-left:-0.10903em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle cramped"><span class="mord scriptstyle cramped"><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">x</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span><span class="mclose">)</span><span class="mclose">)</span><span class="mclose">)</span></span></span></span></li>
<li><strong>HLL(HyperLogLog Counting)</strong>: HLLåŸºäºLLCçš„ä¼˜åŒ–å’Œæ”¹è¿›, åœ¨åŒæ ·ç©ºé—´å¤æ‚åº¦æƒ…å†µä¸‹, èƒ½å¤Ÿæ¯”LLCçš„åŸºæ•°ä¼°è®¡è¯¯å·®æ›´å°, ä¾‹å¦‚Rediaä¸­HLLåªå 12KB, å¯ä»¥è®¡ç®—æ¥è¿‘ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><mn>6</mn><mn>4</mn></mrow></msup></mrow><annotation encoding="application/x-tex">2^{64}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.8141079999999999em;"></span><span class="strut bottom" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord mathrm">6</span><span class="mord mathrm">4</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span>ä¸ªä¸åŒåŸºæ•°, æ ‡å‡†è¯¯å·®ä¸º0.81%</li>
</ul>
<h2 id="æå¤§ä¼¼ç„¶ä¼°è®¡">æå¤§ä¼¼ç„¶ä¼°è®¡</h2>
<p>æå¤§ä¼¼ç„¶ä¼°è®¡æ˜¯å»ºç«‹åœ¨æå¤§ä¼¼ç„¶åŸç†çš„åŸºç¡€ä¸Šçš„ä¸€ä¸ªç»Ÿè®¡æ–¹æ³•, æ˜¯æ¦‚ç‡è®ºåœ¨ç»Ÿè®¡å­¦ä¸­çš„åº”ç”¨<br>
æå¤§ä¼¼ç„¶ä¼°è®¡æä¾›äº†ä¸€ç§ç»™å®šè§‚å¯Ÿæ•°æ®æ¥è¯„ä¼°æ¨¡å‹å‚æ•°çš„æ–¹æ³•, å³: <strong>æ¨¡å‹å·²å®š, å‚æ•°æœªçŸ¥</strong><br>
é€šè¿‡è‹¥å¹²æ¬¡è¯•éªŒ, è§‚å¯Ÿå…¶ç»“æœ, åˆ©ç”¨è¯•éªŒç»“æœå¾—åˆ°æŸä¸ªå‚æ•°å€¼èƒ½å¤Ÿä½¿æ ·æœ¬å‡ºç°çš„æ¦‚ç‡ä¸ºæœ€å¤§, åˆ™ç§°ä¸ºæå¤§ä¼¼ç„¶ä¼°è®¡</p>
<p>ç›®çš„å°±æ˜¯: åˆ©ç”¨å·²çŸ¥çš„æ ·æœ¬ç»“æœ, åæ¨æœ€æœ‰å¯èƒ½/æœ€å¤§æ¦‚ç‡å¯¼è‡´è¿™æ ·ç»“æœçš„å‚æ•°å€¼</p>
<p>ä¾‹å¦‚æœ‰ä¸¤ä¸ªç®±å­, ç”²ç®±æœ‰99ç™½çƒ1ä¸ªé»‘çƒ, ä¹™ç®±æœ‰99é»‘çƒ1ç™½çƒ, ç°åœ¨å–å‡ºäº†ä¸€ä¸ªé»‘çƒ<br>
é—®é»‘çƒæ˜¯ä»å“ªä¸ªç®±å­å–å‡ºçš„<br>
ä½ çš„ç¬¬ä¸€å°è±¡å°±æ˜¯é»‘çƒæœ€åƒæ˜¯ä»ä¹™ç®±å–å‡ºçš„, è¿™ä¸ªæ¨æ–­ç¬¦åˆäººä»¬çš„ç»éªŒäº‹å®, æœ€åƒå°±æ˜¯æœ€å¤§ä¼¼ç„¶ä¹‹æ„, è¿™ç§æƒ³æ³•å¸¸ç§°ä¸ºæå¤§ä¼¼ç„¶åŸç†</p>
<h2 id="ä¼¯åŠªåˆ©è¯•éªŒ">ä¼¯åŠªåˆ©è¯•éªŒ</h2>
<p>ä¼¯åŠªåˆ©è¯•éªŒ(Bernoulli experiment), æ˜¯<strong>åœ¨åŒæ ·çš„æ¡ä»¶ä¸‹é‡å¤åœ°, ç›¸äº’ç‹¬ç«‹åœ°è¿›è¡Œçš„ä¸€ç§éšæœºè¯•éªŒ</strong><br>
å…¶ç‰¹ç‚¹æ˜¯è¯¥éšæœºè¯•éªŒåªæœ‰ä¸¤ç§å¯èƒ½ç»“æœ: å‘ç”Ÿæˆ–è€…ä¸å‘ç”Ÿ<br>
æˆ‘ä»¬å‡è®¾è¯¥é¡¹è¯•éªŒç‹¬ç«‹é‡å¤åœ°è¿›è¡Œäº†næ¬¡, é‚£ä¹ˆå°±ç§°è¿™ä¸€ç³»åˆ—é‡å¤ç‹¬ç«‹çš„éšæœºè¯•éªŒä¸ºné‡ä¼¯åŠªåˆ©è¯•éªŒ<br>
å•ä¸ªä¼¯åŠªåˆ©è¯•éªŒæ˜¯æ²¡æœ‰å¤šå¤§æ„ä¹‰çš„, ç„¶è€Œå½“æˆ‘ä»¬åå¤è¿›è¡Œä¼¯åŠªåˆ©è¯•éªŒ, å»è§‚å¯Ÿè¿™äº›è¯•éªŒæœ‰å¤šå°‘æ˜¯æˆåŠŸçš„å¤šå°‘æ˜¯å¤±è´¥çš„, äº‹æƒ…å°±å˜å¾—æœ‰æ„ä¹‰äº†, è¿™äº›ç´¯è®¡è®°å½•åŒ…å«äº†å¾ˆå¤šæ½œåœ¨çš„éå¸¸æœ‰ç”¨çš„ä¿¡æ¯</p>
<p>ä»¥æŠ›ç¡¬å¸ä¸ºä¾‹, æ¯æ¬¡æŠ›ç¡¬å¸å‡ºç°æ­£é¢çš„æ¦‚ç‡éƒ½æ˜¯50%, å‡è®¾ä¸€ç›´æŠ›ç¡¬å¸, ç›´åˆ°å‡ºç°æ­£é¢, åˆ™ä¸€ä¸ªä¼¯åŠªåˆ©è¯•éªŒç»“æŸ<br>
å‡è®¾ç¬¬1æ¬¡ä¼¯åŠªåˆ©è¯•éªŒæŠ›ç¡¬å¸çš„æ¬¡æ•°ä¸ºk<sub>1</sub>, ç¬¬næ¬¡ä¼¯åŠªåˆ©è¯•éªŒæŠ›ç¡¬å¸çš„æ¬¡æ•°ä¸ºk<sub>n</sub><br>
æˆ‘ä»¬è®°å½•è¿™næ¬¡ä¼¯åŠªåˆ©è¯•éªŒçš„æœ€å¤§æŠ›ç¡¬å¸æ¬¡æ•°ä¸ºk<sub>max</sub><br>
é‚£ä¹ˆé‡ç‚¹æ¥äº†<br>
<strong>åœ¨æŸæ¬¡ä¼¯åŠªåˆ©è¯•éªŒä¸­, k<sub>max</sub>å‡ºç°çš„æ¦‚ç‡, å°±æ˜¯æŠ•æ·äº†k<sub>max-1</sub>æ¬¡åé¢, å’Œ1æ¬¡æ­£é¢, æ¦‚ç‡å°±æ˜¯<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi mathvariant="normal">/</mi><msup><mn>2</mn><mrow><msub><mi>k</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">1/2^{k_{max}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:1.099108em;vertical-align:-0.25em;"></span><span class="base textstyle uncramped"><span class="mord mathrm">1</span><span class="mord mathrm">/</span><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.03148em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord scriptscriptstyle cramped"><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">x</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span><br>
ä¹Ÿå°±æ˜¯è¯´éœ€è¦è¿›è¡Œ<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><msub><mi>k</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">2^{k_{max}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.03148em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord scriptscriptstyle cramped"><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">x</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span>æ¬¡è¯•éªŒå¯èƒ½ä¼šå‡ºç°ä¸€æ¬¡k<sub>max</sub>, é‚£ä¹ˆæ ¹æ®æå¤§ä¼¼ç„¶ä¼°ç®—æ³•, æˆ‘ä»¬å°±ç²—ç•¥ä¼°è®¡æœ¬æ¬¡è¿›è¡Œçš„næ¬¡ä¼¯åŠªåˆ©è¯•éªŒçš„ <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi><mo>=</mo><msup><mn>2</mn><mrow><msub><mi>k</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">n=2^{k_{max}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord mathit">n</span><span class="mrel">=</span><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.03148em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord scriptscriptstyle cramped"><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">x</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span></strong></p>
<p>åŒç†, åº”ç”¨åˆ°åŸºæ•°ç»Ÿè®¡ä¸­å°±æ˜¯, æŠŠé›†åˆä¸­æ¯ä¸ªå…ƒç´ éƒ½ç»è¿‡hashåè¡¨ç¤ºä¸ºäºŒè¿›åˆ¶æ•°ä¸², ä¸€ä¸ªæ•°ä¸²ç±»æ¯”æˆä¸€æ¬¡æŠ›ç¡¬å¸è¯•éªŒ, 1æ˜¯æŠ›åˆ°æ­£é¢, 0æ˜¯åé¢<br>
äºŒè¿›åˆ¶ä¸²ä¸­ä»ä½ä½å¼€å§‹ç¬¬ä¸€ä¸ª1å‡ºç°çš„ä½ç½®, ç†è§£ä¸ºæŠ›ç¡¬å¸ä¸­ç¬¬ä¸€æ¬¡å‡ºç°æ­£é¢çš„æŠ›æ·æ¬¡æ•°k, ä¾æ—§é€šè¿‡<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mn>2</mn><mrow><msub><mi>k</mi><mrow><mi>m</mi><mi>a</mi><mi>x</mi></mrow></msub></mrow></msup></mrow><annotation encoding="application/x-tex">2^{k_{max}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="strut" style="height:0.849108em;"></span><span class="strut bottom" style="height:0.849108em;vertical-align:0em;"></span><span class="base textstyle uncramped"><span class="mord"><span class="mord mathrm">2</span><span class="vlist"><span style="top:-0.363em;margin-right:0.05em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-textstyle scriptstyle uncramped"><span class="mord scriptstyle uncramped"><span class="mord"><span class="mord mathit" style="margin-right:0.03148em;">k</span><span class="vlist"><span style="top:0.15em;margin-right:0.07142857142857144em;margin-left:-0.03148em;"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span><span class="reset-scriptstyle scriptscriptstyle cramped"><span class="mord scriptscriptstyle cramped"><span class="mord mathit">m</span><span class="mord mathit">a</span><span class="mord mathit">x</span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span><span class="baseline-fix"><span class="fontsize-ensurer reset-size5 size5"><span style="font-size:0em;">â€‹</span></span>â€‹</span></span></span></span></span></span>æ¥ä¼°ç®—é›†åˆä¸­ä¸€å…±æœ‰å¤šå°‘ä¸åŒçš„æ•°å­—<br>
å› ä¸ºé‡å¤çš„å€¼hashåäºŒè¿›åˆ¶æ•°ä¸²ä¸€è‡´, å¾—åˆ°çš„kå€¼ä¸ä¼šå˜åŒ–, æ‰€ä»¥æ˜¯å¤©ç„¶å»é‡çš„, é‡å¤æ•°æ®ä¸ä¼šå¯¹ä¼°ç®—å€¼äº§ç”Ÿä»»ä½•å½±å“</p>
<h2 id="åç»­ä¼˜åŒ–">åç»­ä¼˜åŒ–</h2>
<p>å¾ˆæ˜¾ç„¶è¿™ä¸ªä¼°ç®—å…³ç³»æ˜¯ä¸å‡†ç¡®çš„<br>
å…³äºä¼°å€¼åå·®è¾ƒå¤§çš„é—®é¢˜, å¯ä»¥é‡‡ç”¨å¦‚ä¸‹æ–¹å¼ç»“åˆæ¥ç¼©å°è¯¯å·®</p>
<h3 id="å‡åŒ€éšæœºåŒ–">å‡åŒ€éšæœºåŒ–</h3>
<p>é€‰å–çš„å“ˆå¸Œå‡½æ•°å¿…é¡»æ»¡è¶³ä»¥ä¸‹æ¡ä»¶, ä¼˜ç§€çš„å“ˆå¸Œå‡½æ•°æ˜¯åç»­æ¦‚ç‡åˆ†æçš„åŸºç¡€</p>
<ol>
<li>å“ˆå¸Œç»“æœæœ‰å¾ˆå¥½çš„å‡åŒ€æ€§, æ— è®ºåŸå§‹é›†åˆå…ƒç´ çš„å€¼åˆ†å¸ƒå¦‚ä½•, å“ˆå¸Œç»“æœéƒ½å‡ ä¹æœä»å‡åŒ€åˆ†å¸ƒ</li>
<li>å“ˆå¸Œçš„ç¢°æ’å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡</li>
<li>å“ˆå¸Œç»“æœçš„é•¿åº¦æ˜¯å›ºå®šçš„</li>
</ol>
<h3 id="åˆ†æ¡¶å¹³å‡">åˆ†æ¡¶å¹³å‡</h3>
<p>ä»¥ä¸Šç›´æ¥é‡‡ç”¨å•ä¸€ä¼°è®¡é‡ä¼šç”±äºå¶ç„¶æ€§å­˜åœ¨è¾ƒå¤§è¯¯å·®, å› æ­¤é‡‡ç”¨åˆ†æ¡¶å¹³å‡çš„æ€æƒ³æ¥æ¶ˆé™¤è¯¯å·®<br>
ä»¥Redisä¸ºä¾‹, å“ˆå¸Œç»“æœ64ä½, å‰14ä½æ¥åˆ†æ¡¶, å…±16384ä¸ªæ¡¶, å50ä½ä½œä¸ºçœŸæ­£ç”¨äºåŸºæ•°ä¼°è®¡çš„æ¯”ç‰¹ä¸²<br>
æ¡¶ç¼–å·ç›¸åŒçš„å…ƒç´ åˆ†é…åˆ°ä¸€ä¸ªæ¡¶, å…ˆåˆ†åˆ«ç»Ÿè®¡æ¯ä¸ªæ¡¶å„è‡ªçš„k<sub>max</sub>, ç„¶åè¿›è¡Œå¹³å‡<br>
ç›¸å½“äºç‰©ç†è¯•éªŒä¸­å¤šæ¬¡è¯•éªŒå–å¹³å‡çš„åšæ³•, å¯ä»¥æœ‰æ•ˆæ¶ˆå‡å› å¶ç„¶æ€§å¸¦æ¥çš„è¯¯å·®</p>
<h3 id="è°ƒå’Œå¹³å‡">è°ƒå’Œå¹³å‡</h3>
<p>åˆ†æ¡¶å–å¹³å‡æ˜¯LLCçš„ç®—æ³•å®ç°, HLLåŒºåˆ«åœ¨äºé‡‡ç”¨äº†è°ƒå’Œå¹³å‡æ•°,<br>
è°ƒå’Œå¹³å‡æ•°æŒ‡çš„æ˜¯å€’æ•°çš„å¹³å‡æ•°, ç›¸æ¯”å¹³å‡æ•°èƒ½æœ‰æ•ˆæŠµæŠ—ç¦»ç¾¤å€¼å¯¹å¹³å‡å€¼çš„æ‰°åŠ¨<br>
æ¯”å¦‚æˆ‘å’Œé©¬äº‘çš„å¹³å‡èµ„äº§, æˆ‘æœ‰ä¸¤ä¸‡, ä»–æœ‰ä¸¤åƒäº¿, å¹³å‡ä¸€ä¸‹æˆ‘æœ‰ä¸€åƒäº¿<br>
ä½†æ˜¯è°ƒå’Œå¹³å‡æ•°, å¹³å‡ä¸€ä¸‹æˆ‘æœ‰2/(1/20000 + 1/200000000000)=40000<br>
å°±å’Œæˆ‘çš„èµ„äº§åå·®ä¸æ˜¯å¾ˆå¤§</p>
<h3 id="åå·®ä¿®æ­£">åå·®ä¿®æ­£</h3>
<p>ç»è¿‡ä¸Šè¿°ç³»åˆ—ä¼˜åŒ–åçš„ä¼°è®¡é‡çœ‹ä¼¼å·²ç»ä¸é”™äº†, ä½†é€šè¿‡æ•°å­¦åˆ†æå¯ä»¥çŸ¥é“è¿™å¹¶ä¸æ˜¯åŸºæ•°nçš„æ— åä¼°è®¡<br>
å› æ­¤éœ€è¦ä¿®æ­£æˆæ— åä¼°è®¡, æ­¤å¤„æ¶‰åŠä¸€ç³»åˆ—æ•°å­¦å…¬å¼<br>
ç®€å•æ¥è¯´å°±æ˜¯, å¢åŠ ä¿®æ­£å› å­, æ˜¯ä¸€ä¸ªä¸å›ºå®šçš„å€¼, ä¼šæ ¹æ®å®é™…æƒ…å†µæ¥è¿›è¡Œå€¼çš„è°ƒæ•´<br>
è¯¦ç»†å¯å‚è€ƒ<a href="http://static.googleusercontent.com/media/research.google.com/en//pubs/archive/40671.pdf" target="_blank" rel="noopener">è®ºæ–‡</a></p>
<h2 id="Redisä¸­HyperLogLogç»“æ„">Redisä¸­HyperLogLogç»“æ„</h2>
<p>å…·ä½“æ•°æ®ç»“æ„, å¯†é›†å­˜å‚¨ç»“æ„, ç¨€ç–å­˜å‚¨ç»“æ„åŠå…¶è½¬æ¢, å¯å‚è€ƒä¸€ä¸‹æ–‡ç« <br>
<a href="https://blog.csdn.net/u010887744/article/details/108041280" target="_blank" rel="noopener">ç©è½¬Redis-HyperLogLogåŸç†æ¢ç´¢</a></p>
<p>ps: å¦é™„ä¸€ä¸ª<a href="http://content.research.neustar.biz/blog/hll.html" target="_blank" rel="noopener">æ¼”ç¤ºå·¥å…·</a>, åœ¨æ˜ç™½ä»¥ä¸ŠåŸç†ä»¥å, å¯ä»¥ç›´è§‚çš„çœ‹åˆ°HLLçš„å·¥ä½œè¿‡ç¨‹åŠè¯¯å·®å˜åŒ–æƒ…å†µ</p>
]]></content>
      <categories>
        <category>æ•°å­¦ç›¸å…³</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>æ•°å­¦</tag>
        <tag>Redis</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°æ®åˆ†æä¸¤ä»¶å¥—ClickHouse+Metabase(ä¸€)</title>
    <url>/2023/08/11/20230811154946/</url>
    <content><![CDATA[<h1 id="ClickHouseç¯‡">ClickHouseç¯‡</h1>
<h2 id="å®‰è£…ClickHouse">å®‰è£…ClickHouse</h2>
<p>ClickHouseæœ‰ä¸­æ–‡æ–‡æ¡£, å®‰è£…ç®€å• -&gt; <a href="https://clickhouse.com/docs/zh" target="_blank" rel="noopener">æ–‡æ¡£</a><br>
å®˜æ–¹æä¾›äº†å››ç§åŒ…çš„å®‰è£…æ–¹å¼, <code>deb/rpm/tgz/docker</code>, è‡ªè¡Œé€‰æ‹©é€‚åˆè‡ªå·±æ“ä½œç³»ç»Ÿçš„å®‰è£…æ–¹å¼<br>
è¿™é‡Œæˆ‘ä»¬é€‰debçš„æ–¹å¼, å…¶ä»–æ–¹å¼çœ‹æ–‡æ¡£</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo apt-get install -y apt-transport-https ca-certificates dirmngr</span><br><span class="line">sudo apt-key adv --keyserver hkp:&#x2F;&#x2F;keyserver.ubuntu.com:80 --recv 8919F6BD2B48D754</span><br><span class="line"></span><br><span class="line">echo &quot;deb https:&#x2F;&#x2F;packages.clickhouse.com&#x2F;deb stable main&quot; | sudo tee \</span><br><span class="line">    &#x2F;etc&#x2F;apt&#x2F;sources.list.d&#x2F;clickhouse.list</span><br><span class="line">sudo apt-get update</span><br><span class="line"></span><br><span class="line">sudo apt-get install -y clickhouse-server clickhouse-client</span><br></pre></td></tr></table></figure>
<p>åˆ°è¿™é‡Œå…ˆä¸æ…Œç€å¯åŠ¨, æ”¹ä¸€æ³¢é…ç½®<br>
æœåŠ¡ç«¯é…ç½®é»˜è®¤åœ°å€åœ¨<code>/etc/clickhouse-server</code><br>
å°½é‡ä¸è¦ç›´æ¥ä¿®æ”¹config.xml, è€Œæ˜¯åœ¨config.då­ç›®å½•ä¸­æ–°å»ºé…ç½®æ–‡ä»¶, æ˜“äºç»´æŠ¤å’Œå‡çº§, æ–‡ä»¶åéšæ„ä½†ä¼šæŒ‰å­—æ¯é¡ºåºç”Ÿæ•ˆ<br>
<strong>ä¸€äº›ç®€å•é…ç½®:</strong></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;clickhouse&gt;</span><br><span class="line">  &lt;listen_host&gt;::&lt;&#x2F;listen_host&gt; # æ‰“å¼€è¿œç¨‹è®¿é—®</span><br><span class="line">  &lt;path&gt;xxx&lt;&#x2F;path&gt; # è¡¨æ•°æ®å­˜å‚¨è·¯å¾„</span><br><span class="line">  &lt;tmp_path&gt;xxxx&lt;&#x2F;tmp_path&gt; # ä¸€äº›ä¸´æ—¶æ•°æ®</span><br><span class="line">  &lt;max_server_memory_usage&gt;21474836480&lt;&#x2F;max_server_memory_usage&gt; # æœåŠ¡å™¨è¿›ç¨‹çš„æœ€å¤§å†…å­˜ä½¿ç”¨é‡, æ ¹æ®è‡ªå·±æƒ…å†µè®¾ç½®</span><br><span class="line">  &lt;logger&gt;</span><br><span class="line">      &lt;level&gt;warning&lt;&#x2F;level&gt; # æ—¥å¿—çº§åˆ«</span><br><span class="line">      &lt;log&gt;xxx&lt;&#x2F;log&gt; # æ—¥å¿—è·¯å¾„</span><br><span class="line">      &lt;errorlog&gt;xxx&lt;&#x2F;errorlog&gt; # é”™è¯¯æ—¥å¿—è·¯å¾„</span><br><span class="line">  &lt;&#x2F;logger&gt;</span><br><span class="line">&lt;&#x2F;clickhouse&gt;</span><br></pre></td></tr></table></figure>
<p>é…ç½®å®Œ, å¯åŠ¨æœåŠ¡</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo service clickhouse-server start</span><br><span class="line">clickhouse-client # or &quot;clickhouse-client --password&quot; if you&#39;ve set up a password.</span><br></pre></td></tr></table></figure>
<h2 id="å»ºè¡¨">å»ºè¡¨</h2>
<p>å¤§éƒ¨åˆ†æ“ä½œå’Œmysqlå·®ä¸å¤š<br>
ä¸è¿‡ClickHouseæœ‰ä¸€å¥—è‡ªå·±çš„å­—æ®µç±»å‹, ç®€å•å»ºä¸€ä¸ªè¡¨</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE test</span><br><span class="line">(</span><br><span class="line">    &#96;column1&#96; Date, # æ—¥æœŸç±»å‹</span><br><span class="line">    &#96;column2&#96; FixedString(7), # å›ºå®šé•¿åº¦å­—ç¬¦ä¸²</span><br><span class="line">    &#96;column3&#96; UInt32, # æ— ç¬¦å·intç±»å‹</span><br><span class="line">    &#96;column4&#96; Nullable(String), # å¯ä¸ºç©ºå­—ç¬¦ä¸²</span><br><span class="line">    &#96;column5&#96; Float64 # æµ®ç‚¹æ•°</span><br><span class="line">)</span><br><span class="line">ENGINE &#x3D; MergeTree()</span><br><span class="line">order by column1</span><br></pre></td></tr></table></figure>
<p>æ›´å¤šå­—æ®µç±»å‹ä»¥åŠä¸åŒengineçš„ä½œç”¨è¯¦è§æ–‡æ¡£</p>
<h2 id="PySparkå†™å…¥ClickHouse">PySparkå†™å…¥ClickHouse</h2>
<p>sparkå†™å…¥ClickHouseè¿˜æ˜¯å¾ˆæ–¹ä¾¿çš„<br>
éœ€è¦ä¸‹è½½ä¸€ä¸ªæ–°çš„é©±åŠ¨åŒ…, æ”¾åˆ°æ¯ä¸ªworkerèŠ‚ç‚¹çš„jarsç›®å½•ä¸‹ -&gt; <a href="https://github.com/ClickHouse/clickhouse-java" target="_blank" rel="noopener">å®˜æ–¹jdbcé©±åŠ¨</a><br>
ç›®å‰æ˜¯ <code>clickhouse-jdbc-0.4.6.jar</code></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">properties &#x3D; &#123;&#39;driver&#39;: &#39;com.clickhouse.jdbc.ClickHouseDriver&#39;,</span><br><span class="line">                  &quot;socket_timeout&quot;: &quot;300000&quot;,</span><br><span class="line">                  &quot;rewriteBatchedStatements&quot;: &quot;true&quot;,</span><br><span class="line">                  &quot;batchsize&quot;: &quot;1000000&quot;,</span><br><span class="line">                  &quot;numPartitions&quot;: &quot;8&quot;,</span><br><span class="line">                  &#39;user&#39;: &#39;default&#39;,</span><br><span class="line">                  &#39;password&#39;: &#39;123456&#39;, # é…ç½®è‡ªå·±çš„ç”¨æˆ·åå¯†ç </span><br><span class="line">                  &#39;isolationLevel&#39;: &#39;NONE&#39;</span><br><span class="line">                  &#125;</span><br><span class="line"></span><br><span class="line">df &#x3D; spark.read.parquet(&#39;xx&#39;) # è¯»ä¸€ä¸ªdf, æ³¨æ„schemaå’Œè¡¨ç»“æ„ä¸€è‡´</span><br><span class="line">df.write.jdbc(url&#x3D;&#39;jdbc:clickhouse:&#x2F;&#x2F;æœåŠ¡å™¨ip:8123&#x2F;æ•°æ®åº“å&#39;, table&#x3D;&#39;è¡¨å&#39;, mode&#x3D;&#39;append&#39;, properties&#x3D;properties)</span><br></pre></td></tr></table></figure>
<p>ä¸æƒ³è¦ç›‘æ§å¯ä»¥çœç•¥ä»¥ä¸‹æ­¥éª¤, æœ¬ç¯‡åˆ°æ­¤ç»“æŸ</p>
<h2 id="ç›‘æ§">ç›‘æ§</h2>
<p>ClickHouseè‡ªå¸¦å„ç§ç»Ÿè®¡è¡¨éƒ½å­˜åœ¨systemåº“é‡Œ, æˆ‘ä»¬éœ€è¦ä¸€ä¸ªå¯è§†åŒ–å¹³å°æ¥å…¥ä¸€ä¸‹æ¯”å¦‚Grafana</p>
<p>é€‰æ‹©é€‚åˆè‡ªå·±çš„ç‰ˆæœ¬ä¸‹è½½ -&gt; <a href="https://grafana.com/grafana/download?pg=get&amp;platform=linux&amp;plcmt=selfmanaged-box1-cta1" target="_blank" rel="noopener">å®˜ç½‘ä¸‹è½½åœ°å€</a><br>
ä»¥åŠæœ‰å…¶ä»–é—®é¢˜å¯ä»¥ç¿»é˜…æ–‡æ¡£ -&gt; <a href="https://grafana.com/docs/grafana/latest/" target="_blank" rel="noopener">å®˜æ–¹æ–‡æ¡£</a><br>
ä¸‹è½½åè§£å‹, Grafanaä¸­é»˜è®¤æ•°æ®æºæ˜¯æ²¡æœ‰ClickHouseçš„, éœ€è¦è£…ä¸€ä¸ªæ‰©å±• -&gt; <a href="https://grafana.com/grafana/plugins/vertamedia-clickhouse-datasource/?tab=installation" target="_blank" rel="noopener">åœ°å€</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">grafana-cli --pluginsDir&#x3D;å¯æŒ‡å®šå®‰è£…è·¯å¾„ plugins install vertamedia-clickhouse-datasource</span><br></pre></td></tr></table></figure>
<p>ä¸éœ€è¦ä»€ä¹ˆé…ç½®ç›´æ¥<code>./bin/grafana server</code>å³å¯å¯åŠ¨, ä¸è¿‡å»ºè®®æ”¹ä¸€ä¸‹webé¡µé¢çš„ç«¯å£, é»˜è®¤æ˜¯3000, ä¼šå’Œåé¢çš„metabaseå†²çª<br>
é…ç½®æ–‡ä»¶åœ¨<code>conf/defaults.ini</code>, æ¯”å¦‚ä¿®æ”¹<code>http_port=2999</code><br>
ç„¶ååœ¨æµè§ˆå™¨è®¿é—®é¡µé¢, é»˜è®¤è´¦æˆ·å¯†ç <strong>admin, admin</strong></p>
<p>è¿›æ¥ä»¥åé€‰Data source<br>
<img src="http://www.wangdanpeng.com/img/20230811154946_1.png" alt="1"></p>
<p>æ·»åŠ æ•°æ®æº, æœClickHouse, ç„¶åæŒ‰å›¾æ”¹åå­—, å¡«ip, å¡«è´¦å·å¯†ç , ç„¶åä¿å­˜å³å¯<br>
<img src="http://www.wangdanpeng.com/img/20230811154946_2.png" alt="2"></p>
<p>ä¸‹ä¸€æ­¥ç›´æ¥å¯¼å…¥ä¸€ä¸ªç°æˆçš„ClickHouseä»ªè¡¨ç›˜ -&gt; <a href="https://grafana.com/grafana/dashboards/13606-clickhouse-performance-monitor-xm-uat/" target="_blank" rel="noopener">åœ°å€</a><br>
<strong>çœæµ, DashboardID: 13606</strong></p>
<p>é¡µé¢å³ä¸Šè§’ç‚¹å‡» import dashboard<br>
<img src="http://www.wangdanpeng.com/img/20230811154946_3.png" alt="3"></p>
<p>å¡«å…¥dashboardID, ç‚¹å‡»å³ä¾§load<br>
<img src="http://www.wangdanpeng.com/img/20230811154946_4.png" alt="4"></p>
<p>ç„¶åé€‰æ‹©åˆšæ·»åŠ çš„æ•°æ®æº, å¯¼å…¥å³å¯</p>
<p>å›¾è¡¨å¾ˆå¤š, ä¸ä¸€ä¸€å±•ç¤ºäº†, è‡³æ­¤ç›‘æ§å®‰è£…å®Œæ¯•<br>
<img src="http://www.wangdanpeng.com/img/20230811154946_5.png" alt="5"></p>
]]></content>
      <categories>
        <category>æ•°æ®åˆ†æ</category>
      </categories>
      <tags>
        <tag>å¤§æ•°æ®</tag>
        <tag>ClickHouse</tag>
        <tag>Metabase</tag>
      </tags>
  </entry>
</search>
